import{r as x,j as e,m as k,t as Ws,c as Ks,a as Ns,S as vs,T as oe,U as pe,b as ee,C as Ys,d as Zs,e as ae,I as _e,f as Ee,g as he,h as G,X as me,A as L,E as ys,i as ss,k as re,l as Qe,B as ws,n as Cs,o as ea,p as Re,R as as,q as ge,s as Pe,u as Ke,v as es,w as Ss,x as Ge,y as sa,z as aa,D as ta,F as ra,G as la,H as ia,J as na,P as oa,O as ca,K as Le,L as ns,M as Fe,N as Te,Q as os,V as ce,W as le,Y as cs,Z as He,_ as ks,$ as Ps,a0 as we,a1 as Rs,a2 as Ye,a3 as Ts,a4 as ds,a5 as ms,a6 as da,a7 as $,a8 as xe,a9 as Y,aa as ma,ab as xa,ac as ha,ad as ua,ae as pa,af as Ds,ag as ga,ah as ba,ai as ja,aj as fa,ak as Na,al as va,am as ya,an as wa,ao as Ca,ap as Sa,aq as qe,ar as $s,as as be,at as ts,au as As,av as ka,aw as Pa,ax as je,ay as Ra,az as ze,aA as Is,aB as Ta,aC as Da,aD as $a,aE as Ve,aF as Aa,aG as Ia,aH as Ba,aI as Ea,aJ as La,aK as Je,aL as Ie,aM as Bs,aN as Xe,aO as Fa,aP as za,aQ as Va,aR as Ma,aS as Ua,aT as Oa,aU as _a,aV as qa,aW as Xa,aX as Qa,aY as Ga,aZ as Ha,a_ as Ja,a$ as Wa,b0 as Ka,b1 as Ya,b2 as Za,b3 as et,b4 as st,b5 as at}from"./vendor-B6U0-0z0.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))t(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function l(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(a){if(a.ep)return;a.ep=!0;const o=l(a);fetch(a.href,o)}})();const tt=({onComplete:s})=>{const[i,l]=x.useState(0);return x.useEffect(()=>{setTimeout(()=>l(1),100),setTimeout(()=>{s()},2e3)},[s]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center",children:e.jsxs(k.div,{initial:{scale:0,opacity:0},animate:{scale:i,opacity:1},transition:{type:"spring",stiffness:300,damping:20,duration:.8},className:"text-center",children:[e.jsxs("div",{className:"relative mb-8",children:[e.jsx("div",{className:"w-24 h-24 mx-auto bg-gradient-to-r from-green-500 to-blue-500 rounded-3xl flex items-center justify-center shadow-2xl",children:e.jsx("span",{className:"text-3xl font-bold text-white",children:"S"})}),e.jsx(k.div,{initial:{scale:.8,opacity:0},animate:{scale:1.2,opacity:0},transition:{duration:1.5,repeat:1/0,ease:"easeOut"},className:"absolute inset-0 w-24 h-24 mx-auto border-2 border-green-500 rounded-3xl"})]}),e.jsx(k.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.6},className:"text-4xl font-bold text-white mb-2",children:"Swapin"}),e.jsx(k.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5,duration:.6},className:"text-gray-400 text-lg",children:"Modernos por natureza, invencíveis por opção"}),e.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:.3},className:"flex justify-center space-x-2 mt-8",children:[0,1,2].map(t=>e.jsx(k.div,{animate:{y:[0,-10,0],opacity:[.3,1,.3]},transition:{duration:1,repeat:1/0,delay:t*.2},className:"w-2 h-2 bg-green-500 rounded-full"},t))})]})})};function U(...s){return Ws(Ks(s))}const rs=Ns("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function g({className:s,variant:i,size:l,asChild:t=!1,...a}){const o=t?vs:"button";return e.jsx(o,{"data-slot":"button",className:U(rs({variant:i,size:l,className:s})),...a})}const rt=({onGetStarted:s,onLogin:i})=>e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex flex-col",children:[e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-6 py-12 mt-[0px] mr-[0px] mb-[-57px] ml-[0px]",children:[e.jsx(k.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.6},className:"mb-8",children:e.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-green-500 to-blue-500 rounded-3xl flex items-center justify-center shadow-2xl",children:e.jsx("span",{className:"text-2xl font-bold text-white",children:"S"})})}),e.jsx(k.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.6},className:"text-4xl font-bold text-white text-center mb-4",children:"Bem-vindo ao Swapin"}),e.jsx(k.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.6},className:"text-xl text-gray-300 text-center mb-12 max-w-md",children:"Sua plataforma para transações globais peer-to-peer, acesso justo ao crédito e integração perfeita com crypto"}),e.jsxs(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.6},className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12 max-w-4xl",children:[e.jsxs("div",{className:"backdrop-blur-md bg-white/10 border border-white/20 rounded-2xl p-6 text-center",children:[e.jsx(oe,{className:"w-8 h-8 text-green-400 mx-auto mb-3"}),e.jsx("h3",{className:"text-white font-semibold mb-2",children:"Investimentos P2P"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Conecte-se diretamente com tomadores e aumente seus rendimentos"})]}),e.jsxs("div",{className:"backdrop-blur-md bg-white/10 border border-white/20 rounded-2xl p-6 text-center",children:[e.jsx(pe,{className:"w-8 h-8 text-blue-400 mx-auto mb-3"}),e.jsx("h3",{className:"text-white font-semibold mb-2",children:"Pools Automatizadas"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Diversifique automaticamente com nosso sistema inteligente"})]}),e.jsxs("div",{className:"backdrop-blur-md bg-white/10 border border-white/20 rounded-2xl p-6 text-center",children:[e.jsx(ee,{className:"w-8 h-8 text-purple-400 mx-auto mb-3"}),e.jsx("h3",{className:"text-white font-semibold mb-2",children:"Blockchain Seguro"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Transações seguras e transparentes com tecnologia blockchain"})]})]})]}),e.jsxs(k.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6,duration:.6},className:"px-6 pb-8 space-y-3",children:[e.jsx(g,{onClick:s,className:"w-full bg-green-600 hover:bg-green-700 text-white py-4 text-lg font-semibold rounded-2xl",children:"Criar Conta"}),e.jsx(g,{onClick:i,variant:"outline",className:"w-full border-white/30 bg-transparent text-white hover:bg-white/10 hover:border-white/50 py-4 text-lg rounded-2xl",children:"Já tenho conta"})]})]});function V({className:s,type:i,...l}){return e.jsx("input",{type:i,"data-slot":"input",className:U("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...l})}function Es({className:s,...i}){return e.jsx(Ys,{"data-slot":"checkbox",className:U("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...i,children:e.jsx(Zs,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:e.jsx(ae,{className:"size-3.5"})})})}const xs="",hs=s=>({id:s.user_id,name:s.full_name,email:s.email,phone:s.phone,profileType:s.profile_type?.toLowerCase()??"borrower",userType:s.user_type?.toLowerCase(),isVerified:s.kyc_approved,score:s.credit_score,kycStatus:s.kycStatus||"pending",scoreLevel:s.scoreLevel||"Bronze",avatar:s.avatar||void 0}),Ls=x.createContext(void 0),de=()=>{const s=x.useContext(Ls);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s},lt=({children:s})=>{const[i,l]=x.useState(null),[t,a]=x.useState(!0);x.useEffect(()=>{const c=localStorage.getItem("swapin_user");c&&l(JSON.parse(c)),a(!1)},[]);const o=async(c,j)=>{a(!0),console.log("[useAuth] Iniciando login...");try{const b=await fetch(`${xs}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,password:j})});if(!b.ok){const N=await b.json();throw console.error("[useAuth] Erro no login:",N),new Error(N.detail||"Erro ao fazer login")}const m=await b.json();console.log("[useAuth] Login bem-sucedido:",m);const f=hs(m.user);localStorage.setItem("swapin_user",JSON.stringify(f)),localStorage.setItem("tokens",JSON.stringify(m.tokens)),l(f)}catch(b){throw console.error("[useAuth] Erro ao fazer login:",b),b}finally{a(!1)}},r=async c=>{a(!0),console.log("[useAuth] Iniciando registro...");try{const j=await fetch(`${xs}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!j.ok){const f=await j.json();throw console.error("[useAuth] Erro no registro:",f),new Error(f.detail||"Erro ao registrar usuário")}const b=await j.json();console.log("[useAuth] Registro bem-sucedido:",b);const m=hs(b.user);localStorage.setItem("swapin_user",JSON.stringify(m)),localStorage.setItem("tokens",JSON.stringify(b.tokens)),l(m)}catch(j){throw console.error("[useAuth] Erro ao registrar:",j),j}finally{a(!1)}},n=()=>{console.log("[useAuth] Realizando logout..."),l(null),localStorage.removeItem("swapin_user"),localStorage.removeItem("tokens")};return e.jsx(Ls.Provider,{value:{user:i,isLoading:t,login:o,register:r,logout:n},children:s})},Fs=x.createContext(void 0),zs=()=>{const s=x.useContext(Fs);if(!s)throw new Error("useToast must be used within a ToastProvider");return s},it=({children:s})=>{const[i,l]=x.useState([]),t=x.useCallback(o=>{const r=Math.random().toString(36).substr(2,9),n={...o,id:r};l(c=>[...c,n]),setTimeout(()=>{l(c=>c.filter(j=>j.id!==r))},4e3)},[]),a=x.useCallback(o=>{l(r=>r.filter(n=>n.id!==o))},[]);return e.jsxs(Fs.Provider,{value:{toasts:i,addToast:t,removeToast:a},children:[s,e.jsx(nt,{})]})},nt=()=>{const{toasts:s,removeToast:i}=zs();return s.length===0?null:e.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-sm",children:s.map(l=>e.jsx(ot,{toast:l,onClose:()=>i(l.id)},l.id))})},ot=({toast:s,onClose:i})=>{const l={success:G,error:he,warning:Ee,info:_e},t={success:"border-green-500/50 bg-green-500/10 text-green-400",error:"border-red-500/50 bg-red-500/10 text-red-400",warning:"border-yellow-500/50 bg-yellow-500/10 text-yellow-400",info:"border-blue-500/50 bg-blue-500/10 text-blue-400"},a=l[s.type];return e.jsx("div",{className:`backdrop-blur-md border rounded-2xl p-4 shadow-lg transition-all duration-300 animate-in slide-in-from-right ${t[s.type]}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(a,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium",children:s.title}),s.description&&e.jsx("p",{className:"text-sm opacity-80 mt-1",children:s.description})]}),e.jsx("button",{onClick:i,className:"text-white/60 hover:text-white/90 transition-colors",children:e.jsx(me,{className:"w-4 h-4"})})]})})},ct=({size:s="md",className:i=""})=>{const l={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return e.jsx("div",{className:`animate-spin rounded-full border-2 border-gray-300 border-t-green-500 ${l[s]} ${i}`})},dt=({onBack:s,onSuccess:i,onForgotPassword:l})=>{const{login:t,isLoading:a}=de(),{addToast:o}=zs(),[r,n]=x.useState({email:"",password:"",rememberMe:!1}),[c,j]=x.useState(!1),[b,m]=x.useState({}),f=()=>{const u={};return r.email?/\S+@\S+\.\S+/.test(r.email)||(u.email="Email inválido"):u.email="Email é obrigatório",r.password||(u.password="Senha é obrigatória"),m(u),Object.keys(u).length===0},N=async u=>{if(u.preventDefault(),!!f())try{await t(r.email,r.password),o({type:"success",title:"Login realizado com sucesso!",description:"Bem-vindo de volta ao Swapin"}),i()}catch{o({type:"error",title:"Erro no login",description:"Email ou senha incorretos"})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6",children:[e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(L,{className:"w-6 h-6"})}),e.jsx("h1",{className:"text-xl font-semibold text-white",children:"Entrar"}),e.jsx("div",{className:"w-6"})]}),e.jsx("div",{className:"flex-1 px-6 py-8",children:e.jsxs(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6},className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Que bom te ver novamente!"}),e.jsx("p",{className:"text-gray-400",children:"Entre com sua conta para continuar"})]}),e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),e.jsx(V,{type:"email",value:r.email,onChange:u=>n(w=>({...w,email:u.target.value})),placeholder:"seu@email.com",className:`bg-gray-800 border-2 text-white placeholder-gray-400 focus:ring-2 focus:ring-green-500/50 ${b.email?"border-red-500":"border-gray-600"}`}),b.email&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:b.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(V,{type:c?"text":"password",value:r.password,onChange:u=>n(w=>({...w,password:u.target.value})),placeholder:"Sua senha",className:`bg-gray-800 border-2 text-white placeholder-gray-400 focus:ring-2 focus:ring-green-500/50 pr-12 ${b.password?"border-red-500":"border-gray-600"}`}),e.jsx("button",{type:"button",onClick:()=>j(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:c?e.jsx(ys,{className:"w-5 h-5"}):e.jsx(ss,{className:"w-5 h-5"})})]}),b.password&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:b.password})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Es,{id:"remember",checked:r.rememberMe,onCheckedChange:u=>n(w=>({...w,rememberMe:u}))}),e.jsx("label",{htmlFor:"remember",className:"text-sm text-gray-300",children:"Lembrar-me"})]}),e.jsx("button",{type:"button",onClick:l,className:"text-sm text-green-400 hover:text-green-300 transition-colors",children:"Esqueci minha senha"})]}),e.jsxs(g,{type:"submit",disabled:a,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-green-600/50 text-white py-3 rounded-xl transition-colors flex items-center justify-center gap-2",children:[a&&e.jsx(ct,{size:"sm"}),a?"Entrando...":"Entrar"]})]})]})})]})},mt=({selectedProfile:s,onSelect:i})=>{const l=[{id:"borrower",title:"Preciso de crédito",description:"Solicite empréstimos com taxas justas e aprovação rápida",icon:re,color:"from-green-500 to-emerald-600",benefits:["Aprovação em minutos","Taxas competitivas","Score gamificado","Sem burocracia"]},{id:"lender",title:"Quero investir",description:"Invista diretamente em pessoas e empresas com segurança",icon:oe,color:"from-blue-500 to-purple-600",benefits:["Rendimentos atrativos","Diversificação automática","Investimento global","Transparência total"]}];return e.jsxs("div",{className:"px-6 py-8 h-full flex flex-col",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Como você pretende usar o Swapin?"}),e.jsx("p",{className:"text-gray-400 text-lg",children:"Escolha o perfil que melhor se adequa aos seus objetivos"})]}),e.jsx("div",{className:"flex-1 flex flex-col gap-6 max-w-md mx-auto w-full",children:l.map((t,a)=>e.jsxs(k.button,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:a*.1,duration:.6},onClick:()=>i(t.id),className:`
              relative p-6 rounded-3xl border-2 transition-all duration-300 text-left
              ${s===t.id?"border-green-500 bg-green-500/10":"border-gray-600 hover:border-gray-500 bg-gray-800/50"}
            `,children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-2xl bg-gradient-to-r ${t.color} flex items-center justify-center`,children:e.jsx(t.icon,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:t.title}),e.jsx("p",{className:"text-gray-400 text-sm",children:t.description})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.benefits.map((o,r)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-green-400 rounded-full"}),e.jsx("span",{className:"text-gray-300 text-sm",children:o})]},r))}),s===t.id&&e.jsx(k.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-4 right-4 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]},t.id))}),e.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-center mt-8",children:e.jsx("p",{className:"text-gray-500 text-sm",children:"💡 Você poderá alterar seu perfil depois, se necessário"})})]})},xt=({profileType:s,selectedType:i,onSelect:l,onSkip:t})=>{if(s==="lender")return t(),null;const a=[{id:"individual",title:"Autônomo",description:"Trabalho por conta própria ou tenho renda variável",icon:Qe,color:"from-green-500 to-emerald-600"},{id:"employee",title:"CLT/Assalariado",description:"Tenho carteira assinada ou renda fixa mensal",icon:ws,color:"from-blue-500 to-cyan-600"},{id:"company",title:"Empresa",description:"Represento uma pessoa jurídica",icon:Cs,color:"from-purple-500 to-pink-600"}];return e.jsxs("div",{className:"px-6 py-8 h-full flex flex-col",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Qual é o seu perfil?"}),e.jsx("p",{className:"text-gray-400 text-lg",children:"Isso nos ajuda a personalizar sua experiência"})]}),e.jsx("div",{className:"flex-1 flex flex-col gap-4 max-w-md mx-auto w-full",children:a.map((o,r)=>e.jsxs(k.button,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{delay:r*.1,duration:.6},onClick:()=>l(o.id),className:`
              relative p-6 rounded-2xl border-2 transition-all duration-300 text-left
              ${i===o.id?"border-green-500 bg-green-500/10":"border-gray-600 hover:border-gray-500 bg-gray-800/50"}
            `,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-r ${o.color} flex items-center justify-center`,children:e.jsx(o.icon,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:o.title}),e.jsx("p",{className:"text-gray-400 text-sm",children:o.description})]})]}),i===o.id&&e.jsx(k.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-4 right-4 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]},o.id))}),i&&e.jsx(k.button,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},onClick:()=>l(i),className:"mt-8 w-full bg-green-600 hover:bg-green-700 text-white py-4 rounded-2xl font-semibold transition-colors",children:"Continuar"})]})},us={cpf:{pattern:/(\d{3})(\d{3})(\d{3})(\d{2})/,format:"$1.$2.$3-$4",placeholder:"000.000.000-00",maxLength:14},cnpj:{pattern:/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,format:"$1.$2.$3/$4-$5",placeholder:"00.000.000/0000-00",maxLength:18},phone:{pattern:/(\d{2})(\d{5})(\d{4})/,format:"($1) $2-$3",placeholder:"(00) 00000-0000",maxLength:15},currency:{pattern:/(\d+)(\d{2})/,format:"R$ $1,$2",placeholder:"R$ 0,00",maxLength:20},money:{pattern:/(\d+)(\d{2})/,format:"R$ $1,$2",placeholder:"R$ 0,00",maxLength:20},date:{pattern:/(\d{2})(\d{2})(\d{4})/,format:"$1/$2/$3",placeholder:"DD/MM/AAAA",maxLength:10},usd:{pattern:/(\\d+)(\\d{2})/,format:"$ $1.$2",placeholder:"$ 0.00",maxLength:20},creditCard:{pattern:/(\\d{4})(\\d{4})(\\d{4})(\\d{4})/,format:"$1 $2 $3 $4",placeholder:"0000 0000 0000 0000",maxLength:19},expiryDate:{pattern:/(\\d{2})(\\d{2})/,format:"$1/$2",placeholder:"MM/YY",maxLength:5},cvv:{pattern:/(\\d{3,4})/,format:"$1",placeholder:"000",maxLength:4}},Q=x.forwardRef(({mask:s,value:i="",onChange:l,isValid:t,className:a="",placeholder:o,currency:r="BRL",...n},c)=>{const[j,b]=x.useState(i),m=us[s];if(!m)return console.error(`Invalid mask type: ${s}`),e.jsx(V,{...n,ref:c,value:i,onChange:T=>l?.(T.target.value),placeholder:o,className:a});const f=T=>{const h=T.replace(/\D/g,"");if(s==="currency"||s==="money"){if(h==="")return"";if(r==="BRL"){if(h.length<=2)return`R$ 0,${h.padStart(2,"0")}`;const d=h.slice(-2).padStart(2,"0"),v=h.slice(0,-2)||"0";return`R$ ${parseInt(v).toLocaleString("pt-BR")},${d}`}else if(r==="USD"||r==="USDC"){if(h.length<=2)return`$ 0.${h.padStart(2,"0")}`;const d=h.slice(-2),v=h.slice(0,-2);return`$ ${parseInt(v).toLocaleString("en-US")}.${d}`}}if(s==="usd"){if(h==="")return"";if(h.length<=2)return`$ 0.${h.padStart(2,"0")}`;const d=h.slice(-2),v=h.slice(0,-2);return`$ ${parseInt(v).toLocaleString("en-US")}.${d}`}if(h.length===0)return"";if(s==="creditCard")return h.length<=4?h:h.length<=8?`${h.slice(0,4)} ${h.slice(4)}`:h.length<=12?`${h.slice(0,4)} ${h.slice(4,8)} ${h.slice(8)}`:`${h.slice(0,4)} ${h.slice(4,8)} ${h.slice(8,12)} ${h.slice(12,16)}`;if(s==="expiryDate")return h.length<=2?h:`${h.slice(0,2)}/${h.slice(2,4)}`;if(s==="cvv")return h.slice(0,4);if(s==="cpf"&&h.length>11){const d=us.cnpj;if(d&&d.pattern){const v=h.match(d.pattern);if(v)return d.format.replace(/\$(\d+)/g,(C,y)=>v[parseInt(y)]||"")}}if(m.pattern){const d=h.match(new RegExp(m.pattern.source));if(d)return m.format.replace(/\$(\d+)/g,(v,C)=>d[parseInt(C)]||"")}return h},N=T=>{const h=T.target.value,d=f(h);b(d),l?.(d)},u=t===void 0?"border-gray-600":t?"border-green-500":"border-red-500",w=()=>(s==="currency"||s==="money")&&r?r==="BRL"?"R$ 0,00":"$ 0.00":o||m.placeholder;return e.jsx(ea,{mask:w(),value:j,onChange:N,maskChar:"",children:T=>e.jsx(V,{...n,ref:c,...T,value:j,onChange:N,placeholder:w(),maxLength:m.maxLength,className:`bg-gray-800 border-2 ${u} text-white placeholder-gray-400 focus:ring-2 focus:ring-green-500/50 ${a}`})})});Q.displayName="MaskedInput";const ht=({data:s={name:"",email:"",password:"",phone:"",cpf_cnpj:"",document_type:"CPF",date_of_birth:""},onUpdate:i,onNext:l})=>{const{register:t}=de(),[a,o]=x.useState(!1),[r,n]=x.useState({name:!1,email:!1,password:!1,phone:!1,cpf_cnpj:!1}),[c,j]=x.useState(0),b=y=>y.length>=3,m=y=>/\S+@\S+\.\S+/.test(y),f=y=>{let D=0;return y.length>=8&&D++,/[A-Z]/.test(y)&&D++,/[0-9]/.test(y)&&D++,/[^A-Za-z0-9]/.test(y)&&D++,D},N=y=>f(y)>=3,u=y=>y.replace(/\D/g,"").length===11,w=y=>{const D=y.replace(/\D/g,"");if(D.length===11){let E=0,p;for(let P=1;P<=9;P++)E+=parseInt(D.substring(P-1,P))*(11-P);if(p=E*10%11,(p===10||p===11)&&(p=0),p!==parseInt(D.substring(9,10)))return!1;E=0;for(let P=1;P<=10;P++)E+=parseInt(D.substring(P-1,P))*(12-P);return p=E*10%11,(p===10||p===11)&&(p=0),p===parseInt(D.substring(10,11))}else if(D.length===14)return/^[0-9]{14}$/.test(D);return!1};x.useEffect(()=>{n({name:b(s.name||""),email:m(s.email||""),password:N(s.password||""),phone:u(s.phone||""),cpf_cnpj:w(s.cpf_cnpj||"")}),j(f(s.password||""))},[s.name,s.email,s.password,s.phone,s.cpf_cnpj]);const T=Object.values(r).every(Boolean),h=async y=>{if(y.preventDefault(),T)try{const D={...s,profileType:s.profileType.toUpperCase(),userType:s.userType.toUpperCase()};console.log("[BasicInfo] Enviando dados de registro:",D),await t(D),l()}catch(D){console.error("[BasicInfo] Erro ao registrar usuário:",D),alert("Erro ao registrar usuário. Verifique os dados e tente novamente.")}},d=()=>c<=1?"bg-red-500":c===2?"bg-yellow-500":c===3?"bg-blue-500":"bg-green-500",v=()=>c<=1?"Fraca":c===2?"Média":c===3?"Boa":"Forte",C=y=>D=>{typeof i=="function"?i({[y]:D.target.value}):console.error("onUpdate is not a function")};return e.jsxs("div",{className:"px-6 py-8 h-full flex flex-col",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Seus dados básicos"}),e.jsx("p",{className:"text-gray-400 text-lg",children:"Vamos criar sua conta no Swapin"})]}),e.jsxs("form",{onSubmit:h,className:"flex-1 max-w-md mx-auto w-full space-y-6",children:[e.jsxs(k.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1},children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nome completo"}),e.jsxs("div",{className:"relative",children:[e.jsx(V,{type:"text",value:s.name,onChange:C("name"),placeholder:"Seu nome completo",className:`bg-gray-800 border-2 text-white placeholder-gray-400 focus:ring-2 focus:ring-green-500/50 pr-10 ${s.name?r.name?"border-green-500":"border-red-500":"border-gray-600"}`}),s.name&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:r.name?e.jsx(ae,{className:"w-5 h-5 text-green-500"}):e.jsx(me,{className:"w-5 h-5 text-red-500"})})]}),s.name&&!r.name&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:"Nome deve ter pelo menos 3 caracteres"})]}),e.jsxs(k.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(V,{type:"email",value:s.email,onChange:C("email"),placeholder:"seu@email.com",className:`bg-gray-800 border-2 text-white placeholder-gray-400 focus:ring-2 focus:ring-green-500/50 pr-10 ${s.email?r.email?"border-green-500":"border-red-500":"border-gray-600"}`}),s.email&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:r.email?e.jsx(ae,{className:"w-5 h-5 text-green-500"}):e.jsx(me,{className:"w-5 h-5 text-red-500"})})]}),s.email&&!r.email&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:"Email inválido"})]}),e.jsxs(k.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.3},children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(V,{type:a?"text":"password",value:s.password,onChange:C("password"),placeholder:"Crie uma senha segura",className:`bg-gray-800 border-2 text-white placeholder-gray-400 focus:ring-2 focus:ring-green-500/50 pr-10 ${s.password?r.password?"border-green-500":"border-red-500":"border-gray-600"}`}),e.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:a?e.jsx(ys,{className:"w-5 h-5"}):e.jsx(ss,{className:"w-5 h-5"})})]}),s.password&&e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"flex gap-1 mb-1",children:[1,2,3,4].map(y=>e.jsx("div",{className:`h-1 flex-1 rounded ${y<=c?d():"bg-gray-600"}`},y))}),e.jsxs("p",{className:`text-xs ${c>=3?"text-green-400":"text-yellow-400"}`,children:["Senha ",v()]})]}),e.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:[e.jsx("p",{children:"• Mínimo 8 caracteres"}),e.jsx("p",{children:"• Pelo menos 1 letra maiúscula"}),e.jsx("p",{children:"• Pelo menos 1 número"})]})]}),e.jsxs(k.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4},children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Celular"}),e.jsx(Q,{mask:"(99) 99999-9999",value:s.phone,onChange:y=>i({phone:y}),isValid:s.phone?r.phone:void 0}),s.phone&&!r.phone&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:"Número de celular inválido"})]}),e.jsxs(k.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.5},children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"CPF ou CNPJ"}),e.jsx(Q,{mask:s.cpf_cnpj.replace(/\D/g,"").length>11?"99.999.999/9999-99":"999.999.999-99",value:s.cpf_cnpj,onChange:y=>i({cpf_cnpj:y}),isValid:s.cpf_cnpj?r.cpf_cnpj:void 0}),s.cpf_cnpj&&!r.cpf_cnpj&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:"CPF ou CNPJ inválido"})]}),e.jsx(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},className:"pt-4",children:e.jsx(g,{type:"submit",disabled:!T,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white py-4 rounded-2xl font-semibold transition-colors",children:"Continuar"})})]})]})},ut=({phone:s,verificationCode:i,onUpdate:l,onNext:t})=>{const[a,o]=x.useState(["","","","","",""]),[r,n]=x.useState(60),[c,j]=x.useState(!1),[b,m]=x.useState(!1),f=x.useRef([]);x.useEffect(()=>{if(r>0){const h=setTimeout(()=>n(r-1),1e3);return()=>clearTimeout(h)}else j(!0)},[r]),x.useEffect(()=>{const h=a.join("");h.length===6&&(l({verificationCode:h}),w(h))},[a]);const N=(h,d)=>{if(d.length>1)return;const v=[...a];v[h]=d,o(v),d&&h<5&&f.current[h+1]?.focus()},u=(h,d)=>{d.key==="Backspace"&&!a[h]&&h>0&&f.current[h-1]?.focus()},w=async h=>{m(!0),await new Promise(d=>setTimeout(d,1500)),h.length===6&&t(),m(!1)},T=async()=>{j(!1),n(60),o(["","","","","",""]),await new Promise(h=>setTimeout(h,1e3))};return e.jsxs("div",{className:"px-6 py-8 h-full flex flex-col",children:[e.jsx(k.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.6},className:"mx-auto mb-8",children:e.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center",children:e.jsx(Re,{className:"w-10 h-10 text-green-400"})})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Verificação do celular"}),e.jsx("p",{className:"text-gray-400 text-lg",children:"Enviamos um código de 6 dígitos para"}),e.jsx("p",{className:"text-white font-semibold text-lg",children:s})]}),e.jsx(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"flex justify-center gap-3 mb-8",children:a.map((h,d)=>e.jsx("input",{ref:v=>f.current[d]=v,type:"text",inputMode:"numeric",maxLength:1,value:h,onChange:v=>N(d,v.target.value),onKeyDown:v=>u(d,v),className:"w-12 h-12 bg-gray-800 border-2 border-gray-600 focus:border-green-500 text-white text-center text-xl font-semibold rounded-xl transition-colors"},d))}),e.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-center mb-8",children:c?e.jsxs("button",{onClick:T,className:"text-green-400 hover:text-green-300 transition-colors flex items-center gap-2 mx-auto",children:[e.jsx(as,{className:"w-4 h-4"}),"Reenviar código"]}):e.jsxs("p",{className:"text-gray-400",children:["Reenviar código em ",e.jsxs("span",{className:"text-white font-semibold",children:[r,"s"]})]})}),e.jsx(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},className:"mt-auto",children:e.jsx(g,{onClick:()=>w(a.join("")),disabled:a.join("").length!==6||b,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white py-4 rounded-2xl font-semibold transition-colors",children:b?"Verificando...":"Verificar código"})}),e.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"mt-4 p-3 bg-gray-800/50 rounded-xl border border-gray-700",children:e.jsx("p",{className:"text-xs text-gray-400 text-center",children:"💡 Demo: Digite qualquer código de 6 dígitos para continuar"})})]})},pt=({documents:s,onUpdate:i,onNext:l})=>{const[t,a]=x.useState("front"),[o,r]=x.useState({}),[n,c]=x.useState(!1),j=(h,d)=>{if(h){const v=new FileReader;v.onload=C=>{r(y=>({...y,[d]:C.target?.result}))},v.readAsDataURL(h),i({...s,[`${d}Document`]:h})}},b=async h=>{const d=document.createElement("input");d.type="file",d.accept="image/*",d.capture="environment",d.onchange=v=>{const C=v.target.files?.[0];C&&j(C,h)},d.click()},m=h=>{const d=document.createElement("input");d.type="file",d.accept="image/*",d.onchange=v=>{const C=v.target.files?.[0];C&&j(C,h)},d.click()},f=h=>{r(d=>({...d,[h]:void 0})),i({...s,[`${h}Document`]:void 0})},N=async h=>{h==="front"&&!s.backDocument?a("back"):(c(!0),await new Promise(d=>setTimeout(d,2e3)),c(!1),l())},u=()=>t==="front"?o.front:o.back,w=()=>t==="front"?"Frente do documento":"Verso do documento",T=()=>t==="front"?"Posicione a frente do seu RG ou CNH dentro da moldura":"Agora posicione o verso do seu documento";return e.jsxs("div",{className:"px-6 py-8 h-full flex flex-col",children:[e.jsx("div",{className:"flex items-center justify-center mb-8",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${s.frontDocument?"bg-green-500":"bg-gray-600"}`}),e.jsx("div",{className:"w-8 h-0.5 bg-gray-600"}),e.jsx("div",{className:`w-3 h-3 rounded-full ${s.backDocument?"bg-green-500":"bg-gray-600"}`})]})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:w()}),e.jsx("p",{className:"text-gray-400 text-lg",children:T()})]}),e.jsxs(k.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},className:"flex-1 flex flex-col items-center justify-center mb-8",children:[u()?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:u(),alt:"Document preview",className:"w-72 h-48 object-cover rounded-2xl border-2 border-green-500"}),e.jsx("div",{className:"absolute inset-0 bg-black/20 rounded-2xl"}),e.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-3",children:[e.jsxs("button",{onClick:()=>f(t),className:"px-4 py-2 bg-gray-800/80 text-white rounded-xl flex items-center gap-2 hover:bg-gray-700/80 transition-colors",children:[e.jsx(as,{className:"w-4 h-4"}),"Refazer"]}),e.jsxs("button",{onClick:()=>N(t),disabled:n,className:"px-4 py-2 bg-green-600 text-white rounded-xl flex items-center gap-2 hover:bg-green-700 disabled:bg-green-600/50 transition-colors",children:[e.jsx(ae,{className:"w-4 h-4"}),n?"Enviando...":"Confirmar"]})]})]}):e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-72 h-48 bg-gray-800 rounded-2xl border-2 border-dashed border-gray-600 flex items-center justify-center",children:e.jsx(ge,{className:"w-12 h-12 text-gray-400"})}),e.jsx("div",{className:"absolute top-2 left-2 w-6 h-6 border-l-2 border-t-2 border-green-400"}),e.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 border-r-2 border-t-2 border-green-400"}),e.jsx("div",{className:"absolute bottom-2 left-2 w-6 h-6 border-l-2 border-b-2 border-green-400"}),e.jsx("div",{className:"absolute bottom-2 right-2 w-6 h-6 border-r-2 border-b-2 border-green-400"})]}),!u()&&e.jsxs("div",{className:"mt-6 text-center",children:[e.jsx("p",{className:"text-white mb-2",children:"📱 Mantenha o documento dentro da moldura"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Certifique-se de que as informações estão legíveis"})]})]},t),!u()&&e.jsxs(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"space-y-3",children:[e.jsxs(g,{onClick:()=>b(t),className:"w-full bg-green-600 hover:bg-green-700 text-white py-4 rounded-2xl font-semibold transition-colors flex items-center justify-center gap-2",children:[e.jsx(ge,{className:"w-5 h-5"}),"Tirar foto"]}),e.jsxs(g,{onClick:()=>m(t),variant:"outline",className:"w-full border-gray-600 text-white bg-gray-800/50 hover:bg-gray-700 hover:text-white py-4 rounded-2xl font-semibold transition-colors flex items-center justify-center gap-2",children:[e.jsx(Pe,{className:"w-5 h-5"}),"Escolher da galeria"]})]}),n&&e.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl text-center",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-green-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-white",children:"Processando documento..."}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Isso pode levar alguns segundos"})]})})]})},gt=({onComplete:s,onSkip:i})=>{const[l,t]=x.useState("center"),[a,o]=x.useState(0),[r,n]=x.useState(3),c=[{id:"center",title:"Posicione seu rosto",description:"Olhe diretamente para a câmera",icon:Ke,instruction:"Mantenha o rosto centralizado no círculo"},{id:"left",title:"Vire para a esquerda",description:"Vire suavemente a cabeça para a esquerda",icon:L,instruction:"Mostre o lado esquerdo do seu rosto"},{id:"right",title:"Vire para a direita",description:"Agora vire para a direita",icon:es,instruction:"Mostre o lado direito do seu rosto"},{id:"smile",title:"Sorria!",description:"Um sorriso natural para finalizar",icon:Ke,instruction:"Sorria naturalmente olhando para a câmera"}],j=c.find(N=>N.id===l);x.useEffect(()=>{if(l==="processing"){const N=setInterval(()=>{o(u=>u>=100?(clearInterval(N),t("complete"),100):u+10)},200);return()=>clearInterval(N)}},[l]),x.useEffect(()=>{if(l==="complete"){const N=setTimeout(()=>{s({verified:!0,timestamp:new Date().toISOString()})},1e3);return()=>clearTimeout(N)}},[l,s]);const b=()=>{const N=c.findIndex(u=>u.id===l);N<c.length-1?t(c[N+1].id):t("processing")},m=()=>{n(3);const N=setInterval(()=>{n(u=>u<=1?(clearInterval(N),b(),0):u-1)},1e3)},f=()=>{t("center"),o(0)};return l==="processing"?e.jsx("div",{className:"px-6 py-8 h-full flex flex-col items-center justify-center",children:e.jsxs(k.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.6},className:"text-center",children:[e.jsxs("div",{className:"w-24 h-24 mx-auto mb-8 relative",children:[e.jsx("div",{className:"w-24 h-24 border-4 border-gray-600 rounded-full"}),e.jsx(k.div,{className:"absolute inset-0 border-4 border-green-500 rounded-full",style:{clipPath:`polygon(50% 50%, 50% 0%, ${50+a/100*50}% 0%, ${50+a/100*50}% 100%, 50% 100%)`}}),e.jsx("div",{className:"absolute inset-2 bg-green-500/20 rounded-full flex items-center justify-center",children:e.jsx(Ke,{className:"w-8 h-8 text-green-400"})})]}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Processando..."}),e.jsx("p",{className:"text-gray-400 mb-4",children:"Analisando suas características biométricas"}),e.jsxs("p",{className:"text-green-400 font-semibold",children:[a,"%"]})]})}):l==="complete"?e.jsx("div",{className:"px-6 py-8 h-full flex flex-col items-center justify-center",children:e.jsxs(k.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.6},className:"text-center",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-8 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx(k.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3},children:"✓"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Verificação concluída!"}),e.jsx("p",{className:"text-gray-400",children:"Sua identidade foi verificada com sucesso"})]})}):e.jsxs("div",{className:"px-6 py-8 h-full flex flex-col",children:[e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("div",{className:"flex gap-2",children:c.map((N,u)=>e.jsx("div",{className:`w-2 h-2 rounded-full transition-colors ${c.findIndex(w=>w.id===l)>=u?"bg-green-500":"bg-gray-600"}`},N.id))})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Verificação facial"}),e.jsx("p",{className:"text-gray-400 text-lg",children:"Vamos verificar sua identidade de forma segura"})]}),e.jsx("div",{className:"flex-1 flex flex-col items-center justify-center mb-8",children:r>0?e.jsxs(k.div,{initial:{scale:1.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.5,opacity:0},className:"text-center",children:[e.jsx("div",{className:"w-32 h-32 border-4 border-green-500 rounded-full flex items-center justify-center mb-4",children:e.jsx("span",{className:"text-4xl font-bold text-white",children:r})}),e.jsx("p",{className:"text-gray-400",children:"Prepare-se..."})]},r):e.jsxs(k.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},className:"text-center",children:[e.jsx("div",{className:"relative mb-6",children:e.jsxs("div",{className:"w-48 h-48 border-4 border-green-500 rounded-full mx-auto relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-4 bg-green-500/20 rounded-full flex items-center justify-center",children:j&&e.jsx(j.icon,{className:"w-12 h-12 text-green-400"})}),l==="left"&&e.jsx(k.div,{animate:{x:[-10,0,-10]},transition:{duration:2,repeat:1/0},className:"absolute top-1/2 left-4 transform -translate-y-1/2",children:e.jsx(L,{className:"w-6 h-6 text-green-400"})}),l==="right"&&e.jsx(k.div,{animate:{x:[10,0,10]},transition:{duration:2,repeat:1/0},className:"absolute top-1/2 right-4 transform -translate-y-1/2",children:e.jsx(es,{className:"w-6 h-6 text-green-400"})})]})}),j&&e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:j.title}),e.jsx("p",{className:"text-gray-400 mb-1",children:j.description}),e.jsx("p",{className:"text-sm text-gray-500",children:j.instruction})]})]},l)}),e.jsx(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"space-y-3",children:r>0?e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"A verificação iniciará automaticamente"}),i&&e.jsx(g,{onClick:i,variant:"outline",className:"w-full border-gray-600 text-white bg-gray-800/50 hover:bg-gray-700 hover:text-white py-3 rounded-2xl font-medium transition-colors",children:"Pular verificação facial"})]}):e.jsxs(e.Fragment,{children:[e.jsx(g,{onClick:b,className:"w-full bg-green-600 hover:bg-green-700 text-white py-4 rounded-2xl font-semibold transition-colors",children:j?.title==="Sorria!"?"Finalizar":"Próximo"}),e.jsxs(g,{onClick:f,variant:"outline",className:"w-full border-gray-600 text-gray-300 hover:bg-gray-800 hover:text-white py-4 rounded-2xl font-semibold transition-colors flex items-center justify-center gap-2",children:[e.jsx(as,{className:"w-4 h-4"}),"Recomeçar"]})]})}),r===0&&e.jsxs("div",{className:"flex flex-col items-center gap-3 mt-4",children:[e.jsx("button",{onClick:m,className:"text-green-400 hover:text-green-300 text-sm transition-colors",children:"💡 Demo: Iniciar verificação automática"}),i&&e.jsx(g,{onClick:i,variant:"outline",className:"w-full border-gray-600 text-gray-300 hover:bg-gray-800 hover:text-white py-3 rounded-2xl font-medium transition-colors",children:"Pular verificação facial"})]})]})},bt=({userData:s,onComplete:i})=>{const{register:l}=de();x.useEffect(()=>{(async()=>{if(s.profileType&&s.name&&s.email&&s.password&&s.phone)try{await l({name:s.name,email:s.email,password:s.password,phone:s.phone,profileType:s.profileType,userType:s.userType||"individual"})}catch(o){console.error("Registration error:",o)}})()},[s,l]);const t=Array.from({length:50},(a,o)=>({id:o,x:Math.random()*100,delay:Math.random()*2,duration:2+Math.random()*2,color:["#10B981","#3B82F6","#A855F7","#F59E0B"][Math.floor(Math.random()*4)]}));return e.jsxs("div",{className:"px-6 py-8 h-full flex flex-col items-center justify-center relative overflow-hidden",children:[t.map(a=>e.jsx(k.div,{initial:{y:-100,x:`${a.x}%`,rotate:0,opacity:1},animate:{y:800,rotate:360*2,opacity:0},transition:{duration:a.duration,delay:a.delay,ease:"easeOut"},className:"absolute w-2 h-2 rounded-full",style:{backgroundColor:a.color}},a.id)),e.jsxs(k.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:200,damping:15,delay:.2},className:"text-center z-10",children:[e.jsxs("div",{className:"relative mb-8",children:[e.jsx(k.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.3},className:"w-32 h-32 mx-auto bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center shadow-2xl",children:e.jsx(G,{className:"w-16 h-16 text-white"})}),[...Array(8)].map((a,o)=>e.jsx(k.div,{initial:{scale:0,opacity:0},animate:{scale:[0,1,0],opacity:[0,1,0],rotate:[0,180,360]},transition:{duration:2,delay:.5+o*.1,repeat:1/0,repeatDelay:1},className:"absolute",style:{left:`${50+60*Math.cos(o*Math.PI*2/8)}%`,top:`${50+60*Math.sin(o*Math.PI*2/8)}%`,transform:"translate(-50%, -50%)"},children:e.jsx(Ss,{className:"w-4 h-4 text-yellow-400"})},o))]}),e.jsxs(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5,duration:.6},children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Bem-vindo ao Swapin!"}),e.jsxs("p",{className:"text-xl text-gray-300 mb-2",children:["Olá, ",s.name,"! 👋"]}),e.jsx("p",{className:"text-gray-400 mb-8",children:"Sua conta foi criada com sucesso e você já pode começar a usar nossa plataforma"})]}),e.jsx(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7,duration:.6},className:"grid grid-cols-1 gap-4 mb-8 max-w-md",children:s.profileType==="borrower"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-500/10 border border-green-500/20 rounded-xl",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),e.jsx("span",{className:"text-green-400 text-sm",children:"Solicitar empréstimos desbloqueado"})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-500/10 border border-blue-500/20 rounded-xl",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),e.jsx("span",{className:"text-blue-400 text-sm",children:"Score gamificado ativado"})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-purple-500/10 border border-purple-500/20 rounded-xl",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),e.jsx("span",{className:"text-purple-400 text-sm",children:"Carteira digital criada"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-500/10 border border-green-500/20 rounded-xl",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),e.jsx("span",{className:"text-green-400 text-sm",children:"Investimentos P2P desbloqueados"})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-500/10 border border-blue-500/20 rounded-xl",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),e.jsx("span",{className:"text-blue-400 text-sm",children:"Pools automatizadas disponíveis"})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-purple-500/10 border border-purple-500/20 rounded-xl",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),e.jsx("span",{className:"text-purple-400 text-sm",children:"Carteira multi-moeda criada"})]})]})}),e.jsx(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9,duration:.6},children:e.jsx(g,{onClick:i,className:"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white px-8 py-4 rounded-2xl font-semibold text-lg transition-all transform hover:scale-105",children:"Começar a usar o Swapin"})}),e.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.1,duration:.6},className:"mt-8",children:e.jsx("p",{className:"text-gray-500 text-sm italic",children:'"Modernos por natureza, invencíveis por opção"'})})]})]})},Ce=["profile","userType","basicInfo","phoneVerification","kycUpload","biometric","success"],jt=({onBack:s,onComplete:i})=>{const[l,t]=x.useState(0),[a,o]=x.useState({name:"",email:"",password:"",phone:"",cpf_cnpj:"",document_type:"CPF",date_of_birth:""}),{register:r}=de(),n=u=>{o(w=>({...w,...u}))},c=()=>{l<Ce.length-1&&t(u=>u+1)},j=()=>{l>0&&t(u=>u-1)},b=()=>{l===0?s():j()},m=()=>{switch(Ce[l]){case"profile":return e.jsx(mt,{selectedProfile:a.profileType,onSelect:u=>{n({profileType:u}),c()}});case"userType":return e.jsx(xt,{profileType:a.profileType,selectedType:a.userType,onSelect:u=>{n({userType:u}),c()},onSkip:()=>{n({userType:"individual"}),c()}});case"basicInfo":return e.jsx(ht,{data:a,onUpdate:n,onNext:c});case"phoneVerification":return e.jsx(ut,{phone:a.phone,verificationCode:a.verificationCode,onUpdate:n,onNext:c});case"kycUpload":return e.jsx(pt,{documents:a.kycDocuments,onUpdate:u=>n({kycDocuments:u}),onNext:c});case"biometric":return e.jsx(gt,{onComplete:u=>{n({biometricData:u}),c()},onSkip:()=>{n({biometricData:{skipped:!0,timestamp:new Date().toISOString()}}),c()}});case"success":return e.jsx(bt,{userData:a,onComplete:i});default:return null}},f=a.profileType==="borrower",N=f?(l+1)/Ce.length*100:l/(Ce.length-1)*100;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6",children:[e.jsx("button",{onClick:b,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(L,{className:"w-6 h-6"})}),e.jsx("div",{className:"flex-1 mx-4",children:e.jsx("div",{className:"bg-gray-700 rounded-full h-2",children:e.jsx(k.div,{className:"bg-green-500 h-2 rounded-full",initial:{width:0},animate:{width:`${N}%`},transition:{duration:.3}})})}),e.jsxs("span",{className:"text-sm text-gray-400",children:[l+1,"/",f?Ce.length:Ce.length-1]})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(Ge,{mode:"wait",children:e.jsx(k.div,{initial:{x:300,opacity:0},animate:{x:0,opacity:1},exit:{x:-300,opacity:0},transition:{duration:.3},className:"h-full",children:m()},l)})})]})};function R({className:s,...i}){return e.jsx("div",{"data-slot":"card",className:U("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",s),...i})}function ft({...s}){return e.jsx(sa,{"data-slot":"alert-dialog",...s})}function Nt({...s}){return e.jsx(aa,{"data-slot":"alert-dialog-trigger",...s})}function vt({...s}){return e.jsx(oa,{"data-slot":"alert-dialog-portal",...s})}function yt({className:s,...i}){return e.jsx(ca,{"data-slot":"alert-dialog-overlay",className:U("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...i})}function wt({className:s,...i}){return e.jsxs(vt,{children:[e.jsx(yt,{}),e.jsx(ta,{"data-slot":"alert-dialog-content",className:U("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...i})]})}function Ct({className:s,...i}){return e.jsx("div",{"data-slot":"alert-dialog-header",className:U("flex flex-col gap-2 text-center sm:text-left",s),...i})}function St({className:s,...i}){return e.jsx("div",{"data-slot":"alert-dialog-footer",className:U("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...i})}function kt({className:s,...i}){return e.jsx(ra,{"data-slot":"alert-dialog-title",className:U("text-lg font-semibold",s),...i})}function Pt({className:s,...i}){return e.jsx(la,{"data-slot":"alert-dialog-description",className:U("text-muted-foreground text-sm",s),...i})}function Rt({className:s,...i}){return e.jsx(na,{className:U(rs(),s),...i})}function Tt({className:s,...i}){return e.jsx(ia,{className:U(rs({variant:"outline"}),s),...i})}const Vs=x.createContext(void 0),Ms=()=>{const s=x.useContext(Vs);if(!s)throw new Error("useWallet must be used within a WalletProvider");return s},Dt=({children:s})=>{const{user:i}=de(),[l,t]=x.useState({brl:25450,usdc:2100.5,usdt:0,dai:0,btc:.001,eth:.05}),[a,o]=x.useState({brl:25450,usdc:2100.5,usdt:0,dai:0,btc:.001,eth:.05}),[r,n]=x.useState({brl:0,usdc:8420,usdt:0,dai:0,btc:0,eth:0}),[c,j]=x.useState([{id:"1",type:"deposit",amount:1e3,currency:"brl",date:"2024-10-01T10:00:00Z",status:"completed",description:"Depósito via PIX"},{id:"2",type:"loan_received",amount:5e3,currency:"brl",date:"2024-10-01T14:30:00Z",status:"completed",description:"Empréstimo aprovado - Pool Diversificação"},{id:"3",type:"swap",amount:500,currency:"usdc",date:"2024-10-02T09:15:00Z",status:"completed",description:"Conversão BRL → USDC",hash:"0x1234...5678"}]),[b,m]=x.useState(!1),f=async(T,h,d)=>{m(!0),await new Promise(C=>setTimeout(C,2e3));const v={id:Math.random().toString(36).substr(2,9),type:"deposit",amount:T,currency:h,date:new Date().toISOString(),status:"completed",description:`Depósito via ${d}`};j(C=>[v,...C]),t(C=>({...C,[h]:C[h]+T})),o(C=>({...C,[h]:C[h]+T})),m(!1)},N=async(T,h,d,v)=>{m(!0),await new Promise(y=>setTimeout(y,2e3));const C={id:Math.random().toString(36).substr(2,9),type:"withdraw",amount:T,currency:h,date:new Date().toISOString(),status:"completed",description:`Envio via ${d}`};j(y=>[C,...y]),t(y=>({...y,[h]:y[h]-T})),o(y=>({...y,[h]:y[h]-T})),m(!1)},u=async(T,h,d)=>{m(!0),await new Promise(p=>setTimeout(p,1500));const v={"brl-usdc":.2,"usdc-brl":5.015,"brl-usdt":.2,"usdt-brl":5},C=`${T}-${h}`,y=v[C]||1,D=d*y,E={id:Math.random().toString(36).substr(2,9),type:"swap",amount:D,currency:h,date:new Date().toISOString(),status:"completed",description:`Conversão ${T.toUpperCase()} → ${h.toUpperCase()}`,hash:`0x${Math.random().toString(16).substr(2,8)}...${Math.random().toString(16).substr(2,4)}`};j(p=>[E,...p]),t(p=>({...p,[T]:p[T]-d,[h]:p[h]+D})),o(p=>({...p,[T]:p[T]-d,[h]:p[h]+D})),m(!1)},w=async()=>{m(!0),await new Promise(T=>setTimeout(T,1e3)),m(!1)};return e.jsx(Vs.Provider,{value:{balance:l,availableBalance:a,investedBalance:r,transactions:c,isLoading:b,deposit:f,withdraw:N,swap:u,refreshBalance:w},children:s})},Us=()=>{const{user:s}=de(),[i,l]=x.useState([{id:"1",amount:5e3,installments:12,interestRate:18.5,totalAmount:5925,monthlyPayment:493.75,approvalType:"automatic",status:"approved",createdAt:"2024-10-01T10:00:00Z",approvedBy:{type:"pool",name:"Pool Diversificação Brasil",id:"pool-1"}}]),[t,a]=x.useState([{id:"1",creditRequestId:"1",amount:5e3,installments:12,interestRate:18.5,monthlyPayment:493.75,paidInstallments:1,remainingAmount:4506.25,nextPaymentDate:"2024-11-01",status:"active",lender:{type:"pool",name:"Pool Diversificação Brasil",id:"pool-1"},createdAt:"2024-10-01T10:00:00Z"}]),[o,r]=x.useState(!1),n=x.useCallback(async m=>{r(!0);try{await new Promise(N=>setTimeout(N,2e3));const f={...m,id:Math.random().toString(36).substr(2,9),status:"analyzing",createdAt:new Date().toISOString()};l(N=>[f,...N]),(m.approvalType==="automatic"||m.approvalType==="both")&&setTimeout(()=>{if(Math.random()>.3){l(w=>w.map(T=>T.id===f.id?{...T,status:"approved",approvedBy:{type:"pool",name:"Pool Diversificação Brasil",id:"pool-1"}}:T));const u={id:Math.random().toString(36).substr(2,9),creditRequestId:f.id,amount:m.amount,installments:m.installments,interestRate:m.interestRate,monthlyPayment:m.monthlyPayment,paidInstallments:0,remainingAmount:m.totalAmount,nextPaymentDate:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],status:"active",lender:{type:"pool",name:"Pool Diversificação Brasil",id:"pool-1"},createdAt:new Date().toISOString()};a(w=>[u,...w])}else m.approvalType==="both"?l(u=>u.map(w=>w.id===f.id?{...w,status:"pending"}:w)):l(u=>u.map(w=>w.id===f.id?{...w,status:"rejected"}:w))},3e3)}finally{r(!1)}},[]),c=x.useCallback(async(m,f)=>{r(!0);try{await new Promise(N=>setTimeout(N,1500)),a(N=>N.map(u=>{if(u.id===m){const w=u.paidInstallments+1,T=u.remainingAmount-f,h=w>=u.installments;return{...u,paidInstallments:w,remainingAmount:Math.max(0,T),status:h?"completed":u.status,nextPaymentDate:h?"":new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0]}}return u}))}finally{r(!1)}},[]),j=x.useCallback(()=>{const m=s?.score||400;return m>=800?5e4:m>=700?25e3:m>=600?15e3:m>=500?1e4:5e3},[s?.score]),b=x.useCallback(()=>{const m=j(),f=t.filter(N=>N.status==="active").reduce((N,u)=>N+u.remainingAmount,0);return Math.max(0,m-f)},[j,t]);return{creditRequests:i,activeLoans:t,isLoading:o,requestCredit:n,payInstallment:c,getCreditLimit:j,getAvailableCredit:b}},X=({userType:s,activeTab:i,onTabChange:l})=>{const o=s==="borrower"?[{id:"main",label:"Home",icon:Le,color:"text-blue-400"},{id:"request-credit",label:"Crédito",icon:re,color:"text-purple-400"},{id:"deposit",label:"Receber",icon:ns,color:"text-yellow-400"},{id:"withdraw",label:"Enviar",icon:Fe,color:"text-green-400"}]:[{id:"main",label:"Home",icon:Le,color:"text-blue-400"},{id:"opportunities",label:"Investir",icon:Te,color:"text-purple-400"},{id:"deposit",label:"Receber",icon:ns,color:"text-yellow-400"},{id:"withdraw",label:"Enviar",icon:Fe,color:"text-green-400"}];return e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-900/70 backdrop-blur-md border-t border-gray-700 z-50",children:[e.jsx("div",{className:"flex items-center justify-around px-4 py-3 max-w-lg mx-auto",children:o.map(r=>{const n=r.icon,c=i===r.id;return e.jsxs("button",{onClick:()=>l(r.id),className:"flex flex-col items-center gap-1 p-2 rounded-xl transition-all duration-200 min-w-[60px]",children:[e.jsxs(k.div,{className:`relative p-2 rounded-xl transition-all duration-200 ${c?"bg-white/10 scale-110":"hover:bg-white/5"}`,whileTap:{scale:.95},children:[e.jsx(n,{className:`w-5 h-5 transition-colors duration-200 ${c?r.color:"text-gray-400"}`}),c&&e.jsx(k.div,{layoutId:"activeTab",className:"absolute inset-0 rounded-xl border-2 border-white/20",initial:!1,transition:{type:"spring",stiffness:500,damping:30}})]}),e.jsx("span",{className:`text-xs font-medium transition-colors duration-200 ${c?"text-white":"text-gray-400"}`,children:r.label})]},r.id)})}),e.jsx("div",{className:"h-safe-area-inset-bottom bg-gray-900/95"})]})},$t=({onComplete:s})=>{const[i,l]=x.useState(!1),[t,a]=x.useState(!1),o=()=>{l(!0),setTimeout(()=>{l(!1),a(!0),setTimeout(()=>{s()},1500)},3e3)};return e.jsx("div",{className:"p-6 flex items-center justify-center min-h-[calc(100vh-120px)]",children:e.jsx(R,{className:"backdrop-blur-md bg-white/10 border-white/20 w-full max-w-md text-center px-[32px] py-[33px]",children:e.jsxs(k.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},children:[!i&&!t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:e.jsx(ee,{className:"w-10 h-10 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Verificação de Segurança"}),e.jsx("p",{className:"text-gray-300 mb-6",children:"Para sua segurança, precisamos confirmar sua identidade antes de processar a solicitação de crédito."}),e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ge,{className:"w-5 h-5 text-blue-400"}),e.jsx("span",{className:"text-blue-400 font-semibold",children:"Verificação Facial"})]}),e.jsx("p",{className:"text-gray-300 text-sm",children:"O processo é rápido e seguro. Seus dados biométricos são criptografados e não são armazenados."})]}),e.jsx(g,{onClick:o,className:"w-full bg-blue-600 hover:bg-blue-700 py-3",children:"Iniciar Verificação"})]}),i&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:e.jsx(ge,{className:"w-10 h-10 text-white animate-pulse"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Verificando..."}),e.jsx("p",{className:"text-gray-300 mb-6",children:"Mantenha seu rosto centralizado na câmera"}),e.jsxs("div",{className:"w-32 h-32 mx-auto mb-6 border-4 border-blue-500 rounded-full relative",children:[e.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-blue-400 rounded-full animate-spin"}),e.jsx("div",{className:"absolute inset-4 bg-blue-500/20 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-12 h-12 bg-blue-500/40 rounded-full"})})]}),e.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4",children:e.jsx("p",{className:"text-yellow-400 text-sm",children:"⏱️ Processando verificação biométrica..."})})]}),t&&e.jsxs(k.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center",children:e.jsx(G,{className:"w-10 h-10 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Verificação Concluída!"}),e.jsx("p",{className:"text-gray-300 mb-6",children:"Identidade confirmada com sucesso. Prosseguindo para as condições do empréstimo..."}),e.jsx("div",{className:"bg-green-500/10 border border-green-500/20 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"w-5 h-5 text-green-400"}),e.jsx("span",{className:"text-green-400 font-semibold",children:"Verificação aprovada"})]})})]})]})})})},At=({data:s,availableCredit:i,onUpdate:l,onNext:t})=>{const[a,o]=x.useState(s.amount||5e3),[r,n]=x.useState(s.installments||12),c=(f,N)=>{let u=18;N<=6?u=15:N<=12?u=18:N<=18?u=22:u=25,f>=3e4?u-=2:f>=15e3?u-=1:f>=5e3&&(u-=.5);const w=u/100/12,T=f*w*Math.pow(1+w,N)/(Math.pow(1+w,N)-1),h=T*N,d=h-f,v=((h/f)**(12/N)-1)*100;return{interestRate:u,monthlyPayment:Math.round(T*100)/100,totalAmount:Math.round(h*100)/100,totalInterest:Math.round(d*100)/100,cet:Math.round(v*100)/100}},j=c(a,r);x.useEffect(()=>{const f=c(a,r);l({amount:a,installments:r,interestRate:f.interestRate,monthlyPayment:f.monthlyPayment,totalAmount:f.totalAmount})},[a,r]);const b=[3,6,12,18,24],m=()=>{a>=500&&t()};return e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(os,{className:"w-6 h-6 text-blue-400"}),e.jsx("h2",{className:"text-xl font-bold text-white",children:"Defina as Condições"})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"text-white font-semibold",children:"Valor desejado"}),e.jsx("span",{className:"text-xs text-gray-400",children:"Você pode colar o valor aqui"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",value:a===0?"":a.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2}),onChange:f=>{const N=f.target.value,u=N.replace(/\D/g,"");if(u===""){o(0);return}let w=0;if(u.length>2){const T=parseInt(u,10);if(T<100&&N.includes(","))w=T;else{const h=parseInt(u.slice(-2),10);w=parseInt(u.slice(0,-2)||"0",10)+h/100}}else w=parseInt(u,10)/100;o(w)},onPaste:f=>{const u=f.clipboardData.getData("text").replace(/\D/g,"");if(u)if(f.preventDefault(),u.length>=3){const w=parseInt(u,10);w>1e4?o(w/100):o(w)}else o(parseInt(u,10))},placeholder:"R$ 0,00",className:`w-full bg-gray-800/50 border-2 text-white placeholder-gray-400 focus:ring-2 focus:ring-green-500/20 rounded-2xl px-4 py-4 text-lg font-semibold text-center transition-all ${a<500&&a>0?"border-red-500 focus:border-red-500":a>=500?"border-green-500 focus:border-green-500":"border-gray-600 focus:border-green-500"}`})}),e.jsx("div",{className:"flex justify-center text-sm px-2",children:e.jsx("span",{className:"text-gray-400",children:"Valor mínimo: R$ 500"})}),a>0&&a<500&&e.jsx("p",{className:"text-red-400 text-sm text-center animate-pulse",children:"⚠️ Valor mínimo é R$ 500"})]})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"text-white font-semibold",children:"Número de parcelas"}),e.jsx("span",{className:"text-xs text-gray-400",children:"Escolha de 3 a 24 meses"})]}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:b.map(f=>e.jsx("button",{onClick:()=>n(f),className:`p-3 rounded-xl border transition-all transform hover:scale-105 ${r===f?"bg-blue-600 border-blue-500 text-white shadow-lg shadow-blue-500/25":"bg-gray-800/50 border-gray-600 text-gray-300 hover:border-blue-500 hover:bg-gray-700/50"}`,children:e.jsxs("div",{className:"font-semibold",children:[f,"x"]})},f))})]}),a>=500&&e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6 animate-in",children:[e.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ce,{className:"w-5 h-5 text-green-400"}),e.jsx("span",{className:"text-green-400 font-semibold",children:"Parcela"})]}),e.jsxs("p",{className:"text-white text-lg font-bold",children:["R$ ",j.monthlyPayment.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("p",{className:"text-gray-400 text-sm",children:[r," parcelas"]})]}),e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(oe,{className:"w-5 h-5 text-blue-400"}),e.jsx("span",{className:"text-blue-400 font-semibold",children:"Taxa"})]}),e.jsxs("p",{className:"text-white text-lg font-bold",children:[j.interestRate.toFixed(1),"% a.a."]}),e.jsxs("p",{className:"text-gray-400 text-sm",children:["CET: ",j.cet.toFixed(1),"%"]})]}),e.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/20 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(le,{className:"w-5 h-5 text-purple-400"}),e.jsx("span",{className:"text-purple-400 font-semibold",children:"A pagar"})]}),e.jsxs("p",{className:"text-white text-lg font-bold",children:["R$ ",j.totalAmount.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("p",{className:"text-gray-400 text-sm",children:["Juros: R$ ",j.totalInterest.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(os,{className:"w-5 h-5 text-yellow-400"}),e.jsx("span",{className:"text-yellow-400 font-semibold",children:"Economia"})]}),e.jsxs("p",{className:"text-white text-lg font-bold",children:[((30-j.interestRate)/30*100).toFixed(0),"%"]}),e.jsx("p",{className:"text-gray-400 text-sm",children:"vs. cartão de crédito"})]})]}),e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4 mb-6",children:[e.jsx("h3",{className:"text-blue-400 font-semibold mb-2",children:"ℹ️ Informações importantes"}),e.jsxs("ul",{className:"text-gray-300 text-sm space-y-1",children:[e.jsx("li",{children:"• Taxa calculada com base no seu score e histórico"}),e.jsx("li",{children:"• Valor será creditado imediatamente na sua conta"}),e.jsx("li",{children:"• Primeira parcela vence em 30 dias"}),e.jsx("li",{children:"• Sem taxas de abertura ou manutenção"})]})]}),e.jsxs("div",{className:"space-y-3",children:[a>=500&&e.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-400 text-sm animate-in",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"Pronto para continuar"]}),e.jsx(g,{onClick:m,disabled:a<500,className:`w-full py-3 transition-all transform ${a>=500?"bg-green-600 hover:bg-green-700 hover:scale-105 shadow-lg shadow-green-500/25":"bg-gray-600 cursor-not-allowed opacity-50"}`,children:a<500&&a>0?"Valor muito baixo":"Continuar com a Solicitação"})]})]})})};function Os({className:s,...i}){return e.jsx("textarea",{"data-slot":"textarea",className:U("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),...i})}const It=[{type:"vehicle",name:"Veículo",icon:He,description:"Carro, moto, caminhão ou outro veículo",discount:"2-4%"},{type:"property",name:"Imóvel",icon:Le,description:"Casa, apartamento, terreno ou imóvel comercial",discount:"3-6%"},{type:"equipment",name:"Equipamento",icon:ks,description:"Máquinas, ferramentas ou equipamentos de trabalho",discount:"1-3%"},{type:"receivables",name:"Recebíveis",icon:Ps,description:"Contratos, notas promissórias ou recebíveis",discount:"1-2%"}],Bt=({data:s,onUpdate:i,onNext:l})=>{const[t,a]=x.useState(s.hasCollateral),[o,r]=x.useState(s.collateral?.type||null),[n,c]=x.useState(s.collateral?.description||""),[j,b]=x.useState(s.collateral?.estimatedValue||0),[m,f]=x.useState(s.collateral?.documents||[]),[N,u]=x.useState(s.collateral?.photos||[]),[w,T]=x.useState(null),h=p=>{a(p),p||(r(null),c(""),b(0),f([]),u([]),T(null))},d=(p,P)=>{const B=Array.from(p.target.files||[]);P==="documents"?f(z=>[...z,...B]):P==="photos"?u(z=>[...z,...B]):P==="contract"&&T(B[0]||null)},v=(p,P)=>{P==="documents"?f(B=>B.filter((z,q)=>q!==p)):u(B=>B.filter((z,q)=>q!==p))},C=()=>{T(null)},y=()=>{const p=document.createElement("a");p.href="#",p.download="modelo-contrato-cessao-bem.pdf",p.click()},D=()=>{i({hasCollateral:t,collateral:t&&o?{type:o,description:n,estimatedValue:j,documents:m,photos:N}:void 0}),l()},E=!t||o&&n.length>=10&&j>0&&m.length>0&&N.length>0&&w!==null;return e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Oferecer Garantia"}),e.jsx("p",{className:"text-gray-300",children:"Adicione uma garantia para reduzir a taxa de juros do seu empréstimo"})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx(g,{onClick:()=>{h(!1),D()},variant:t?"outline":"default",className:`w-full sm:flex-1 py-4 ${t?"border-gray-600 text-gray-300":"bg-blue-600 hover:bg-blue-700"}`,children:"Pular esta etapa"}),e.jsxs(g,{onClick:()=>h(!0),variant:t?"default":"outline",className:`w-full sm:flex-1 py-4 ${t?"bg-green-600 hover:bg-green-700":"border-gray-600 text-slate-800 hover:text-white"}`,children:[e.jsx(cs,{className:"w-4 h-4 mr-2"}),"Adicionar Garantia"]})]}),t&&e.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(cs,{className:"w-5 h-5 text-green-400"}),e.jsx("span",{className:"text-green-400 font-semibold",children:"Vantagem"})]}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Com garantia, você pode reduzir a taxa de juros em até 6% ao ano!"})]})]}),t&&e.jsxs(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-white font-semibold",children:"Tipo de garantia"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:It.map(p=>{const P=p.icon;return e.jsxs("button",{onClick:()=>r(p.type),className:`p-4 rounded-xl border text-left transition-all ${o===p.type?"bg-blue-600/20 border-blue-500 text-white":"bg-gray-800/50 border-gray-600 text-gray-300 hover:border-blue-500"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(P,{className:"w-5 h-5 text-blue-400"}),e.jsx("span",{className:"font-semibold",children:p.name}),e.jsxs("span",{className:"text-green-400 text-sm ml-auto",children:["-",p.discount]})]}),e.jsx("p",{className:"text-sm text-gray-400",children:p.description})]},p.type)})})]}),o&&e.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold mb-2 block",children:"Descrição detalhada"}),e.jsx(Os,{value:n,onChange:p=>c(p.target.value),placeholder:"Ex: Honda Civic 2020, prata, 45.000 km, placa ABC-1234...",className:"bg-gray-800/50 border-gray-600 text-white min-h-[80px]"}),e.jsxs("p",{className:`text-sm mt-1 ${n.length>=10?"text-green-400":"text-gray-400"}`,children:["Mínimo 10 caracteres (",n.length,"/10)"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold mb-2 block",children:"Valor estimado"}),e.jsx(Q,{mask:"money",currency:"BRL",value:j?`R$ ${j.toLocaleString("pt-BR",{minimumFractionDigits:2})}`:"",onChange:p=>{const P=p.replace(/[R$\s.,]/g,"");b(P?Number(P)/100:0)},placeholder:"R$ 0,00",className:"bg-gray-800/50 border-gray-600 text-white"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Este valor será validado pela nossa IA"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold mb-2 block",children:"Documentos"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-xl p-4 text-center",children:[e.jsx("input",{type:"file",multiple:!0,accept:".pdf,.jpg,.jpeg,.png",onChange:p=>d(p,"documents"),className:"hidden",id:"documents-upload"}),e.jsxs("label",{htmlFor:"documents-upload",className:"cursor-pointer",children:[e.jsx(Pe,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-300",children:"Clique para adicionar documentos"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"PDF, JPG ou PNG"})]})]}),m.length>0&&e.jsx("div",{className:"space-y-2",children:m.map((p,P)=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-800/50 p-2 rounded-lg",children:[e.jsx("span",{className:"text-white text-sm",children:p.name}),e.jsx(g,{size:"sm",variant:"outline",onClick:()=>v(P,"documents"),className:"border-gray-600 text-gray-300",children:e.jsx(me,{className:"w-3 h-3"})})]},P))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold mb-2 block",children:"Fotos"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-xl p-4 text-center",children:[e.jsx("input",{type:"file",multiple:!0,accept:".jpg,.jpeg,.png",onChange:p=>d(p,"photos"),className:"hidden",id:"photos-upload"}),e.jsxs("label",{htmlFor:"photos-upload",className:"cursor-pointer",children:[e.jsx(Pe,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-300",children:"Clique para adicionar fotos"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"JPG ou PNG"})]})]}),N.length>0&&e.jsx("div",{className:"grid grid-cols-3 gap-2",children:N.map((p,P)=>e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"aspect-square bg-gray-800/50 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs text-center px-1",children:p.name})}),e.jsx(g,{size:"sm",variant:"outline",onClick:()=>v(P,"photos"),className:"absolute -top-2 -right-2 w-6 h-6 p-0 border-gray-600 bg-gray-800",children:e.jsx(me,{className:"w-3 h-3"})})]},P))})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-white font-semibold mb-2 block",children:"Contrato de Cessão de Bem"}),e.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4 mb-4",children:[e.jsx("h3",{className:"text-yellow-400 font-semibold mb-2",children:"📋 Documento Obrigatório"}),e.jsx("p",{className:"text-gray-300 text-sm mb-3",children:"Para formalizar a cessão do bem como garantia, é necessário assinar o contrato específico."}),e.jsx(g,{onClick:y,variant:"outline",className:"border-yellow-500 text-yellow-400 hover:bg-yellow-500/10",children:"📄 Baixar Modelo do Contrato"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-xl p-4 text-center",children:[e.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png,.docx",onChange:p=>d(p,"contract"),className:"hidden",id:"contract-upload"}),e.jsxs("label",{htmlFor:"contract-upload",className:"cursor-pointer",children:[e.jsx(Pe,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-300",children:"Anexar Contrato Assinado"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"PDF, JPG, PNG ou DOCX (máximo 1 arquivo)"})]})]}),w&&e.jsxs("div",{className:"flex items-center justify-between bg-green-500/10 border border-green-500/20 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),e.jsx("span",{className:"text-white text-sm",children:w.name})]}),e.jsx(g,{size:"sm",variant:"outline",onClick:C,className:"border-gray-600 text-gray-300",children:e.jsx(me,{className:"w-3 h-3"})})]})]})]}),e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4",children:[e.jsx("h3",{className:"text-blue-400 font-semibold mb-2",children:"🤖 Validação por IA"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Nossa inteligência artificial analisará automaticamente as informações, documentos e fotos para validar a garantia oferecida."})]})]})]}),e.jsx(g,{onClick:D,disabled:!E,className:"w-full bg-blue-600 hover:bg-blue-700 py-3 mt-6",children:"Continuar"})]})})},Et=[{type:"automatic",title:"Automático",subtitle:"⚡ Recomendado",icon:we,description:"Aprovação instantânea via pools",features:["Se seu perfil atender aos critérios, recebe na hora","Dinheiro creditado imediatamente","Taxa competitiva de pools diversificadas"],pros:["Velocidade máxima","Sem espera","Taxa otimizada"],timeEstimate:"Instantâneo",successRate:"85%",color:"green"},{type:"manual",title:"Manual",subtitle:"👤 Personalizado",icon:Qe,description:"Apenas investidores individuais",features:["Pode demorar mais, mas permite condições personalizadas","Investidores analisam seu perfil individualmente","Possibilidade de negociar termos"],pros:["Condições flexíveis","Negociação direta","Análise humanizada"],timeEstimate:"1-3 dias",successRate:"70%",color:"blue"},{type:"both",title:"Ambos",subtitle:"🔄 Máxima chance",icon:Rs,description:"Tenta pools primeiro, depois marketplace",features:["Maximiza suas chances de aprovação","Combina velocidade das pools com flexibilidade manual","Se pools não aprovarem, vai para investidores individuais"],pros:["Melhor de dois mundos","Maior taxa de sucesso","Sem pressa"],timeEstimate:"Instantâneo a 3 dias",successRate:"95%",color:"purple"}],Lt=({approvalType:s,onUpdate:i,onNext:l})=>{const t=()=>{l()};return e.jsx("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Escolher Tipo de Aprovação"}),e.jsx("p",{className:"text-gray-300",children:"Como você quer processar sua solicitação?"})]}),e.jsx("div",{className:"space-y-4 mb-6",children:Et.map(a=>{const o=a.icon,r=s===a.type;return e.jsx(k.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsx("button",{onClick:()=>i(a.type),className:`w-full p-4 sm:p-5 rounded-xl border text-left transition-all ${r?`bg-${a.color}-600/20 border-${a.color}-500 ring-2 ring-${a.color}-500/50`:"bg-gray-800/50 border-gray-600 hover:border-gray-500"}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${r?`bg-${a.color}-500`:"bg-gray-700"}`,children:e.jsx(o,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:a.title}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${a.color==="green"?"bg-green-500/20 text-green-400":a.color==="blue"?"bg-blue-500/20 text-blue-400":"bg-purple-500/20 text-purple-400"}`,children:a.subtitle})]}),e.jsx("p",{className:"text-gray-300 text-sm mb-3",children:a.description}),e.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-3 gap-2 md:gap-4 mb-3 sm:flex sm:flex-col sm:space-y-2 sm:gap-0",children:[e.jsxs("div",{className:"text-center sm:text-left sm:flex sm:items-center sm:justify-between sm:bg-gray-800/30 sm:p-2 sm:rounded-lg",children:[e.jsxs("div",{className:"sm:flex sm:items-center sm:gap-2",children:[e.jsx(le,{className:"w-4 h-4 text-gray-400 mx-auto mb-1 sm:mx-0 sm:mb-0"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Tempo"})]}),e.jsx("p",{className:"text-white text-xs font-semibold",children:a.timeEstimate})]}),e.jsxs("div",{className:"text-center sm:text-left sm:flex sm:items-center sm:justify-between sm:bg-gray-800/30 sm:p-2 sm:rounded-lg",children:[e.jsxs("div",{className:"sm:flex sm:items-center sm:gap-2",children:[e.jsx(oe,{className:"w-4 h-4 text-gray-400 mx-auto mb-1 sm:mx-0 sm:mb-0"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Taxa de Sucesso"})]}),e.jsx("p",{className:"text-white text-xs font-semibold",children:a.successRate})]}),e.jsxs("div",{className:"text-center sm:text-left sm:flex sm:items-center sm:justify-between sm:bg-gray-800/30 sm:p-2 sm:rounded-lg",children:[e.jsxs("div",{className:"sm:flex sm:items-center sm:gap-2",children:[e.jsx(pe,{className:"w-4 h-4 text-gray-400 mx-auto mb-1 sm:mx-0 sm:mb-0"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Avaliadores"})]}),e.jsx("p",{className:"text-white text-xs font-semibold",children:a.type==="automatic"?"Pools":a.type==="manual"?"Individuais":"Pools + Individuais"})]})]}),e.jsx("div",{className:"space-y-1",children:a.features.map((n,c)=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full mt-2 flex-shrink-0"}),e.jsx("p",{className:"text-gray-400 text-xs",children:n})]},c))}),r&&e.jsxs(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},className:"mt-4 pt-4 border-t border-gray-600",children:[e.jsx("h4",{className:"text-white font-semibold text-sm mb-3",children:"✨ Vantagens:"}),e.jsx("div",{className:"flex flex-wrap gap-2 justify-start",children:a.pros.map((n,c)=>e.jsx("span",{className:`text-xs px-3 py-1.5 rounded-full whitespace-nowrap ${a.color==="green"?"bg-green-500/10 text-green-400":a.color==="blue"?"bg-blue-500/10 text-blue-400":"bg-purple-500/10 text-purple-400"}`,children:n},c))})]})]})]})})},a.type)})}),e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4 mb-6",children:[e.jsx("h3",{className:"text-blue-400 font-semibold mb-2",children:"💡 Dica"}),e.jsx("p",{className:"text-gray-300 text-sm",children:'A opção "Ambos" oferece a melhor experiência: você tem a chance de aprovação instantânea via pools, mas se não houver match, sua solicitação segue para investidores individuais automaticamente.'})]}),e.jsx(g,{onClick:t,className:"w-full bg-blue-600 hover:bg-blue-700 py-3",children:"Continuar"})]})})},Ft=({data:s,onSubmit:i,onEdit:l})=>{const t=()=>{switch(s.approvalType){case"automatic":return{icon:we,label:"Automático",description:"Aprovação via pools"};case"manual":return{icon:Qe,label:"Manual",description:"Investidores individuais"};case"both":return{icon:Rs,label:"Ambos",description:"Pools + marketplace"}}},a=()=>{if(!s.hasCollateral||!s.collateral)return null;switch(s.collateral.type){case"vehicle":return He;case"property":return Le;case"equipment":return ks;case"receivables":return Ps}},o=t(),r=o.icon,n=a();return e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Revisão da Solicitação"}),e.jsx("p",{className:"text-gray-300",children:"Confirme todos os dados antes de enviar sua solicitação"})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Condições do Empréstimo"}),e.jsxs(g,{size:"sm",variant:"outline",onClick:()=>l("conditions"),className:"border-gray-600 text-slate-800 hover:text-white",children:[e.jsx(Ye,{className:"w-3 h-3 mr-1"}),"Editar"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ce,{className:"w-5 h-5 text-green-400"}),e.jsx("span",{className:"text-green-400 font-semibold",children:"Valor Solicitado"})]}),e.jsxs("p",{className:"text-white text-xl font-bold",children:["R$ ",s.amount.toLocaleString("pt-BR")]})]}),e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ts,{className:"w-5 h-5 text-blue-400"}),e.jsx("span",{className:"text-blue-400 font-semibold",children:"Parcelas"})]}),e.jsxs("p",{className:"text-white text-xl font-bold",children:[s.installments,"x de R$ ",s.monthlyPayment.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/20 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(oe,{className:"w-5 h-5 text-purple-400"}),e.jsx("span",{className:"text-purple-400 font-semibold",children:"Taxa de Juros"})]}),e.jsxs("p",{className:"text-white text-xl font-bold",children:[s.interestRate.toFixed(1),"% a.a."]})]}),e.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ce,{className:"w-5 h-5 text-yellow-400"}),e.jsx("span",{className:"text-yellow-400 font-semibold",children:"Total a Pagar"})]}),e.jsxs("p",{className:"text-white text-xl font-bold",children:["R$ ",s.totalAmount.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Garantia"}),e.jsxs(g,{size:"sm",variant:"outline",onClick:()=>l("collateral"),className:"border-gray-600 text-[rgba(0,0,0,1)]",children:[e.jsx(Ye,{className:"w-3 h-3 mr-1"}),"Editar"]})]}),s.hasCollateral&&s.collateral?e.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n&&e.jsx(n,{className:"w-5 h-5 text-green-400"}),e.jsx("span",{className:"text-green-400 font-semibold",children:s.collateral.type==="vehicle"?"Veículo":s.collateral.type==="property"?"Imóvel":s.collateral.type==="equipment"?"Equipamento":"Recebíveis"}),e.jsx(ee,{className:"w-4 h-4 text-green-400"})]}),e.jsxs("p",{className:"text-white font-semibold mb-2",children:["Valor estimado: R$ ",s.collateral.estimatedValue.toLocaleString("pt-BR")]}),e.jsx("p",{className:"text-gray-300 text-sm mb-3",children:s.collateral.description}),e.jsxs("div",{className:"flex gap-4 text-sm",children:[e.jsxs("span",{className:"text-gray-400",children:["📄 ",s.collateral.documents.length," documento(s)"]}),e.jsxs("span",{className:"text-gray-400",children:["📸 ",s.collateral.photos.length," foto(s)"]})]})]}):e.jsx("div",{className:"bg-gray-500/10 border border-gray-500/20 rounded-xl p-4",children:e.jsx("p",{className:"text-gray-400",children:"Nenhuma garantia oferecida"})})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Tipo de Aprovação"}),e.jsxs(g,{size:"sm",variant:"outline",onClick:()=>l("approval-type"),className:"border-gray-600 text-[rgba(0,0,0,1)]",children:[e.jsx(Ye,{className:"w-3 h-3 mr-1"}),"Editar"]})]}),e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(r,{className:"w-5 h-5 text-blue-400"}),e.jsx("span",{className:"text-blue-400 font-semibold",children:o.label})]}),e.jsx("p",{className:"text-gray-300 text-sm",children:o.description})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-500/10 to-blue-500/10 border border-green-500/20 rounded-xl p-6 mb-6",children:[e.jsx("h3",{className:"text-white font-semibold mb-4",children:"📋 Resumo da Solicitação"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Valor solicitado:"}),e.jsxs("span",{className:"text-white font-semibold",children:["R$ ",s.amount.toLocaleString("pt-BR")]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Parcelas:"}),e.jsxs("span",{className:"text-white font-semibold",children:[s.installments,"x"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Taxa de juros:"}),e.jsxs("span",{className:"text-white font-semibold",children:[s.interestRate.toFixed(1),"% a.a."]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Valor da parcela:"}),e.jsxs("span",{className:"text-white font-semibold",children:["R$ ",s.monthlyPayment.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Total a pagar:"}),e.jsxs("span",{className:"text-white font-semibold",children:["R$ ",s.totalAmount.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Garantia:"}),e.jsx("span",{className:"text-white font-semibold",children:s.hasCollateral?"Sim":"Não"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Tipo de aprovação:"}),e.jsx("span",{className:"text-white font-semibold",children:o.label})]})]})]}),e.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4 mb-6",children:[e.jsx("h3",{className:"text-yellow-400 font-semibold mb-2",children:"⚠️ Termos importantes"}),e.jsxs("ul",{className:"text-gray-300 text-sm space-y-1",children:[e.jsx("li",{children:"• O valor será creditado imediatamente após aprovação"}),e.jsx("li",{children:"• A primeira parcela vence em 30 dias"}),e.jsx("li",{children:"• Em caso de atraso, será cobrada multa de 2% + juros"}),e.jsx("li",{children:"• Você pode quitar antecipadamente sem penalidades"}),e.jsx("li",{children:"• Todas as transações são registradas na blockchain"})]})]}),e.jsxs(g,{onClick:i,className:"w-full bg-green-600 hover:bg-green-700 py-4",children:[e.jsx(G,{className:"w-5 h-5 mr-2"}),"Confirmar e Enviar Solicitação"]})]})})},zt=({data:s,onComplete:i})=>{const[l,t]=x.useState({stage:"analyzing-profile",message:"Analisando seu perfil...",progress:0}),a=(c,j=0)=>{const m={"analyzing-profile":{start:0,end:30},"searching-pools":{start:30,end:60},"matching-found":{start:60,end:85},"matching-not-found":{start:60,end:70},"marketplace-search":{start:70,end:95},approved:{start:95,end:100},rejected:{start:95,end:100}}[c];if(!m)return 0;const f=Math.min(Math.max(j,0),100);return Math.round(m.start+(m.end-m.start)*(f/100))};x.useEffect(()=>{(async()=>{if(setTimeout(()=>{t({stage:"analyzing-profile",message:"Verificando score...",detail:"Analisando histórico de crédito",progress:a("analyzing-profile",33)})},800),setTimeout(()=>{t({stage:"analyzing-profile",message:"Analisando histórico...",detail:"Validando dados cadastrais",progress:a("analyzing-profile",66)})},1600),setTimeout(()=>{t({stage:"analyzing-profile",message:"Processando...",detail:"Finalizando análise de perfil",progress:a("analyzing-profile",100)})},2400),s.approvalType==="automatic"||s.approvalType==="both")setTimeout(()=>{t({stage:"searching-pools",message:"Buscando pools compatíveis...",detail:"Verificando 47 pools ativas na rede",progress:a("searching-pools",50)})},3200),setTimeout(()=>{t({stage:"searching-pools",message:"Analisando compatibilidade...",detail:"Verificando critérios de risco e rentabilidade",progress:a("searching-pools",100)})},4e3),Math.random()>.3?(setTimeout(()=>{t({stage:"matching-found",message:"Pool compatível encontrada!",detail:'Pool "Diversificação Brasil" aprovou sua solicitação',progress:a("matching-found",100)})},4800),setTimeout(()=>{t({stage:"approved",message:"Crédito aprovado!",detail:"Valor creditado na sua conta",progress:a("approved",100)}),i(!0)},6e3)):(setTimeout(()=>{t({stage:"matching-not-found",message:"Nenhuma pool compatível encontrada",detail:s.approvalType==="both"?"Direcionando para investidores individuais...":"Tente ajustar as condições ou adicionar garantia",progress:a("matching-not-found",100)})},4800),s.approvalType==="both"?(setTimeout(()=>{t({stage:"marketplace-search",message:"Disponibilizando para investidores...",detail:"Sua solicitação está no marketplace",progress:a("marketplace-search",50)})},5600),setTimeout(()=>{t({stage:"marketplace-search",message:"Aguardando interesse...",detail:"3 investidores visualizaram sua solicitação",progress:a("marketplace-search",100)})},6800),setTimeout(()=>{t({stage:"approved",message:"Investidor encontrado!",detail:"João Santos aprovou sua solicitação",progress:a("approved",100)}),i(!0)},8e3)):setTimeout(()=>{t({stage:"rejected",message:"Solicitação não aprovada",detail:"Nenhuma pool compatível no momento",progress:a("rejected",100)}),i(!1)},6e3));else{setTimeout(()=>{t({stage:"marketplace-search",message:"Disponibilizando para investidores...",detail:"Sua solicitação está no marketplace",progress:a("marketplace-search",33)})},3200),setTimeout(()=>{t({stage:"marketplace-search",message:"Aguardando análise...",detail:"Investidores estão avaliando sua solicitação",progress:a("marketplace-search",66)})},4400),setTimeout(()=>{t({stage:"marketplace-search",message:"Interesse detectado...",detail:"2 investidores demonstraram interesse",progress:a("marketplace-search",100)})},5600);const j=Math.random()>.2;setTimeout(j?()=>{t({stage:"approved",message:"Investidor encontrado!",detail:"Maria Silva aprovou sua solicitação",progress:a("approved",100)}),i(!0)}:()=>{t({stage:"rejected",message:"Aguardando interesse",detail:"Sua solicitação permanece disponível para análise",progress:a("rejected",100)}),i(!1)},6800)}})()},[s.approvalType,i]);const o=()=>{switch(l.stage){case"analyzing-profile":return e.jsx(da,{className:"w-8 h-8 text-blue-400 animate-pulse"});case"searching-pools":return e.jsx(we,{className:"w-8 h-8 text-yellow-400 animate-pulse"});case"matching-found":return e.jsx(G,{className:"w-8 h-8 text-green-400"});case"matching-not-found":return e.jsx(ms,{className:"w-8 h-8 text-red-400"});case"marketplace-search":return e.jsx(pe,{className:"w-8 h-8 text-purple-400 animate-pulse"});case"approved":return e.jsx(G,{className:"w-8 h-8 text-green-400"});case"rejected":return e.jsx(ms,{className:"w-8 h-8 text-red-400"});default:return e.jsx(ds,{className:"w-8 h-8 text-blue-400 animate-spin"})}},n=(()=>{switch(l.stage){case"approved":case"matching-found":return"green";case"rejected":case"matching-not-found":return"red";case"marketplace-search":return"purple";case"searching-pools":return"yellow";default:return"blue"}})();return e.jsx("div",{className:"p-6 flex items-center justify-center min-h-[calc(100vh-120px)]",children:e.jsx(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-8 w-full max-w-md text-center",children:e.jsxs(k.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:o()}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:l.message}),l.detail&&e.jsx("p",{className:"text-gray-300 mb-6",children:l.detail}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3 mb-6",children:e.jsx(k.div,{className:`h-3 rounded-full bg-gradient-to-r ${n==="green"?"from-green-500 to-emerald-500":n==="red"?"from-red-500 to-red-400":n==="purple"?"from-purple-500 to-blue-500":n==="yellow"?"from-yellow-500 to-orange-500":"from-blue-500 to-purple-500"}`,initial:{width:0},animate:{width:`${l.progress}%`},transition:{duration:.5}})}),e.jsxs("p",{className:"text-gray-400 text-sm mb-6",children:[l.progress,"% concluído"]}),l.stage==="searching-pools"&&e.jsxs("div",{className:`bg-${n}-500/10 border border-${n}-500/20 rounded-xl p-4 mb-4`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(we,{className:"w-5 h-5 text-yellow-400"}),e.jsx("span",{className:"text-yellow-400 font-semibold",children:"Matching Automático"})]}),e.jsxs("div",{className:"text-left space-y-1 text-sm text-gray-300",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Pools verificadas:"}),e.jsx("span",{className:"text-white",children:"47/47"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Compatibilidade:"}),e.jsx("span",{className:"text-white",children:"Analisando..."})]})]})]}),l.stage==="matching-found"&&e.jsxs("div",{className:`bg-${n}-500/10 border border-${n}-500/20 rounded-xl p-4 mb-4`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(G,{className:"w-5 h-5 text-green-400"}),e.jsx("span",{className:"text-green-400 font-semibold",children:"Pool Encontrada!"})]}),e.jsxs("div",{className:"text-left space-y-1 text-sm text-gray-300",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Pool:"}),e.jsx("span",{className:"text-white",children:"Diversificação Brasil"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Taxa oferecida:"}),e.jsxs("span",{className:"text-white",children:[s.interestRate.toFixed(1),"% a.a."]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Status:"}),e.jsx("span",{className:"text-green-400",children:"Aprovado"})]})]})]}),l.stage==="marketplace-search"&&e.jsxs("div",{className:`bg-${n}-500/10 border border-${n}-500/20 rounded-xl p-4 mb-4`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(pe,{className:"w-5 h-5 text-purple-400"}),e.jsx("span",{className:"text-purple-400 font-semibold",children:"No Marketplace"})]}),e.jsxs("div",{className:"text-left space-y-1 text-sm text-gray-300",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Investidores ativos:"}),e.jsx("span",{className:"text-white",children:"234"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Visualizações:"}),e.jsx("span",{className:"text-white",children:"12"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Interesse:"}),e.jsx("span",{className:"text-yellow-400",children:"3 investidores"})]})]})]}),l.stage==="approved"&&e.jsxs(k.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:`bg-${n}-500/10 border border-${n}-500/20 rounded-xl p-4 mb-4`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(oe,{className:"w-5 h-5 text-green-400"}),e.jsx("span",{className:"text-green-400 font-semibold",children:"Sucesso!"})]}),e.jsxs("div",{className:"text-left space-y-1 text-sm text-gray-300",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Valor creditado:"}),e.jsxs("span",{className:"text-white font-bold",children:["R$ ",s.amount.toLocaleString("pt-BR")]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Primeira parcela:"}),e.jsx("span",{className:"text-white",children:new Date(Date.now()+720*60*60*1e3).toLocaleDateString("pt-BR")})]})]})]}),l.stage==="rejected"&&e.jsxs("div",{className:`bg-${n}-500/10 border border-${n}-500/20 rounded-xl p-4 mb-4`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(he,{className:"w-5 h-5 text-red-400"}),e.jsx("span",{className:"text-red-400 font-semibold",children:"Não aprovado"})]}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Tente ajustar as condições ou adicionar uma garantia para melhorar suas chances."})]}),!["approved","rejected"].includes(l.stage)&&e.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-400",children:[e.jsx(ds,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{className:"text-sm",children:"Processando..."})]})]})})})},Vt=({onBack:s,onComplete:i})=>{const[l,t]=x.useState("facial"),[a,o]=x.useState({amount:0,installments:12,interestRate:0,monthlyPayment:0,totalAmount:0,hasCollateral:!1,approvalType:"automatic",isProcessing:!1}),{requestCredit:r,getAvailableCredit:n}=Us(),c=n(),j=["facial","conditions","collateral","approval-type","review","processing"],b=j.indexOf(l),m=()=>{b<j.length-1&&t(j[b+1])},f=()=>{b>0?t(j[b-1]):s()},N=()=>{$.success("Verificação facial concluída com sucesso!"),m()},u=C=>{o(y=>({...y,...C}))},w=C=>{o(y=>({...y,...C}))},T=C=>{o(y=>({...y,approvalType:C}))},h=async()=>{try{o(C=>({...C,isProcessing:!0})),t("processing"),await r({amount:a.amount,installments:a.installments,interestRate:a.interestRate,totalAmount:a.totalAmount,monthlyPayment:a.monthlyPayment,collateral:a.hasCollateral?{type:a.collateral.type,description:a.collateral.description,value:a.collateral.estimatedValue,documents:a.collateral.documents}:void 0,approvalType:a.approvalType})}catch{$.error("Erro ao processar solicitação"),o(y=>({...y,isProcessing:!1})),t("review")}},d=C=>{o(y=>({...y,isProcessing:!1,isApproved:C})),C&&($.success("Crédito aprovado! Valor creditado na sua conta."),setTimeout(()=>i(),2e3))},v=()=>{switch(l){case"facial":return"Verificação de Segurança";case"conditions":return"Condições do Empréstimo";case"collateral":return"Garantia (Opcional)";case"approval-type":return"Tipo de Aprovação";case"review":return"Revisão da Solicitação";case"processing":return"Processando Solicitação";default:return""}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:[e.jsx("div",{className:"p-6 border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{onClick:f,variant:"outline",size:"sm",className:"border-gray-600",disabled:l==="processing",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:v()}),e.jsx("div",{className:"flex items-center gap-2 mt-2",children:j.map((C,y)=>e.jsx("div",{className:`h-2 flex-1 rounded-full transition-colors ${y<=b?"bg-green-500":"bg-gray-600"}`},C))})]})]})}),e.jsx("div",{className:"flex-1",children:e.jsx(Ge,{mode:"wait",children:e.jsxs(k.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},exit:{x:-20,opacity:0},transition:{duration:.3},className:"h-full",children:[l==="facial"&&e.jsx($t,{onComplete:N}),l==="conditions"&&e.jsx(At,{data:a,availableCredit:c,onUpdate:u,onNext:m}),l==="collateral"&&e.jsx(Bt,{data:a,onUpdate:w,onNext:m}),l==="approval-type"&&e.jsx(Lt,{approvalType:a.approvalType,onUpdate:T,onNext:m}),l==="review"&&e.jsx(Ft,{data:a,onSubmit:h,onEdit:C=>t(C)}),l==="processing"&&e.jsx(zt,{data:a,onComplete:d})]},l)})})]})},Mt=({balance:s,onComplete:i})=>{const[l,t]=x.useState("select"),[a,o]=x.useState({method:"",code:"",key:"",amount:"",recipient:""}),[r,n]=x.useState(!1),[c,j]=x.useState(""),[b,m]=x.useState(""),[f,N]=x.useState(""),[u,w]=x.useState(!1),[T,h]=x.useState(!1),[d,v]=x.useState(null),[C,y]=x.useState(!1),D=x.useRef(null),E=x.useRef(null),p=x.useRef(null),P=x.useRef(null);x.useEffect(()=>{const A=document.createElement("script");return A.src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.js",A.async=!0,A.onload=()=>{console.log("jsQR library loaded successfully"),w(!0)},A.onerror=()=>{console.error("Failed to load jsQR library"),m("Erro ao carregar biblioteca de leitura de QR Code")},document.body.appendChild(A),()=>{document.body.removeChild(A)}},[]),x.useEffect(()=>()=>{B()},[]);const B=()=>{P.current&&(clearInterval(P.current),P.current=null),p.current&&(p.current.getTracks().forEach(A=>A.stop()),p.current=null),D.current&&(D.current.srcObject=null),n(!1)},z=async()=>{if(!u){m("Aguarde o carregamento da biblioteca...");return}m(""),j("");try{const A={video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}},F=await navigator.mediaDevices.getUserMedia(A);p.current=F,D.current&&(D.current.srcObject=F,D.current.onloadedmetadata=async()=>{try{await D.current?.play(),console.log("Vídeo iniciado com sucesso"),n(!0),setTimeout(()=>{console.log("Iniciando varredura de QR Code..."),P.current=window.setInterval(()=>{q()},300)},1e3)}catch(W){console.error("Erro ao reproduzir vídeo:",W),m("Erro ao iniciar visualização da câmera")}})}catch(A){console.error("Erro ao acessar câmera:",A);let F="Não foi possível acessar a câmera.";A.name==="NotAllowedError"?F="Permissão de câmera negada. Permita o acesso nas configurações.":A.name==="NotFoundError"&&(F="Nenhuma câmera encontrada no dispositivo."),m(F),n(!1)}},q=()=>{if(!D.current||!E.current||!window.jsQR){console.log("Waiting for jsQR to load or video ready...");return}const A=D.current,F=E.current,W=F.getContext("2d",{willReadFrequently:!0});if(!W||A.readyState!==A.HAVE_ENOUGH_DATA)return;F.width=A.videoWidth,F.height=A.videoHeight,W.drawImage(A,0,0,F.width,F.height);const ne=W.getImageData(0,0,F.width,F.height),se=window.jsQR(ne.data,ne.width,ne.height,{inversionAttempts:"dontInvert"});se&&se.data&&(console.log("QR Code detected:",se.data),ie(se.data))},ie=A=>{B(),j(A),o(F=>({...F,method:"qr-code",code:A,amount:"",recipient:A.length>50?A.substring(0,50)+"...":A})),t("confirm-amount")},fe=()=>{if(!a.code.trim()){N("Cole o código PIX no campo acima");return}N(""),o(A=>({...A,method:"copy-paste",amount:"",recipient:A.code.length>50?A.code.substring(0,50)+"...":A.code})),t("confirm-amount")},J=()=>{if(!a.key.trim()){N("Digite uma chave PIX válida");return}N(""),o(A=>({...A,method:"manual-key",code:A.key,recipient:A.key.length>50?A.key.substring(0,50)+"...":A.key})),t("confirm-amount")},Ne=()=>{const A=parseFloat(a.amount.replace(",","."));if(!A||A<=0){N("Digite um valor válido");return}if(A>s){N("Valor excede o saldo disponível");return}N(""),A>500?t("biometric"):I()},O=()=>{setTimeout(()=>{I()},2e3)},I=async()=>{t("processing"),h(!0),v(null),y(!1);try{const A=localStorage.getItem("swapin_user");if(!A)throw new Error("Usuário não encontrado. Faça login novamente.");const W=JSON.parse(A).id;if(!W)throw new Error("ID do usuário não encontrado.");const ne={pixCode:a.code,amount:parseFloat(a.amount.replace(",",".")),userId:W},se=await fetch("/pix/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ne)});if(!se.ok){const We=await se.json().catch(()=>({}));throw new Error(We.message||"Erro ao processar o pagamento PIX")}const $e=await se.json();h(!1),y(!0),setTimeout(()=>{t("receipt")},1500)}catch(A){console.error("Erro ao processar PIX:",A),h(!1),v(A.message||"Ocorreu um erro ao enviar o PIX. Tente novamente."),N(A.message||"Ocorreu um erro ao enviar o PIX. Tente novamente.")}},te=()=>{const A=`
      🧾 Comprovante PIX - Swapin

      💰 Valor: R$ ${parseFloat(a.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})}
      👤 Para: ${a.recipient}
      📅 Data: ${new Date().toLocaleString("pt-BR")}
      🔢 ID: ${Math.random().toString(36).substr(2,9).toUpperCase()}

      ✅ Transação realizada com sucesso
    `;navigator.share?navigator.share({title:"Comprovante PIX",text:A}).catch(()=>{navigator.clipboard.writeText(A)}):navigator.clipboard.writeText(A)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-6",children:[e.jsx("div",{children:e.jsxs("div",{children:[l==="select"&&e.jsxs("div",{className:"backdrop-blur-md bg-white/10 border border-white/20 rounded-2xl p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Como você quer pagar?"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>t("qr-code"),className:"w-full p-4 rounded-xl border border-gray-600 bg-gray-800/50 hover:border-green-500 hover:bg-green-500/10 transition-all text-left",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(xe,{className:"w-6 h-6 text-green-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold",children:"Ler QR Code"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Aponte a câmera para o código"})]})]})}),e.jsx("button",{onClick:()=>t("copy-paste"),className:"w-full p-4 rounded-xl border border-gray-600 bg-gray-800/50 hover:border-blue-500 hover:bg-blue-500/10 transition-all text-left",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Y,{className:"w-6 h-6 text-blue-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold",children:"Copia e Cola"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Cole o código PIX copiado"})]})]})}),e.jsx("button",{onClick:()=>t("manual-key"),className:"w-full p-4 rounded-xl border border-gray-600 bg-gray-800/50 hover:border-purple-500 hover:bg-purple-500/10 transition-all text-left",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ma,{className:"w-6 h-6 text-purple-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold",children:"Inserir Chave"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"CPF, email, celular ou chave aleatória"})]})]})})]})]}),l==="qr-code"&&e.jsxs("div",{className:"backdrop-blur-md bg-white/10 border border-white/20 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Escaneie o QR Code"}),e.jsx("button",{onClick:()=>{B(),t("select")},className:"text-gray-400 hover:text-white",children:e.jsx(me,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"relative w-full max-w-md mx-auto",children:e.jsxs("div",{className:"relative bg-black rounded-2xl overflow-hidden",style:{paddingBottom:"100%"},children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("video",{ref:D,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover",style:{display:r?"block":"none",transform:"scaleX(-1)"}}),e.jsx("canvas",{ref:E,style:{display:"none"}})]}),!r&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ge,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Aponte a câmera para o QR Code"})]})}),r&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:e.jsxs("div",{className:"w-48 h-48 border-2 border-green-500 rounded-xl relative",children:[e.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 border-t-4 border-l-4 border-green-500 rounded-tl-lg"}),e.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 border-t-4 border-r-4 border-green-500 rounded-tr-lg"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-8 h-8 border-b-4 border-l-4 border-green-500 rounded-bl-lg"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 border-b-4 border-r-4 border-green-500 rounded-br-lg"}),e.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-xl",children:e.jsx("div",{className:"w-full h-1 bg-green-400 shadow-lg shadow-green-400/50",style:{animation:"scan 2s ease-in-out infinite"}})})]})}),e.jsx("div",{className:"absolute bottom-4 left-0 right-0 text-center",children:e.jsx("p",{className:"text-white text-sm bg-black/70 py-2 px-4 rounded-full inline-block",children:"🔍 Procurando QR Code..."})})]})]})}),b&&e.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-xl p-4",children:e.jsx("p",{className:"text-red-400 text-sm",children:b})}),c&&e.jsx("div",{className:"bg-green-500/10 border border-green-500/20 rounded-xl p-4",children:e.jsx("p",{className:"text-green-400 text-sm font-mono break-all",children:c.length>100?c.substring(0,100)+"...":c})}),e.jsx("button",{onClick:r?B:z,disabled:!u&&!r,className:`w-full py-3 rounded-xl font-semibold transition-colors ${r?"bg-red-600 hover:bg-red-700 text-white":"bg-green-600 hover:bg-green-700 text-white disabled:opacity-50 disabled:cursor-not-allowed"}`,children:!u&&!r?"Carregando...":r?"Parar Câmera":"Iniciar Câmera"})]})]}),l==="copy-paste"&&e.jsxs("div",{className:"backdrop-blur-md bg-white/10 border border-white/20 rounded-2xl p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Cole o código PIX"}),e.jsxs("div",{className:"space-y-4",children:[f&&e.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-xl p-4",children:e.jsx("p",{className:"text-red-400 text-sm",children:f})}),e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold mb-2 block",children:"Código PIX copiado"}),e.jsx("textarea",{value:a.code,onChange:A=>{o(F=>({...F,code:A.target.value})),N("")},placeholder:"00020126580014BR.GOV.BCB.PIX...",className:"w-full h-24 bg-gray-800/50 border border-gray-600 rounded-xl p-3 text-white placeholder-gray-500 resize-none"})]}),e.jsx("button",{onClick:fe,disabled:!a.code.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 py-3 rounded-xl text-white font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:"Processar Código PIX"})]})]}),l==="manual-key"&&e.jsxs("div",{className:"backdrop-blur-md bg-white/10 border border-white/20 rounded-2xl p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Digite a chave PIX"}),e.jsxs("div",{className:"space-y-4",children:[f&&e.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-xl p-4",children:e.jsx("p",{className:"text-red-400 text-sm",children:f})}),e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold mb-2 block",children:"Chave PIX do destinatário"}),e.jsx("input",{value:a.key,onChange:A=>{o(F=>({...F,key:A.target.value})),N("")},placeholder:"CPF, email, celular ou chave aleatória",className:"w-full bg-gray-800/50 border border-gray-600 rounded-xl p-3 text-white placeholder-gray-500"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Ex: 000.000.000-00, email@exemplo.com, (11) 99999-9999"})]}),e.jsx("button",{onClick:J,disabled:!a.key.trim(),className:"w-full bg-purple-600 hover:bg-purple-700 py-3 rounded-xl text-white font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:"Continuar"})]})]}),l==="confirm-amount"&&e.jsxs("div",{className:"backdrop-blur-md bg-white/10 border border-white/20 rounded-2xl p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Confirme os dados"}),e.jsxs("div",{className:"space-y-4",children:[f&&e.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-xl p-4",children:e.jsx("p",{className:"text-red-400 text-sm",children:f})}),e.jsx("div",{className:"bg-gray-800/50 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx(xe,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Código PIX"}),e.jsx("p",{className:"text-white font-mono text-sm break-all",children:a.recipient})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold mb-2 block",children:"Valor a enviar"}),e.jsx("input",{type:"text",value:a.amount,onChange:A=>{o(F=>({...F,amount:A.target.value})),N("")},placeholder:"R$ 0,00",className:"w-full bg-gray-800/50 border border-gray-600 rounded-xl p-3 text-white text-xl"}),e.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:["Disponível: R$ ",s.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),parseFloat(a.amount.replace(",","."))>500&&e.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ee,{className:"w-5 h-5 text-yellow-400"}),e.jsx("span",{className:"text-yellow-400 font-semibold",children:"Verificação Necessária"})]}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Valores acima de R$ 500 requerem verificação biométrica para segurança"})]}),e.jsx("button",{onClick:Ne,disabled:!a.amount||parseFloat(a.amount.replace(",","."))<=0,className:"w-full bg-green-600 hover:bg-green-700 py-3 rounded-xl text-white font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirmar PIX"})]})]}),l==="biometric"&&e.jsxs("div",{className:"backdrop-blur-md bg-white/10 border border-white/20 rounded-2xl p-6 text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:e.jsx(ee,{className:"w-10 h-10 text-white animate-pulse"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Verificação Biométrica"}),e.jsx("p",{className:"text-gray-300 mb-6",children:"Posicione seu rosto na câmera para confirmar a transação"}),e.jsxs("div",{className:"w-32 h-32 mx-auto mb-6 border-4 border-blue-500 rounded-full relative",children:[e.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-blue-400 rounded-full animate-spin"}),e.jsx("div",{className:"absolute inset-4 bg-blue-500/20 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-12 h-12 bg-blue-500/40 rounded-full"})})]}),e.jsx("button",{onClick:O,className:"w-full bg-blue-600 hover:bg-blue-700 py-3 rounded-xl text-white font-semibold",children:"Iniciar Verificação"})]}),l==="processing"&&e.jsxs("div",{className:"backdrop-blur-md bg-white/10 border border-white/20 rounded-2xl p-6 text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center",children:e.jsx(le,{className:"w-10 h-10 text-white animate-pulse"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:T?"Processando PIX...":C?"PIX Enviado!":"Erro no Processamento"}),e.jsx("p",{className:"text-gray-300 mb-6",children:T?"Sua transação está sendo processada":C?"Transação concluída com sucesso":"Ocorreu um problema"}),d&&e.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-xl p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 justify-center mb-2",children:[e.jsx(he,{className:"w-5 h-5 text-red-400"}),e.jsx("span",{className:"text-red-400 font-semibold",children:"Erro"})]}),e.jsx("p",{className:"text-red-400 text-sm",children:d}),e.jsx("button",{onClick:()=>t("confirm-amount"),className:"mt-4 w-full bg-red-600 hover:bg-red-700 py-2 rounded-xl text-white font-semibold",children:"Tentar Novamente"})]}),T&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-gray-400",children:"Convertendo saldo..."}),e.jsx("span",{className:"text-blue-400",children:"100%"})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full w-full transition-all duration-1000"})})]}),"              ",e.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 rounded-xl p-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-gray-400",children:"Enviando PIX..."}),e.jsx("span",{className:"text-green-400",children:"Processando"})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full w-3/4 transition-all duration-2000"})})]})]}),"          ",C&&e.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 rounded-xl p-4",children:[e.jsx(G,{className:"w-12 h-12 text-green-400 mx-auto mb-2"}),e.jsx("p",{className:"text-green-400 font-semibold",children:"Aguarde, redirecionando..."})]})]}),"      ",l==="receipt"&&e.jsxs("div",{className:"backdrop-blur-md bg-white/10 border border-white/20 rounded-2xl p-6 text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center",children:e.jsx(G,{className:"w-10 h-10 text-white"})}),"          ",e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"PIX enviado com sucesso! ✅"}),"          ",e.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 mb-6 text-left",children:[e.jsx("h3",{className:"text-white font-semibold mb-3",children:"🧾 Comprovante"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Valor:"}),e.jsxs("span",{className:"text-white font-semibold",children:["R$ ",parseFloat(a.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Para:"}),e.jsx("span",{className:"text-white",children:a.recipient})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Data:"}),e.jsx("span",{className:"text-white",children:new Date().toLocaleString("pt-BR")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"ID:"}),e.jsx("span",{className:"text-white",children:Math.random().toString(36).substr(2,9).toUpperCase()})]})]})]}),"          ",e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:te,className:"w-full border border-gray-600 text-gray-300 py-3 rounded-xl font-semibold hover:bg-white/5",children:[e.jsx(xa,{className:"w-4 h-4 inline mr-2"}),"Compartilhar Comprovante"]}),"            ",e.jsx("button",{onClick:i,className:"w-full bg-green-600 hover:bg-green-700 py-3 rounded-xl text-white font-semibold",children:"Concluir"})]})]})]},l)}),"  ",e.jsx("style",{children:`
    @keyframes scan {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(192px); }
    }
  `})]})};function ps({...s}){return e.jsx(ha,{"data-slot":"select",...s})}function gs({...s}){return e.jsx(ga,{"data-slot":"select-value",...s})}function bs({className:s,size:i="default",children:l,...t}){return e.jsxs(ua,{"data-slot":"select-trigger","data-size":i,className:U("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...t,children:[l,e.jsx(pa,{asChild:!0,children:e.jsx(Ds,{className:"size-4 opacity-50"})})]})}function js({className:s,children:i,position:l="popper",...t}){return e.jsx(ba,{children:e.jsxs(ja,{"data-slot":"select-content",className:U("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",l==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:l,...t,children:[e.jsx(Ut,{}),e.jsx(fa,{className:U("p-1",l==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:i}),e.jsx(Ot,{})]})})}function Ze({className:s,children:i,...l}){return e.jsxs(Na,{"data-slot":"select-item",className:U("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...l,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(va,{children:e.jsx(ae,{className:"size-4"})})}),e.jsx(ya,{children:i})]})}function Ut({className:s,...i}){return e.jsx(wa,{"data-slot":"select-scroll-up-button",className:U("flex cursor-default items-center justify-center py-1",s),...i,children:e.jsx(Ca,{className:"size-4"})})}function Ot({className:s,...i}){return e.jsx(Sa,{"data-slot":"select-scroll-down-button",className:U("flex cursor-default items-center justify-center py-1",s),...i,children:e.jsx(Ds,{className:"size-4"})})}const fs=[{code:"001",name:"Banco do Brasil"},{code:"033",name:"Santander"},{code:"104",name:"Caixa Econômica Federal"},{code:"237",name:"Bradesco"},{code:"341",name:"Itaú"},{code:"260",name:"Nu Pagamentos"},{code:"290",name:"PagSeguro"},{code:"323",name:"Mercado Pago"},{code:"336",name:"C6 Bank"},{code:"077",name:"Inter"},{code:"212",name:"Banco Original"},{code:"364",name:"Gerencianet"},{code:"380",name:"PicPay"},{code:"755",name:"Bank of America"}],_t=({balance:s,onComplete:i})=>{const[l,t]=x.useState("form"),[a,o]=x.useState({bank:"",agency:"",account:"",accountType:"",document:"",holderName:"",amount:""}),[r,n]=x.useState({}),c=()=>{const m={};a.bank||(m.bank="Selecione um banco"),a.agency||(m.agency="Digite a agência"),a.account||(m.account="Digite a conta"),a.accountType||(m.accountType="Selecione o tipo da conta"),a.document||(m.document="Digite o CPF/CNPJ"),a.holderName||(m.holderName="Digite o nome do titular"),a.amount||(m.amount="Digite o valor");const f=parseFloat(a.amount.replace(/[^\d,]/g,"").replace(",","."));return f<10&&(m.amount="Valor mínimo: R$ 10,00"),f>s&&(m.amount="Valor excede o saldo disponível"),a.document&&!a.document.match(/(\d{3}\.\d{3}\.\d{3}-\d{2})|(\d{2}\.\d{3}\.\d{3}\/\d{4}-\d{2})/)&&(m.document="CPF/CNPJ inválido"),n(m),Object.keys(m).length===0},j=()=>{if(!c()){$.error("Corrija os erros no formulário");return}t("processing"),setTimeout(()=>{t("success"),$.success("Transferência solicitada com sucesso!")},3e3)},b=fs.find(m=>m.code===a.bank);return e.jsx("div",{className:"p-6 space-y-6 pb-20",children:e.jsxs(k.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.3},children:[l==="form"&&e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Dados da conta bancária"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold mb-2 block",children:"Banco *"}),e.jsxs(ps,{value:a.bank,onValueChange:m=>o(f=>({...f,bank:m})),children:[e.jsx(bs,{className:"bg-gray-800/50 border-gray-600 text-white",children:e.jsx(gs,{placeholder:"Selecione o banco"})}),e.jsx(js,{children:fs.map(m=>e.jsxs(Ze,{value:m.code,children:[m.code," - ",m.name]},m.code))})]}),r.bank&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:r.bank})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold mb-2 block",children:"Agência *"}),e.jsx(V,{value:a.agency,onChange:m=>o(f=>({...f,agency:m.target.value})),placeholder:"0000",className:"bg-gray-800/50 border-gray-600 text-white",maxLength:6}),r.agency&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:r.agency})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold mb-2 block",children:"Conta *"}),e.jsx(V,{value:a.account,onChange:m=>o(f=>({...f,account:m.target.value})),placeholder:"00000-0",className:"bg-gray-800/50 border-gray-600 text-white",maxLength:12}),r.account&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:r.account})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold mb-2 block",children:"Tipo da conta *"}),e.jsxs(ps,{value:a.accountType,onValueChange:m=>o(f=>({...f,accountType:m})),children:[e.jsx(bs,{className:"bg-gray-800/50 border-gray-600 text-white",children:e.jsx(gs,{placeholder:"Selecione o tipo"})}),e.jsxs(js,{children:[e.jsx(Ze,{value:"corrente",children:"Conta Corrente"}),e.jsx(Ze,{value:"poupanca",children:"Conta Poupança"})]})]}),r.accountType&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:r.accountType})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold mb-2 block",children:"CPF/CNPJ do titular *"}),e.jsx(Q,{mask:"cpf",value:a.document,onChange:m=>o(f=>({...f,document:m})),placeholder:"000.000.000-00",className:"bg-gray-800/50 border-gray-600 text-white"}),r.document&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:r.document})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold mb-2 block",children:"Nome completo do titular *"}),e.jsx(V,{value:a.holderName,onChange:m=>o(f=>({...f,holderName:m.target.value})),placeholder:"Nome completo como no banco",className:"bg-gray-800/50 border-gray-600 text-white"}),r.holderName&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:r.holderName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold mb-2 block",children:"Valor da transferência *"}),e.jsx(Q,{mask:"money",value:a.amount,onChange:m=>o(f=>({...f,amount:m})),placeholder:"R$ 0,00",className:"bg-gray-800/50 border-gray-600 text-white text-xl"}),e.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:["Disponível: R$ ",s.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Mínimo: R$ 10,00"}),r.amount&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:r.amount})]}),e.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(le,{className:"w-5 h-5 text-yellow-400"}),e.jsx("span",{className:"text-yellow-400 font-semibold",children:"Processamento"})]}),e.jsxs("ul",{className:"text-gray-300 text-sm space-y-1",children:[e.jsx("li",{children:"• O dinheiro chegará em 1-2 dias úteis"}),e.jsx("li",{children:"• Transferências solicitadas após 17h são processadas no próximo dia útil"}),e.jsx("li",{children:"• Não há taxa para transferências bancárias"})]})]}),e.jsx(g,{onClick:j,className:"w-full bg-blue-600 hover:bg-blue-700 py-3",children:"Solicitar Transferência"})]})]}),l==="processing"&&e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6 text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:e.jsx(qe,{className:"w-10 h-10 text-white animate-pulse"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Processando transferência..."}),e.jsx("p",{className:"text-gray-300 mb-6",children:"Validando dados bancários e processando sua solicitação"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-gray-400",children:"Validando conta..."}),e.jsx("span",{className:"text-blue-400",children:"100%"})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full w-full transition-all duration-1000"})})]}),e.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-gray-400",children:"Enviando para o banco..."}),e.jsx("span",{className:"text-yellow-400",children:"Processando"})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-500 h-2 rounded-full w-3/4 transition-all duration-2000"})})]})]})]}),l==="success"&&e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6 text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center",children:e.jsx(G,{className:"w-10 h-10 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Transferência solicitada! ✅"}),e.jsx("p",{className:"text-gray-300 mb-6",children:"O dinheiro chegará em até 2 dias úteis"}),e.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 mb-6 text-left",children:[e.jsx("h3",{className:"text-white font-semibold mb-3",children:"📋 Resumo da transferência"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Valor:"}),e.jsx("span",{className:"text-white font-semibold",children:a.amount})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Banco:"}),e.jsx("span",{className:"text-white",children:b?.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Agência:"}),e.jsx("span",{className:"text-white",children:a.agency})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Conta:"}),e.jsxs("span",{className:"text-white",children:[a.account," (",a.accountType,")"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Titular:"}),e.jsx("span",{className:"text-white",children:a.holderName})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Prazo:"}),e.jsx("span",{className:"text-white",children:"1-2 dias úteis"})]})]})]}),e.jsx("div",{className:"bg-green-500/10 border border-green-500/20 rounded-xl p-4 mb-6",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(he,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-green-400 font-semibold text-sm",children:"Transferência confirmada"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Você receberá uma notificação quando o dinheiro estiver disponível na sua conta bancária."})]})]})}),e.jsx(g,{onClick:i,className:"w-full bg-green-600 hover:bg-green-700 py-3",children:"Concluir"})]})]},l)})},qt=({balance:s,onBack:i,onComplete:l})=>{const[t,a]=x.useState("select"),o=()=>{t==="select"?i():a("select")};return e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"p-6 border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{onClick:o,variant:"outline",size:"sm",className:"border-gray-600",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:t==="select"?"Enviar":t==="pix"?"Pagar com PIX":"Transferência Bancária"}),e.jsxs("p",{className:"text-gray-400 text-sm",children:["Disponível: R$ ",s.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})}),e.jsx("div",{className:"flex-1",children:e.jsx(Ge,{mode:"wait",children:e.jsxs(k.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},exit:{x:-20,opacity:0},transition:{duration:.3},className:"h-full",children:[t==="select"&&e.jsx("div",{className:"p-6 space-y-4",children:e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Como você quer enviar?"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>a("pix"),className:"w-full p-5 rounded-xl border border-gray-600 bg-gray-800/50 hover:border-green-500 hover:bg-green-500/10 transition-all text-left",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center",children:e.jsx(xe,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-white font-semibold mb-1",children:"Pagar com PIX"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"QR Code, Copia e Cola ou Chave PIX"}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("span",{className:"text-xs px-2 py-1 bg-green-500/20 text-green-400 rounded-full",children:"Instantâneo"}),e.jsx("span",{className:"text-xs px-2 py-1 bg-blue-500/20 text-blue-400 rounded-full",children:"Sem taxa"})]})]})]})}),e.jsx("button",{onClick:()=>a("bank-transfer"),className:"w-full p-5 rounded-xl border border-gray-600 bg-gray-800/50 hover:border-blue-500 hover:bg-blue-500/10 transition-all text-left",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center",children:e.jsx(re,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-white font-semibold mb-1",children:"Transferência Bancária"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Para sua conta corrente ou poupança"}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("span",{className:"text-xs px-2 py-1 bg-yellow-500/20 text-yellow-400 rounded-full",children:"1-2 dias úteis"}),e.jsx("span",{className:"text-xs px-2 py-1 bg-blue-500/20 text-blue-400 rounded-full",children:"Sem taxa"})]})]})]})})]}),e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4 mt-6",children:[e.jsx("h3",{className:"text-blue-400 font-semibold mb-2",children:"ℹ️ Informações importantes"}),e.jsxs("ul",{className:"text-gray-300 text-sm space-y-1",children:[e.jsx("li",{children:"• Valor mínimo para envio: R$ 10,00"}),e.jsx("li",{children:"• Envios acima de R$ 500 exigem verificação biométrica"}),e.jsx("li",{children:"• Se seu saldo estiver em stablecoin, faremos a conversão automaticamente"})]})]})]})}),t==="pix"&&e.jsx(Mt,{balance:s,onComplete:l}),t==="bank-transfer"&&e.jsx(_t,{balance:s,onComplete:l})]},t)})})]})},Xt=({onBack:s,onComplete:i})=>{const[l,t]=x.useState("amount"),[a,o]=x.useState(""),[r,n]=x.useState(null),[c,j]=x.useState(null),[b,m]=x.useState(null);x.useEffect(()=>{try{const p=localStorage.getItem("swapin_user");if(p){const P=JSON.parse(p);m(P.id)}}catch(p){console.error("Erro ao ler dados do usuário do localStorage:",p)}},[]);const f=()=>{if(!a||parseFloat(a.replace(/[^\d,]/g,"").replace(",","."))<=0){$.error("Digite um valor válido");return}t("method")},N=p=>{n(p),t(p==="qr"?"qr-code":"pix-key")},u=(p,P)=>{p&&(navigator.clipboard.writeText(p),$.success("Copiado para a área de transferência!"),j(P),setTimeout(()=>j(null),2e3))},w=()=>{const p=parseFloat(a.replace(/[^\d,]/g,"").replace(",","."));$.success(`Depósito de R$ ${p.toLocaleString("pt-BR",{minimumFractionDigits:2})} confirmado!`),i()},T="swapin@pix.com.br",h=a?parseFloat(a.replace(/[^\d,]/g,"").replace(",",".")):0;`${Math.random().toString(36).substr(2,4).toUpperCase()}`;const d=p=>{const P=p.target.value.replace(/\D/g,"");if(!P){o("");return}const B=parseFloat(P)/100,z=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(B);o(z)},v=()=>e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(g,{onClick:s,variant:"outline",size:"sm",className:"border-gray-600",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Depósito via PIX"}),e.jsx("p",{className:"text-gray-300",children:"Digite o valor que deseja receber"})]})]}),e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6 space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-green-600/20 flex items-center justify-center mx-auto mb-4",children:e.jsx(ce,{className:"w-8 h-8 text-green-400"})}),e.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Qual valor deseja receber?"}),e.jsx("p",{className:"text-gray-300",children:"O dinheiro estará disponível na sua conta em instantes"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-medium mb-2 block",children:"Valor do depósito"}),e.jsx("input",{type:"text",inputMode:"decimal",placeholder:"R$ 0,00",value:a,onChange:d,className:"w-full bg-gray-800/50 border-gray-600 text-white rounded-lg text-lg h-14 px-4 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition"})]}),e.jsx(g,{onClick:f,className:"w-full bg-green-600 hover:bg-green-700 py-3",disabled:!a,children:"Continuar"})]})]})]}),C=()=>e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(g,{onClick:()=>t("amount"),variant:"outline",size:"sm",className:"border-gray-600",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Como prefere pagar?"}),e.jsx("p",{className:"text-gray-300",children:"Escolha a forma mais conveniente para você"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(k.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsx(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6 cursor-pointer transition-all hover:bg-white/15",onClick:()=>N("qr"),children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-600 flex items-center justify-center",children:e.jsx(xe,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-white font-semibold mb-1",children:"QR Code"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Escaneie o código QR com seu app"})]}),e.jsx(L,{className:"w-5 h-5 text-gray-400 rotate-180"})]})})}),e.jsx(k.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsx(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6 cursor-pointer transition-all hover:bg-white/15",onClick:()=>N("key"),children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-600 flex items-center justify-center",children:e.jsx(Re,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-white font-semibold mb-1",children:"Chave PIX"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Copie nossa chave PIX para transferir"})]}),e.jsx(L,{className:"w-5 h-5 text-gray-400 rotate-180"})]})})})]})]}),y=()=>e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(g,{onClick:()=>t("method"),variant:"outline",size:"sm",className:"border-gray-600",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"QR Code PIX"}),e.jsx("p",{className:"text-gray-300",children:"Escaneie o código com seu app do banco"})]})]}),e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6 space-y-6",children:[e.jsxs("div",{className:"text-center border-b border-gray-600 pb-4",children:[e.jsx("p",{className:"text-gray-300 mb-1",children:"Valor do depósito"}),e.jsxs("p",{className:"text-3xl font-bold text-green-400",children:["R$"," ",h.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-64 h-64 bg-white rounded-xl p-4",children:e.jsx("div",{className:"w-full h-full",children:b?e.jsx($s,{value:b,size:256,style:{height:"auto",maxWidth:"100%",width:"100%"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 rounded-md",children:e.jsx("p",{className:"text-sm text-gray-500",children:"Carregando QR Code..."})})})})}),e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4",children:[e.jsx("h3",{className:"text-blue-300 font-medium mb-2",children:"Como pagar:"}),e.jsxs("ol",{className:"text-blue-200 text-sm space-y-1",children:[e.jsx("li",{children:"1. Abra o app do seu banco"}),e.jsx("li",{children:"2. Escolha a opção PIX"}),e.jsx("li",{children:"3. Escaneie este QR Code"}),e.jsx("li",{children:"4. Confirme o pagamento"})]})]}),e.jsx(g,{onClick:w,className:"w-full bg-green-600 hover:bg-green-700 py-3",children:"Já fiz o pagamento"})]})]}),D=()=>e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(g,{onClick:()=>t("method"),variant:"outline",size:"sm",className:"border-gray-600",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Chave PIX"}),e.jsx("p",{className:"text-gray-300",children:"Use nossa chave PIX para transferir"})]})]}),e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6 space-y-6",children:[e.jsxs("div",{className:"text-center border-b border-gray-600 pb-4",children:[e.jsx("p",{className:"text-gray-300 mb-1",children:"Valor do depósito"}),e.jsxs("p",{className:"text-3xl font-bold text-green-400",children:["R$"," ",h.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-300 font-medium",children:"PIX Copia e Cola"}),e.jsx("span",{className:"text-blue-400 text-sm",children:"ID da Transação"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("code",{className:"flex-1 text-white bg-gray-900 px-3 py-2 rounded-lg font-mono text-xs truncate",children:b||"Carregando ID..."}),e.jsx(g,{size:"sm",variant:"outline",onClick:()=>u(b,"id"),disabled:!b,className:`${c==="id"?"bg-green-600 border-green-600 text-white":"border-gray-600"} transition-colors`,children:c==="id"?e.jsx(ae,{className:"w-4 h-4"}):e.jsx(Y,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-300 font-medium",children:"Chave PIX Alternativa"}),e.jsx("span",{className:"text-blue-400 text-sm",children:"E-mail"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("code",{className:"flex-1 text-white bg-gray-900 px-3 py-2 rounded-lg font-mono",children:T}),e.jsx(g,{size:"sm",variant:"outline",onClick:()=>u(T,"email"),className:`${c==="email"?"bg-green-600 border-green-600 text-white":"border-gray-600"} transition-colors`,children:c==="email"?e.jsx(ae,{className:"w-4 h-4"}):e.jsx(Y,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"bg-gray-800/30 rounded-xl p-4 space-y-3",children:[e.jsx("h3",{className:"text-white font-medium",children:"Dados para transferência:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Favorecido:"}),e.jsx("p",{className:"text-white",children:"Swapin Ltda"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"CNPJ:"}),e.jsx("p",{className:"text-white",children:"12.345.678/0001-90"})]})]})]}),e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4",children:[e.jsx("h3",{className:"text-blue-300 font-medium mb-2",children:"Como pagar:"}),e.jsxs("ol",{className:"text-blue-200 text-sm space-y-1",children:[e.jsx("li",{children:"1. Copie o **PIX Copia e Cola** ou a chave alternativa"}),e.jsx("li",{children:"2. Abra o app do seu banco e escolha a opção PIX"}),e.jsx("li",{children:"3. Cole o código/chave e confirme os dados"}),e.jsx("li",{children:"4. Verifique o valor e finalize o pagamento"})]})]}),e.jsx(g,{onClick:w,className:"w-full bg-green-600 hover:bg-green-700 py-3",children:"Já fiz o pagamento"})]})]}),E=()=>{switch(l){case"amount":return v();case"method":return C();case"qr-code":return y();case"pix-key":return D();default:return v()}};return e.jsx(k.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:E()})},Qt=({onBack:s,onComplete:i})=>{const[l,t]=x.useState("amount"),[a,o]=x.useState(""),[r,n]=x.useState({}),c=()=>{if(!a||parseFloat(a.replace(/[^\d,]/g,"").replace(",","."))<=0){$.error("Digite um valor válido");return}t("bank-details")},j=(w,T)=>{navigator.clipboard.writeText(w),n(h=>({...h,[T]:!0})),$.success(`${T} copiado!`),setTimeout(()=>{n(h=>({...h,[T]:!1}))},2e3)},b=()=>{const w=parseFloat(a.replace(/[^\d,]/g,"").replace(",","."));$.success(`Depósito de R$ ${w.toLocaleString("pt-BR",{minimumFractionDigits:2})} confirmado!`),i()},m=a?parseFloat(a.replace(/[^\d,]/g,"").replace(",",".")):0,f={bank:"Banco do Brasil",bankCode:"001",agency:"1234-5",account:"12345678-9",accountType:"Conta Corrente",holder:"Swapin Fintech Ltda",cnpj:"12.345.678/0001-90"},N=()=>e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(g,{onClick:s,variant:"outline",size:"sm",className:"border-gray-600",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Transferência Bancária"}),e.jsx("p",{className:"text-gray-300",children:"Digite o valor que deseja receber"})]})]}),e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6 space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-600/20 flex items-center justify-center mx-auto mb-4",children:e.jsx(ce,{className:"w-8 h-8 text-blue-400"})}),e.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Qual valor deseja receber?"}),e.jsx("p",{className:"text-gray-300",children:"A transferência será processada em até 1 dia útil"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-medium mb-2 block",children:"Valor do depósito"}),e.jsx(Q,{mask:"currency",placeholder:"R$ 0,00",value:a,onChange:o,className:"text-lg h-14"})]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:["1000","5000","10000"].map(w=>e.jsxs(g,{variant:"outline",onClick:()=>o(`R$ ${w},00`),className:"border-gray-600 text-gray-300 hover:bg-blue-600/10 hover:border-blue-600",children:["R$ ",w]},w))}),e.jsx(g,{onClick:c,className:"w-full bg-blue-600 hover:bg-blue-700 py-3",disabled:!a,children:"Ver dados bancários"})]}),e.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-yellow-500/20 flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("span",{className:"text-yellow-400 font-semibold text-sm",children:"!"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-yellow-300 font-medium mb-1",children:"Tempo de processamento"}),e.jsx("p",{className:"text-yellow-200 text-sm",children:"TED/DOC podem levar até 1 dia útil para serem processadas."})]})]})})]})]}),u=()=>e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(g,{onClick:()=>t("amount"),variant:"outline",size:"sm",className:"border-gray-600",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Dados Bancários"}),e.jsx("p",{className:"text-gray-300",children:"Use estes dados para fazer a transferência"})]})]}),e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6 space-y-6",children:[e.jsxs("div",{className:"text-center border-b border-gray-600 pb-4",children:[e.jsx("p",{className:"text-gray-300 mb-1",children:"Valor do depósito"}),e.jsxs("p",{className:"text-3xl font-bold text-blue-400",children:["R$ ",m.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("span",{className:"text-gray-300 font-medium",children:"Banco:"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"flex-1 text-white",children:[f.bank," (",f.bankCode,")"]}),e.jsx(g,{size:"sm",variant:"outline",onClick:()=>j(`${f.bank} (${f.bankCode})`,"Banco"),className:`${r.Banco?"bg-blue-600 border-blue-600":"border-gray-600"} transition-colors`,children:r.Banco?e.jsx(ae,{className:"w-4 h-4"}):e.jsx(Y,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("span",{className:"text-gray-300 font-medium",children:"Agência:"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"flex-1 text-white font-mono",children:f.agency}),e.jsx(g,{size:"sm",variant:"outline",onClick:()=>j(f.agency,"Agência"),className:`${r.Agência?"bg-blue-600 border-blue-600":"border-gray-600"} transition-colors`,children:r.Agência?e.jsx(ae,{className:"w-4 h-4"}):e.jsx(Y,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-300 font-medium",children:"Conta:"}),e.jsx("span",{className:"text-blue-400 text-sm",children:f.accountType})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"flex-1 text-white font-mono",children:f.account}),e.jsx(g,{size:"sm",variant:"outline",onClick:()=>j(f.account,"Conta"),className:`${r.Conta?"bg-blue-600 border-blue-600":"border-gray-600"} transition-colors`,children:r.Conta?e.jsx(ae,{className:"w-4 h-4"}):e.jsx(Y,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("span",{className:"text-gray-300 font-medium",children:"Favorecido:"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"flex-1 text-white",children:f.holder}),e.jsx(g,{size:"sm",variant:"outline",onClick:()=>j(f.holder,"Favorecido"),className:`${r.Favorecido?"bg-blue-600 border-blue-600":"border-gray-600"} transition-colors`,children:r.Favorecido?e.jsx(ae,{className:"w-4 h-4"}):e.jsx(Y,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("span",{className:"text-gray-300 font-medium",children:"CNPJ:"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"flex-1 text-white font-mono",children:f.cnpj}),e.jsx(g,{size:"sm",variant:"outline",onClick:()=>j(f.cnpj,"CNPJ"),className:`${r.CNPJ?"bg-blue-600 border-blue-600":"border-gray-600"} transition-colors`,children:r.CNPJ?e.jsx(ae,{className:"w-4 h-4"}):e.jsx(Y,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4",children:[e.jsx("h3",{className:"text-blue-300 font-medium mb-2",children:"Instruções importantes:"}),e.jsxs("ul",{className:"text-blue-200 text-sm space-y-1",children:[e.jsx("li",{children:"• Use exatamente o valor informado"}),e.jsx("li",{children:"• Confira todos os dados antes de confirmar"}),e.jsx("li",{children:"• A transferência pode levar até 1 dia útil"}),e.jsx("li",{children:"• Guarde o comprovante da transferência"})]})]}),e.jsx(g,{onClick:b,className:"w-full bg-blue-600 hover:bg-blue-700 py-3",children:"Já fiz a transferência"})]})]});return e.jsx(k.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:l==="amount"?N():u()})},Gt=({onBack:s,onComplete:i})=>{const[l,t]=x.useState("amount"),[a,o]=x.useState(""),[r,n]=x.useState(!1),[c,j]=x.useState(!1),b=()=>{if(!a||parseFloat(a.replace(/[^\d,]/g,"").replace(",","."))<=0){$.error("Digite um valor válido");return}t("boleto-details"),n(!0)},m=()=>{navigator.clipboard.writeText(h.barcode),j(!0),$.success("Código de barras copiado!"),setTimeout(()=>j(!1),2e3)},f=()=>{$.success("Download do boleto iniciado!")},N=()=>{const C=parseFloat(a.replace(/[^\d,]/g,"").replace(",","."));$.success(`Depósito de R$ ${C.toLocaleString("pt-BR",{minimumFractionDigits:2})} confirmado!`),i()},u=a?parseFloat(a.replace(/[^\d,]/g,"").replace(",",".")):0,w=new Date,T=new Date(w);T.setDate(T.getDate()+3);const h={barcode:"00190000090123456789012345678901234567890123456789",digitableLine:"00190.00009 01234.567890 12345.678901 2 34567890123456789",dueDate:T.toLocaleDateString("pt-BR"),documentNumber:"000000001",beneficiary:"Swapin Fintech Ltda"},d=()=>e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(g,{onClick:s,variant:"outline",size:"sm",className:"border-gray-600",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Depósito via Boleto"}),e.jsx("p",{className:"text-gray-300",children:"Digite o valor que deseja receber"})]})]}),e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6 space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-orange-600/20 flex items-center justify-center mx-auto mb-4",children:e.jsx(ce,{className:"w-8 h-8 text-orange-400"})}),e.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Qual valor deseja receber?"}),e.jsx("p",{className:"text-gray-300",children:"O boleto será gerado instantaneamente"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-medium mb-2 block",children:"Valor do depósito"}),e.jsx(Q,{mask:"currency",placeholder:"R$ 0,00",value:a,onChange:o,className:"text-lg h-14"})]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:["500","1000","2000"].map(C=>e.jsxs(g,{variant:"outline",onClick:()=>o(`R$ ${C},00`),className:"border-gray-600 text-gray-300 hover:bg-orange-600/10 hover:border-orange-600",children:["R$ ",C]},C))}),e.jsx(g,{onClick:b,className:"w-full bg-orange-600 hover:bg-orange-700 py-3",disabled:!a,children:"Gerar boleto"})]}),e.jsx("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500/20 flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("span",{className:"text-blue-400 font-semibold text-sm",children:"i"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-300 font-medium mb-1",children:"Sobre o boleto"}),e.jsx("p",{className:"text-blue-200 text-sm",children:"O boleto terá vencimento em 3 dias e pode ser pago em qualquer banco, casa lotérica ou pelo internet banking."})]})]})})]})]}),v=()=>e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(g,{onClick:()=>t("amount"),variant:"outline",size:"sm",className:"border-gray-600",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Boleto Gerado"}),e.jsx("p",{className:"text-gray-300",children:"Seu boleto está pronto para pagamento"})]})]}),e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6 space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-green-600/20 flex items-center justify-center mx-auto mb-4",children:e.jsx(be,{className:"w-8 h-8 text-green-400"})}),e.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Boleto gerado com sucesso!"}),e.jsxs("p",{className:"text-gray-300",children:["Você pode pagar até ",h.dueDate]})]}),e.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 space-y-3",children:[e.jsxs("div",{className:"text-center border-b border-gray-600 pb-3",children:[e.jsx("p",{className:"text-gray-300 mb-1",children:"Valor do boleto"}),e.jsxs("p",{className:"text-3xl font-bold text-orange-400",children:["R$ ",u.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Vencimento:"}),e.jsx("p",{className:"text-white",children:h.dueDate})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Documento:"}),e.jsx("p",{className:"text-white",children:h.documentNumber})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-gray-400",children:"Beneficiário:"}),e.jsx("p",{className:"text-white",children:h.beneficiary})]})]})]}),e.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-gray-300 font-medium",children:"Código de barras:"}),e.jsx(g,{size:"sm",variant:"outline",onClick:m,className:`${c?"bg-orange-600 border-orange-600":"border-gray-600"} transition-colors`,children:c?e.jsx(ae,{className:"w-4 h-4"}):e.jsx(Y,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"font-mono text-sm text-white bg-gray-900 p-3 rounded-lg break-all",children:h.barcode})]}),e.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4",children:[e.jsx("span",{className:"text-gray-300 font-medium mb-3 block",children:"Linha digitável:"}),e.jsx("div",{className:"font-mono text-sm text-white bg-gray-900 p-3 rounded-lg",children:h.digitableLine})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(g,{onClick:f,variant:"outline",className:"w-full border-orange-600 text-orange-400 hover:bg-orange-600/10",children:[e.jsx(ts,{className:"w-4 h-4 mr-2"}),"Baixar boleto (PDF)"]}),e.jsx(g,{onClick:N,className:"w-full bg-orange-600 hover:bg-orange-700 py-3",children:"Já paguei o boleto"})]}),e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4",children:[e.jsx("h3",{className:"text-blue-300 font-medium mb-2",children:"Como pagar:"}),e.jsxs("ul",{className:"text-blue-200 text-sm space-y-1",children:[e.jsx("li",{children:"• Internet banking: cole o código de barras"}),e.jsx("li",{children:"• App do banco: escaneie o código de barras"}),e.jsx("li",{children:"• Agência/lotérica: apresente o boleto impresso"}),e.jsx("li",{children:"• ATM: digite a linha digitável"})]})]}),e.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ts,{className:"w-5 h-5 text-yellow-400"}),e.jsx("p",{className:"text-yellow-300 font-medium",children:"Vencimento em 3 dias"})]}),e.jsx("p",{className:"text-yellow-200 text-sm mt-1",children:"Após o vencimento, o boleto pode ter juros ou não ser aceito."})]})]})]});return e.jsx(k.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:l==="amount"?d():v()})},Ht=({onBack:s,onComplete:i})=>{const[l,t]=x.useState("amount"),[a,o]=x.useState(""),[r,n]=x.useState({number:"",holder:"",expiry:"",cvv:""}),[c,j]=x.useState(!1),b=()=>{if(!a||parseFloat(a.replace(/[^\d,]/g,"").replace(",","."))<=0){$.error("Digite um valor válido");return}t("card-details")},m=()=>{if(!r.number||r.number.replace(/\s/g,"").length<16){$.error("Número do cartão inválido");return}if(!r.holder.trim()){$.error("Nome do portador é obrigatório");return}if(!r.expiry||r.expiry.length<5){$.error("Data de validade inválida");return}if(!r.cvv||r.cvv.length<3){$.error("CVV inválido");return}t("processing"),j(!0),setTimeout(()=>{j(!1);const v=parseFloat(a.replace(/[^\d,]/g,"").replace(",","."));$.success(`Depósito de R$ ${v.toLocaleString("pt-BR",{minimumFractionDigits:2})} processado com sucesso!`),i()},3e3)},f=v=>v.replace(/\D/g,"").replace(/(\d{4})(?=\d)/g,"$1 ").substring(0,19),N=v=>{const C=v.replace(/\D/g,"");return C.length>=2?C.substring(0,2)+"/"+C.substring(2,4):C},u=v=>{const C=v.replace(/\s/g,"");return/^4/.test(C)?"Visa":/^5[1-5]/.test(C)?"Mastercard":/^3[47]/.test(C)?"American Express":"Cartão"},w=a?parseFloat(a.replace(/[^\d,]/g,"").replace(",",".")):0,T=()=>e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(g,{onClick:s,variant:"outline",size:"sm",className:"border-gray-600",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Cartão de Crédito"}),e.jsx("p",{className:"text-gray-300",children:"Digite o valor que deseja receber"})]})]}),e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6 space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-600/20 flex items-center justify-center mx-auto mb-4",children:e.jsx(ce,{className:"w-8 h-8 text-purple-400"})}),e.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Qual valor deseja receber?"}),e.jsx("p",{className:"text-gray-300",children:"O valor será processado instantaneamente"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-medium mb-2 block",children:"Valor do depósito"}),e.jsx(Q,{mask:"currency",placeholder:"R$ 0,00",value:a,onChange:o,className:"text-lg h-14"})]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:["200","500","1000"].map(v=>e.jsxs(g,{variant:"outline",onClick:()=>o(`R$ ${v},00`),className:"border-gray-600 text-gray-300 hover:bg-purple-600/10 hover:border-purple-600",children:["R$ ",v]},v))}),e.jsx(g,{onClick:b,className:"w-full bg-purple-600 hover:bg-purple-700 py-3",disabled:!a,children:"Continuar"})]}),e.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-yellow-500/20 flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("span",{className:"text-yellow-400 font-semibold text-sm",children:"%"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-yellow-300 font-medium mb-1",children:"Taxa de processamento"}),e.jsx("p",{className:"text-yellow-200 text-sm",children:"Cartão de crédito tem taxa de 3,5% + R$ 0,30 por transação."})]})]})})]})]}),h=()=>e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(g,{onClick:()=>t("amount"),variant:"outline",size:"sm",className:"border-gray-600",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Dados do Cartão"}),e.jsx("p",{className:"text-gray-300",children:"Preencha as informações do seu cartão"})]})]}),e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6 space-y-6",children:[e.jsxs("div",{className:"text-center border-b border-gray-600 pb-4",children:[e.jsx("p",{className:"text-gray-300 mb-1",children:"Valor do depósito"}),e.jsxs("p",{className:"text-3xl font-bold text-purple-400",children:["R$ ",w.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:["+ Taxa: R$ ",(w*.035+.3).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-medium mb-2 block",children:"Número do cartão"}),e.jsxs("div",{className:"relative",children:[e.jsx(V,{placeholder:"0000 0000 0000 0000",value:r.number,onChange:v=>n(C=>({...C,number:f(v.target.value)})),className:"pl-12",maxLength:19}),e.jsx(re,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),r.number.length>0&&e.jsx("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-xs text-gray-400",children:u(r.number)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-medium mb-2 block",children:"Nome no cartão"}),e.jsx(V,{placeholder:"Nome como está no cartão",value:r.holder,onChange:v=>n(C=>({...C,holder:v.target.value.toUpperCase()}))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-medium mb-2 block",children:"Validade"}),e.jsx(V,{placeholder:"MM/AA",value:r.expiry,onChange:v=>n(C=>({...C,expiry:N(v.target.value)})),maxLength:5})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-medium mb-2 block",children:"CVV"}),e.jsxs("div",{className:"relative",children:[e.jsx(V,{placeholder:"000",value:r.cvv,onChange:v=>n(C=>({...C,cvv:v.target.value.replace(/\D/g,"")})),className:"pr-10",maxLength:4,type:"password"}),e.jsx(As,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]})]})]}),e.jsx(g,{onClick:m,className:"w-full bg-purple-600 hover:bg-purple-700 py-3",children:"Confirmar pagamento"})]}),e.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ee,{className:"w-5 h-5 text-green-400"}),e.jsx("p",{className:"text-green-300 font-medium",children:"Transação segura"})]}),e.jsx("p",{className:"text-green-200 text-sm",children:"Seus dados são criptografados e protegidos por SSL de 256 bits."})]})]})]}),d=()=>e.jsx("div",{className:"p-6",children:e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6 space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-600/20 flex items-center justify-center mx-auto mb-4",children:c?e.jsx("div",{className:"w-8 h-8 border-2 border-purple-400 border-t-transparent rounded-full animate-spin"}):e.jsx(re,{className:"w-8 h-8 text-purple-400"})}),e.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:c?"Processando pagamento...":"Pagamento processado!"}),e.jsx("p",{className:"text-gray-300 mb-6",children:c?"Aguarde enquanto validamos as informações do cartão":"Seu depósito foi processado com sucesso!"}),c&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-600 h-2 rounded-full w-2/3 animate-pulse"})}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Validando dados do cartão..."})]})]}),e.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 space-y-3",children:[e.jsx("h3",{className:"text-white font-medium",children:"Detalhes da transação:"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Valor:"}),e.jsxs("span",{className:"text-white",children:["R$ ",w.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Taxa:"}),e.jsxs("span",{className:"text-white",children:["R$ ",(w*.035+.3).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between border-t border-gray-600 pt-2",children:[e.jsx("span",{className:"text-gray-400 font-medium",children:"Total:"}),e.jsxs("span",{className:"text-white font-medium",children:["R$ ",(w+w*.035+.3).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Cartão:"}),e.jsxs("span",{className:"text-white",children:["**** ",r.number.slice(-4)]})]})]})]})]})});return e.jsxs(k.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:[l==="amount"&&T(),l==="card-details"&&h(),l==="processing"&&d()]})},Jt=[{id:"pix",title:"PIX",subtitle:"Transferência instantânea",icon:Re,description:"Depósito instantâneo via PIX",recommended:!0},{id:"bank-transfer",title:"TED/DOC",subtitle:"Transferência bancária",icon:Cs,description:"Transferência tradicional via TED ou DOC"},{id:"boleto",title:"Boleto",subtitle:"Pagamento por boleto",icon:be,description:"Gere um boleto para pagamento"},{id:"credit-card",title:"Cartão de Crédito",subtitle:"Pagamento com cartão",icon:re,description:"Deposite usando seu cartão de crédito"}],Wt=({onBack:s,onComplete:i})=>{const[l,t]=x.useState("select"),a=c=>{t(c)},o=()=>{t("select")},r=()=>e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(g,{onClick:s,variant:"outline",size:"sm",className:"border-gray-600",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Receber"})]}),e.jsx("p",{className:"text-gray-300",children:"Escolha como deseja receber dinheiro na sua conta"})]}),e.jsx("div",{className:"space-y-4",children:Jt.map(c=>{const j=c.icon;return e.jsx(k.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsxs(R,{className:"relative backdrop-blur-md bg-white/10 border-white/20 p-6 cursor-pointer transition-all hover:bg-white/15",onClick:()=>a(c.id),children:[c.recommended&&e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("span",{className:"bg-green-600 text-white text-xs px-2 py-1 rounded-full font-medium",children:"Recomendado"})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-green-600 to-green-700 flex items-center justify-center",children:e.jsx(j,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-white font-semibold mb-1",children:c.title}),e.jsx("p",{className:"text-gray-300 text-sm mb-1",children:c.subtitle}),e.jsx("p",{className:"text-gray-400 text-xs",children:c.description})]}),e.jsx(L,{className:"w-5 h-5 text-gray-400 rotate-180"})]})]})},c.id)})}),e.jsx(R,{className:"backdrop-blur-md bg-blue-500/10 border-blue-500/20 p-4 mt-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500/20 flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("span",{className:"text-blue-400 font-semibold text-sm",children:"i"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-300 font-medium mb-1",children:"Depósitos seguros"}),e.jsx("p",{className:"text-blue-200 text-sm",children:"Todos os depósitos são processados com segurança máxima e confirmados automaticamente."})]})]})})]}),n=()=>{const c={onBack:o,onComplete:i};switch(l){case"pix":return e.jsx(Xt,{...c});case"bank-transfer":return e.jsx(Qt,{...c});case"boleto":return e.jsx(Gt,{...c});case"credit-card":return e.jsx(Ht,{...c});default:return null}};return e.jsx("div",{className:"flex-1",children:e.jsx(Ge,{mode:"wait",children:e.jsx(k.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:l==="select"?r():n()},l)})})};function De({className:s,value:i,...l}){return e.jsx(ka,{"data-slot":"progress",className:U("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",s),...l,children:e.jsx(Pa,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(i||0)}%)`}})})}const Kt=Ns("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Z({className:s,variant:i,asChild:l=!1,...t}){const a=l?vs:"span";return e.jsx(a,{"data-slot":"badge",className:U(Kt({variant:i}),s),...t})}const Yt=({mission:s,onComplete:i,onUpload:l,onConnect:t})=>{const a=s.icon,o=()=>{if(s.completed)return e.jsxs(g,{size:"sm",disabled:!0,className:"bg-green-600/50 text-green-300 cursor-not-allowed",children:[e.jsx(je,{className:"w-4 h-4 mr-1"}),"Concluído"]});switch(s.type){case"document":return e.jsxs(g,{size:"sm",onClick:l,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Pe,{className:"w-4 h-4 mr-1"}),"Enviar docs"]});case"connection":return e.jsxs(g,{size:"sm",onClick:t,className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(Ta,{className:"w-4 h-4 mr-1"}),"Conectar"]});case"verification":return s.id==="verify_identity"?e.jsxs(g,{size:"sm",onClick:l,className:"bg-orange-600 hover:bg-orange-700",children:[e.jsx(Is,{className:"w-4 h-4 mr-1"}),"Verificar"]}):e.jsxs(g,{size:"sm",onClick:i,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(ze,{className:"w-4 h-4 mr-1"}),"Concluir"]});case"payment":return e.jsx(g,{size:"sm",disabled:!0,className:"bg-gray-600/50 text-gray-400 cursor-not-allowed",children:"Aguardando empréstimo"});default:return e.jsxs(g,{size:"sm",onClick:i,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(ze,{className:"w-4 h-4 mr-1"}),"Fazer agora"]})}},r=()=>s.completed?e.jsx(je,{className:"w-5 h-5 text-green-400"}):e.jsx(Ra,{className:"w-5 h-5 text-gray-500"}),n=()=>{const c=s.points>=50?"bg-purple-500/20 text-purple-400 border-purple-500/30":s.points>=30?"bg-blue-500/20 text-blue-400 border-blue-500/30":s.points>=20?"bg-green-500/20 text-green-400 border-green-500/30":"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";return e.jsxs(Z,{variant:"outline",className:`${c} text-xs`,children:["+",s.points," pts"]})};return e.jsx(k.div,{whileHover:{scale:1.02},transition:{duration:.2},children:e.jsxs(R,{className:`p-4 transition-all duration-300 ${s.completed?"bg-green-500/10 border-green-500/30 backdrop-blur-md":"bg-gray-800/50 border-gray-700 backdrop-blur-md hover:border-gray-600"}`,children:[e.jsxs("div",{className:"hidden sm:flex items-start gap-4",children:[e.jsx("div",{className:"mt-1 flex-shrink-0",children:r()}),e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 ${s.completed?"bg-green-500/20":"bg-gray-700/50"}`,children:e.jsx(a,{className:`w-5 h-5 ${s.completed?"text-green-400":"text-gray-400"}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`font-semibold ${s.completed?"text-green-300":"text-white"}`,children:s.title}),e.jsx("p",{className:`text-sm ${s.completed?"text-green-200/70":"text-gray-400"}`,children:s.description})]}),n()]}),e.jsx("div",{className:"flex justify-end",children:o()})]})]}),e.jsxs("div",{className:"flex sm:hidden justify-between items-center gap-4",children:[e.jsx("div",{className:"flex-1 flex-shrink-1 basis-0 overflow-hidden",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-0.5 flex-shrink-0",children:r()}),e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0 ${s.completed?"bg-green-500/20":"bg-gray-700/50"}`,children:e.jsx(a,{className:`w-4 h-4 ${s.completed?"text-green-400":"text-gray-400"}`})}),e.jsxs("div",{className:"flex flex-col items-start flex-1 min-w-0",children:[e.jsx("h3",{className:`text-sm font-semibold leading-tight mb-1 ${s.completed?"text-green-300":"text-white"}`,children:s.title}),e.jsx("p",{className:`text-xs leading-relaxed ${s.completed?"text-green-200/70":"text-gray-400"}`,children:s.description})]})]})}),e.jsxs("div",{className:"flex flex-col items-end gap-2 flex-shrink-0",children:[n(),o()]})]}),s.id==="connect_bank"&&!s.completed&&e.jsx("div",{className:"mt-3 p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:e.jsx("p",{className:"text-blue-400 text-xs",children:"🔒 Conexão segura via Open Finance. Seus dados bancários ficam protegidos."})}),s.id==="first_payment"&&!s.completed&&e.jsx("div",{className:"mt-3 p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:e.jsx("p",{className:"text-yellow-400 text-xs",children:"🏆 Maior bonificação de score! Disponível após aprovação do primeiro empréstimo."})}),(s.id==="connect_uber"||s.id==="connect_ifood")&&!s.completed&&e.jsx("div",{className:"mt-3 p-3 bg-purple-500/10 border border-purple-500/20 rounded-lg",children:e.jsx("p",{className:"text-purple-400 text-xs",children:"⭐ Para profissionais de transporte e entrega. Aumenta credibilidade do perfil."})})]})})};function K({className:s,...i}){return e.jsx(Da,{"data-slot":"label",className:U("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...i})}const Zt=({mission:s,onBack:i,onSuccess:l})=>{const[t,a]=x.useState([]),[o,r]=x.useState(!1),[n,c]=x.useState(""),[j,b]=x.useState(""),m=x.useRef(null),f=s.id==="verify_identity"?".jpg,.jpeg,.png,.pdf":".pdf,.jpg,.jpeg,.png,.doc,.docx",u=(()=>{switch(s.id){case"verify_identity":return{title:"Documento de Identidade",instructions:["📱 Foto nítida do RG ou CNH (frente e verso)","🔍 Todos os dados devem estar legíveis","💡 Boa iluminação, sem reflexos ou sombras","📄 Formato aceito: JPG, PNG ou PDF"],examples:["RG (frente e verso)","CNH (frente e verso)","RNE para estrangeiros"]};case"income_proof":return{title:"Comprovante de Renda",instructions:["📄 Últimos 3 meses de comprovação","🏢 Para CLT: Holerites recentes","💼 Para PJ: DECORE ou DRE","📊 Para autônomos: Extratos bancários"],examples:["Holerite","DECORE","DRE","Extratos bancários","Declaração de autônomo"]};case"tax_declaration":return{title:"Imposto de Renda",instructions:["📋 Declaração completa do último ano","🔐 Pode ser simplificada ou completa","✅ Aceita versão PDF gerada no site da Receita","📁 Incluir recibo de entrega se disponível"],examples:["Declaração IRPF","Recibo de entrega","Extrato da declaração"]};case"utility_bills":return{title:"Contas de Utilidades",instructions:["⚡ Conta de luz dos últimos 3 meses","📞 Conta de telefone/internet","💧 Conta de água (opcional)","🏠 Deve estar no seu nome ou de familiar"],examples:["Conta de luz","Conta de telefone","Conta de internet","Conta de água"]};default:return{title:"Documento Personalizado",instructions:["📄 Envie o documento solicitado","🔍 Certifique-se que está legível","📝 Adicione uma descrição do que está enviando","✅ Formatos aceitos: PDF, JPG, PNG, DOC"],examples:["Documento solicitado","Comprovante específico"]}}})(),w=y=>{const D=Array.from(y.target.files||[]);if(D.length===0)return;if(D.filter(P=>P.size>10*1024*1024).length>0){$.error("Alguns arquivos excedem 10MB. Por favor, reduza o tamanho.");return}const p=D.map(P=>({id:Math.random().toString(36).substr(2,9),name:P.name,size:P.size,type:P.type,url:URL.createObjectURL(P),status:"uploading",progress:0}));a(P=>[...P,...p]),r(!0),p.forEach((P,B)=>{T(P.id,B*500)})},T=(y,D)=>{setTimeout(()=>{let E=0;const p=setInterval(()=>{E+=Math.random()*30,a(P=>P.map(B=>B.id===y?{...B,progress:Math.min(E,100)}:B)),E>=100&&(clearInterval(p),a(P=>P.map(B=>B.id===y?{...B,status:"uploaded",progress:100}:B)),setTimeout(()=>{a(P=>(P.every(z=>z.status==="uploaded")&&r(!1),P))},100))},200)},D)},h=y=>{a(D=>{const E=D.filter(p=>p.id!==y);return E.length===0&&r(!1),E})},d=y=>{if(y===0)return"0 Bytes";const D=1024,E=["Bytes","KB","MB","GB"],p=Math.floor(Math.log(y)/Math.log(D));return parseFloat((y/Math.pow(D,p)).toFixed(2))+" "+E[p]},v=y=>new Promise((D,E)=>{const p=new FileReader;p.readAsDataURL(y),p.onload=()=>{const B=p.result.split(",")[1];D(B)},p.onerror=P=>E(P)}),C=async()=>{if(t.length===0){$.error("Por favor, envie pelo menos um documento.");return}if(t.some(y=>y.status!=="uploaded")){$.error("Aguarde o upload de todos os arquivos.");return}if(s.id==="custom"&&!j.trim()){$.error("Por favor, descreva o tipo de documento enviado.");return}r(!0),$.loading("🔍 Validando documentos com IA...",{id:"validating",duration:1/0});try{for(const y of t){const D=m.current;if(!D?.files)continue;const E=Array.from(D.files).find(ie=>ie.name===y.name);if(!E){console.warn(`Arquivo ${y.name} não encontrado`);continue}const P={user_id:"u1000000-0000-0000-0000-000000000001",file_content:await v(E),file_name:E.name,description:n||`${s.title} - ${E.name}`},B=await fetch("http://localhost:8000/api/v1/score/documents/validate-single",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)});if(!B.ok)throw new Error(`HTTP error! status: ${B.status}`);const z=await B.json();if(console.log("📊 Resultado da validação:",z),$.dismiss("validating"),!z.valid){r(!1);const ie=z.issues||[],fe=ie.slice(0,3).join(" • ");$.error(`❌ Documento rejeitado

${z.analysis||"Documento não atende aos critérios."}

${ie.length>0?`Problemas: ${fe}`:""}`,{duration:6e3});return}const q=z.score_update;q?$.success(`✅ Documento validado!

📊 Score: ${q.old_score} → ${q.new_score} (+${q.score_change} pontos)
⭐ Qualidade: ${z.quality_score}/100

${z.analysis?.substring(0,100)}...`,{duration:8e3}):$.success(`✅ Documento validado!

⭐ Qualidade: ${z.quality_score}/100

${z.analysis?.substring(0,100)}...`,{duration:5e3}),z.extracted_data&&Object.keys(z.extracted_data).length>0&&console.log("📊 Dados extraídos:",z.extracted_data)}r(!1),setTimeout(()=>{l()},2e3)}catch(y){r(!1),$.dismiss("validating"),console.error("Erro ao validar documentos:",y),$.error(`❌ Erro ao validar documentos

${y instanceof Error?y.message:"Erro desconhecido"}

Verifique sua conexão e tente novamente.`,{duration:5e3})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pb-20",children:[e.jsx("div",{className:"p-6 border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{onClick:i,variant:"outline",size:"sm",className:"border-gray-600",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-white",children:s.title}),e.jsxs("p",{className:"text-sm text-gray-400",children:["+",s.points," pontos"]})]})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},children:e.jsxs(R,{className:"backdrop-blur-md bg-blue-500/10 border-blue-500/30 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500/20 rounded-full flex items-center justify-center",children:e.jsx(be,{className:"w-5 h-5 text-blue-400"})}),e.jsx("h2",{className:"text-lg font-bold text-blue-400",children:u.title})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-2",children:"📋 Instruções:"}),e.jsx("ul",{className:"space-y-1",children:u.instructions.map((y,D)=>e.jsx("li",{className:"text-sm text-gray-300",children:y},D))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-2",children:"📄 Exemplos aceitos:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:u.examples.map((y,D)=>e.jsx("span",{className:"text-xs bg-blue-500/20 text-blue-300 px-2 py-1 rounded-lg",children:y},D))})]})]})]})}),e.jsx(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-white mb-4",children:"Envio de Documentos"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-xl p-8 text-center hover:border-gray-500 transition-colors cursor-pointer",onClick:()=>m.current?.click(),children:[e.jsx("input",{ref:m,type:"file",multiple:!0,accept:f,onChange:w,className:"hidden"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-700/50 rounded-full flex items-center justify-center mx-auto",children:e.jsx(Pe,{className:"w-8 h-8 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-semibold",children:"Clique para enviar arquivos"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"ou arraste e solte aqui"}),e.jsxs("p",{className:"text-gray-500 text-xs mt-2",children:["Máximo 10MB por arquivo • Formatos: ",f]})]})]})]}),t.length>0&&e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-white",children:"Arquivos enviados:"}),t.map(y=>e.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-700/50 rounded-lg flex items-center justify-center",children:y.type.startsWith("image/")?e.jsx(Is,{className:"w-4 h-4 text-gray-400"}):e.jsx($a,{className:"w-4 h-4 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white text-sm font-medium",children:y.name}),e.jsx("p",{className:"text-gray-400 text-xs",children:d(y.size)})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[y.status==="uploaded"&&e.jsx(je,{className:"w-5 h-5 text-green-400"}),y.status==="error"&&e.jsx(he,{className:"w-5 h-5 text-red-400"}),e.jsx(g,{size:"sm",variant:"ghost",onClick:()=>h(y.id),className:"text-gray-400 hover:text-red-400 p-1",children:e.jsx(me,{className:"w-4 h-4"})})]})]}),y.status==="uploading"&&e.jsx(De,{value:y.progress,className:"h-2 bg-gray-700"})]},y.id))]}),s.id==="custom"&&e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsx(K,{htmlFor:"docType",className:"text-white",children:"Tipo de documento *"}),e.jsx(V,{id:"docType",value:j,onChange:y=>b(y.target.value),placeholder:"Ex: Comprovante de residência, Contrato de trabalho...",className:"bg-gray-800/50 border-gray-600 text-white"})]}),e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsx(K,{htmlFor:"description",className:"text-white",children:"Descrição adicional (opcional)"}),e.jsx(Os,{id:"description",value:n,onChange:y=>c(y.target.value),placeholder:"Adicione qualquer informação relevante sobre os documentos enviados...",className:"bg-gray-800/50 border-gray-600 text-white min-h-[80px]"})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(g,{onClick:i,variant:"outline",className:"border-gray-600 text-gray-300",children:"Cancelar"}),e.jsx(g,{onClick:C,disabled:t.length===0||o,className:"bg-green-600 hover:bg-green-700 flex-1",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin mr-2"}),"Enviando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(je,{className:"w-4 h-4 mr-2"}),"Validar documentos"]})})]})]})})]})]})},er=({currentScore:s,onBack:i})=>{const l=[{name:"Bronze",range:"0-599",minScore:0,maxScore:599,color:"from-orange-400 to-orange-600",bgColor:"bg-orange-500/20",textColor:"text-orange-400",icon:ee,poolAccess:25,averageRate:"2.5-4.0%",benefits:["Acesso limitado a pools básicas","Taxas padrão do mercado","Análise manual mais rigorosa","Prazo de aprovação: 3-5 dias","Limite inicial reduzido"],examples:["Primeiro empréstimo na plataforma","Perfil sem histórico de crédito","Documentação básica apenas"]},{name:"Silver",range:"600-749",minScore:600,maxScore:749,color:"from-gray-300 to-gray-500",bgColor:"bg-gray-500/20",textColor:"text-gray-300",icon:Ve,poolAccess:60,averageRate:"2.0-3.0%",benefits:["Acesso a pools intermediárias","Taxas moderadas e competitivas","Análise parcialmente automatizada","Prazo de aprovação: 2-3 dias","Limite moderado disponível"],examples:["Histórico básico de pagamentos","Documentação de renda validada","Relacionamento bancário estabelecido"]},{name:"Gold",range:"750-899",minScore:750,maxScore:899,color:"from-yellow-400 to-yellow-600",bgColor:"bg-yellow-500/20",textColor:"text-yellow-400",icon:Aa,poolAccess:85,averageRate:"1.5-2.5%",benefits:["Acesso à maioria das pools","Taxas preferenciais exclusivas","Aprovação quase automática","Prazo de aprovação: 1-2 dias","Limites altos disponíveis","Suporte prioritário"],examples:["Histórico consistente de pagamentos","Múltiplas fontes de renda validadas","Score de bureau positivo","Relacionamento longo com bancos"]},{name:"Platinum",range:"900-1000",minScore:900,maxScore:1e3,color:"from-purple-400 to-purple-600",bgColor:"bg-purple-500/20",textColor:"text-purple-400",icon:Ia,poolAccess:98,averageRate:"1.0-2.0%",benefits:["Acesso VIP a todas as pools premium","Taxas exclusivas mais baixas do mercado","Aprovação instantânea automática","Prazo de aprovação: até 24 horas","Limites máximos disponíveis","Gerente de conta dedicado","Produtos financeiros exclusivos","Early access a novas funcionalidades"],examples:["Histórico perfeito de pagamentos","Múltiplas validações de alta qualidade","Score de bureau excelente (850+)","Patrimônio comprovado","Relacionamento premium com instituições"]}],t=()=>l.find(c=>s>=c.minScore&&s<=c.maxScore)||l[0],a=()=>{const c=t(),j=l.findIndex(b=>b.name===c.name);return j<l.length-1?l[j+1]:null},o=t(),r=a(),n=r?(s-o.minScore)/(r.minScore-o.minScore)*100:100;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pb-20",children:[e.jsx("div",{className:"p-6 border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{onClick:i,variant:"outline",size:"sm",className:"border-gray-600",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Níveis de Score"})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},children:e.jsxs(R,{className:`backdrop-blur-md bg-gradient-to-r ${o.bgColor} border-white/20 p-6`,children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:`w-20 h-20 mx-auto mb-4 bg-gradient-to-r ${o.color} rounded-full flex items-center justify-center`,children:e.jsx(o.icon,{className:"w-10 h-10 text-white"})}),e.jsxs("h2",{className:"text-2xl font-bold text-white mb-2",children:["Nível Atual: ",o.name]}),e.jsxs(Z,{className:`${o.bgColor} ${o.textColor} border-none`,children:["Score: ",s," • ",o.range]})]}),r&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-300",children:["Progresso para ",r.name]}),e.jsxs("span",{className:"text-gray-300",children:[r.minScore-s," pontos restantes"]})]}),e.jsx(De,{value:n,className:"h-3 bg-gray-700"}),e.jsxs("p",{className:"text-center text-sm text-gray-300",children:["Próximo nível em ",r.minScore," pontos"]})]})]})}),e.jsx(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Te,{className:"w-6 h-6 text-blue-400"}),e.jsx("h2",{className:"text-xl font-bold text-white",children:"Todos os Níveis"})]}),e.jsx("div",{className:"space-y-6",children:l.map((c,j)=>{const b=c.name===o.name,m=s>=c.minScore,f=c.icon;return e.jsx(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3+j*.1},className:`border rounded-xl p-5 transition-all duration-300 ${b?`${c.bgColor} border-current`:m?"bg-gray-800/50 border-gray-600":"bg-gray-900/50 border-gray-700 opacity-60"}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${b?c.bgColor:m?"bg-gray-700/50":"bg-gray-800/50"}`,children:m?e.jsx(f,{className:`w-6 h-6 ${b?c.textColor:"text-gray-400"}`}):e.jsx(As,{className:"w-6 h-6 text-gray-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-bold ${b?c.textColor:m?"text-white":"text-gray-500"}`,children:c.name}),e.jsxs("p",{className:`text-sm ${b?c.textColor:m?"text-gray-300":"text-gray-500"}`,children:["Score ",c.range]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`text-sm font-semibold ${b?c.textColor:m?"text-green-400":"text-gray-500"}`,children:[c.poolAccess,"% das pools"]}),e.jsxs("p",{className:`text-xs ${b?c.textColor:m?"text-gray-400":"text-gray-600"}`,children:["Taxa: ",c.averageRate]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-semibold mb-2 ${b?c.textColor:m?"text-white":"text-gray-500"}`,children:"Benefícios:"}),e.jsx("ul",{className:"space-y-1",children:c.benefits.map((N,u)=>e.jsxs("li",{className:`text-xs flex items-center gap-2 ${b?"text-gray-200":m?"text-gray-300":"text-gray-600"}`,children:[e.jsx("div",{className:`w-1 h-1 rounded-full ${b?c.bgColor:m?"bg-gray-400":"bg-gray-600"}`}),N]},u))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-semibold mb-2 ${b?c.textColor:m?"text-white":"text-gray-500"}`,children:"Como alcançar:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:c.examples.map((N,u)=>e.jsx("span",{className:`text-xs px-2 py-1 rounded-lg ${b?`${c.bgColor} ${c.textColor}`:m?"bg-gray-700/50 text-gray-300":"bg-gray-800/50 text-gray-600"}`,children:N},u))})]})]}),b&&e.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[e.jsx(je,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{className:"text-sm font-semibold text-green-400",children:"Nível Atual"})]})]})]})},c.name)})})]})}),e.jsx(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},children:e.jsxs(R,{className:"backdrop-blur-md bg-gradient-to-r from-green-500/20 to-blue-500/20 border-green-500/30 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(we,{className:"w-6 h-6 text-green-400"}),e.jsx("h2",{className:"text-lg font-bold text-white",children:"Dicas para Subir de Nível"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold text-green-400",children:"📈 Aumente seu score:"}),e.jsxs("ul",{className:"space-y-1 text-gray-300",children:[e.jsx("li",{children:"• Complete todas as missões disponíveis"}),e.jsx("li",{children:"• Mantenha pagamentos em dia"}),e.jsx("li",{children:"• Valide múltiplas fontes de renda"}),e.jsx("li",{children:"• Conecte contas e apps externos"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold text-blue-400",children:"🚀 Benefícios extras:"}),e.jsxs("ul",{className:"space-y-1 text-gray-300",children:[e.jsx("li",{children:"• Níveis mais altos = taxas menores"}),e.jsx("li",{children:"• Aprovação mais rápida"}),e.jsx("li",{children:"• Acesso a pools exclusivas"}),e.jsx("li",{children:"• Suporte prioritário"})]})]})]}),e.jsx(g,{onClick:i,className:"w-full mt-4 bg-green-600 hover:bg-green-700",children:"Voltar às missões"})]})})]})]})},sr=({onBack:s})=>{const{user:i,updateUserScore:l}=de(),[t,a]=x.useState("main"),[o,r]=x.useState(null),[n,c]=x.useState(!1),[j,b]=x.useState([{id:"create_account",title:"Criar conta",description:"Concluído automaticamente ao se registrar",points:10,icon:je,completed:!0,type:"verification"},{id:"verify_identity",title:"Verificar identidade",description:"Upload de RG ou CNH para validação biométrica",points:20,icon:ee,completed:!1,type:"verification"},{id:"connect_bank",title:"Conectar conta bancária",description:"Vincule sua conta via Open Finance para análise de movimentação",points:50,icon:Ba,completed:!1,type:"connection"},{id:"income_proof",title:"Enviar comprovante de renda",description:"Holerite, DECORE ou DRE dos últimos 3 meses",points:30,icon:be,completed:!1,type:"document"},{id:"tax_declaration",title:"Enviar Imposto de Renda",description:"Declaração completa do último ano fiscal",points:40,icon:be,completed:!1,type:"document"},{id:"connect_uber",title:"Conectar app Uber/99",description:"Para motoristas: histórico de corridas e avaliações",points:15,icon:He,completed:!1,type:"connection"},{id:"connect_ifood",title:"Conectar app iFood/Rappi",description:"Para entregadores: histórico de entregas e avaliações",points:15,icon:Ea,completed:!1,type:"connection"},{id:"utility_bills",title:"Adicionar conta de luz/telefone",description:"Comprove seu endereço e histórico de pagamentos",points:20,icon:we,completed:!1,type:"document"},{id:"first_payment",title:"Pagar 1º empréstimo em dia",description:"Histórico de pagamento é fundamental para o score",points:100,icon:La,completed:!1,type:"payment"}]),m=i?.score||650,f=j.filter(p=>p.completed),N=f.reduce((p,P)=>p+P.points,0),u=j.reduce((p,P)=>p+P.points,0),w=m/1e3*100,T=p=>p>=900?{name:"Platinum",color:"from-purple-400 to-purple-600",bgColor:"bg-purple-500/20",textColor:"text-purple-400"}:p>=750?{name:"Gold",color:"from-yellow-400 to-yellow-600",bgColor:"bg-yellow-500/20",textColor:"text-yellow-400"}:p>=600?{name:"Silver",color:"from-gray-300 to-gray-500",bgColor:"bg-gray-500/20",textColor:"text-gray-300"}:{name:"Bronze",color:"from-orange-400 to-orange-600",bgColor:"bg-orange-500/20",textColor:"text-orange-400"},h=p=>p>=900?98:p>=750?85:p>=600?60:25,d=T(m),v=h(m),C=p=>{const P=j.find(z=>z.id===p);if(!P||P.completed)return;b(z=>z.map(q=>q.id===p?{...q,completed:!0}:q));const B=Math.min(1e3,m+P.points);l?.(B),c(!0),$.success(`🎉 Missão concluída! +${P.points} pontos`,{description:`Seu score agora é ${B}`}),setTimeout(()=>c(!1),3e3)},y=p=>{const P=j.find(B=>B.id===p);P&&(r(P),a("upload"))},D=p=>{const P=j.find(B=>B.id===p);P&&($.info(`Redirecionando para ${P.title.toLowerCase()}...`),setTimeout(()=>{C(p)},2e3))},E=()=>n?e.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:[...Array(50)].map((p,P)=>e.jsx(k.div,{className:"absolute w-2 h-2 rounded-full",style:{backgroundColor:["#10B981","#3B82F6","#A855F7","#F59E0B","#EF4444"][P%5],left:`${Math.random()*100}%`,top:"-10px"},initial:{y:-10,opacity:1,rotate:0},animate:{y:window.innerHeight+10,opacity:0,rotate:360,x:[0,(Math.random()-.5)*200]},transition:{duration:Math.random()*2+1,delay:Math.random()*.5}},P))}):null;return t==="upload"&&o?e.jsx(Zt,{mission:o,onBack:()=>a("main"),onSuccess:()=>{C(o.id),a("main")}}):t==="levels"?e.jsx(er,{currentScore:m,onBack:()=>a("main")}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pb-20",children:[e.jsx(E,{}),e.jsx("div",{className:"p-6 border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{onClick:s,variant:"outline",size:"sm",className:"border-gray-600",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Aumentar Score"})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},children:e.jsxs(R,{className:"backdrop-blur-md bg-gradient-to-r from-slate-800/50 to-slate-900/50 border-white/20 p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:`w-24 h-24 mx-auto mb-4 bg-gradient-to-r ${d.color} rounded-full flex items-center justify-center`,children:e.jsx(Ve,{className:"w-12 h-12 text-white"})}),e.jsxs("h2",{className:"text-3xl font-bold text-white mb-2",children:["Seu Score: ",m]}),e.jsx(Z,{className:`${d.bgColor} ${d.textColor} border-none`,children:d.name})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-gray-300",children:"Progresso"}),e.jsxs("span",{className:"text-gray-300",children:[m,"/1000"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{value:w,className:"h-5 bg-gray-500 [&>[data-slot=progress-indicator]]:bg-gradient-to-r [&>[data-slot=progress-indicator]]:from-green-400 [&>[data-slot=progress-indicator]]:to-blue-500 [&>[data-slot=progress-indicator]]:shadow-lg [&>[data-slot=progress-indicator]]:shadow-green-400/30"}),w>0&&e.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-white/20 to-transparent rounded-full pointer-events-none transition-all duration-300",style:{width:`${w}%`}})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-green-400",children:N}),e.jsx("p",{className:"text-sm text-gray-400",children:"Pontos ganhos"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-blue-400",children:u-N}),e.jsx("p",{className:"text-sm text-gray-400",children:"Pontos disponíveis"})]})]})]})]})}),e.jsx(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:e.jsx(R,{className:"backdrop-blur-md bg-gradient-to-r from-blue-500/20 to-purple-500/20 border-blue-500/30 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500/20 rounded-full flex items-center justify-center",children:e.jsx(_e,{className:"w-5 h-5 text-blue-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-blue-400 font-semibold",children:["💡 Você tem acesso a ",v,"% das pools ativas!"]}),e.jsx("p",{className:"text-gray-300 text-sm",children:m<750?"Com score 750+, você teria acesso a 85% das pools com taxas melhores!":m<900?"Com score 900+, você teria acesso VIP a 98% das pools!":"Parabéns! Você tem acesso VIP a todas as pools premium!"})]}),e.jsx(g,{size:"sm",variant:"outline",className:"border-blue-500 text-blue-400 hover:bg-blue-500/10",onClick:()=>a("levels"),children:"Ver níveis"})]})})}),e.jsx(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-4 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx(Te,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-400 flex-shrink-0"}),e.jsx("h2",{className:"text-lg sm:text-xl font-bold text-white truncate",children:"Missões de Score"})]}),e.jsxs(Z,{variant:"outline",className:"border-green-500 text-green-400 self-start sm:self-center flex-shrink-0",children:[f.length,"/",j.length," concluídas"]})]}),e.jsx("div",{className:"space-y-3 sm:space-y-4",children:j.map((p,P)=>e.jsx(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4+P*.1},children:e.jsx(Yt,{mission:p,onComplete:()=>C(p.id),onUpload:()=>y(p.id),onConnect:()=>D(p.id)})},p.id))})]})}),e.jsx(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},children:e.jsxs(R,{className:"backdrop-blur-md bg-gradient-to-r from-purple-500/20 to-pink-500/20 border-purple-500/30 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Ss,{className:"w-6 h-6 text-purple-400"}),e.jsx("h2",{className:"text-lg font-bold text-white",children:"Benefícios por Nível"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),e.jsx("span",{className:"text-orange-400 font-semibold",children:"Bronze (0-599)"})]}),e.jsx("p",{className:"text-gray-300 text-xs",children:"• Acesso limitado a pools básicas"}),e.jsx("p",{className:"text-gray-300 text-xs",children:"• Taxas padrão"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full"}),e.jsx("span",{className:"text-gray-300 font-semibold",children:"Silver (600-749)"})]}),e.jsx("p",{className:"text-gray-300 text-xs",children:"• Acesso a pools intermediárias"}),e.jsx("p",{className:"text-gray-300 text-xs",children:"• Taxas moderadas"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),e.jsx("span",{className:"text-yellow-400 font-semibold",children:"Gold (750-899)"})]}),e.jsx("p",{className:"text-gray-300 text-xs",children:"• Acesso a 85% das pools"}),e.jsx("p",{className:"text-gray-300 text-xs",children:"• Taxas preferenciais"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),e.jsx("span",{className:"text-purple-400 font-semibold",children:"Platinum (900-1000)"})]}),e.jsx("p",{className:"text-gray-300 text-xs",children:"• Acesso VIP a todas as pools"}),e.jsx("p",{className:"text-gray-300 text-xs",children:"• Taxas premium exclusivas"})]})]}),e.jsx(g,{className:"w-full mt-4 bg-purple-600 hover:bg-purple-700",onClick:()=>a("levels"),children:"Ver detalhes completos"})]})})]})]})},ar=({loan:s,userBalance:i,onBack:l,onSuccess:t})=>{const[a,o]=x.useState(null),[r,n]=x.useState("method-selection"),[c,j]=x.useState(!1),b=i>=s.nextPayment,m="00020104141234567890123426580014BR.GOV.BCB.PIX014466756C616E6F32343030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030",f="swapin.pagamentos@swapin.com.br",N=async()=>{j(!0),n("processing"),await new Promise(v=>setTimeout(v,2e3)),n("success"),setTimeout(()=>{t()},2e3)},u=()=>{o("pix"),n("pix-payment")},w=()=>{o("boleto"),n("boleto-payment")},T=async()=>{j(!0),n("processing"),await new Promise(v=>setTimeout(v,3e3)),n("success"),setTimeout(()=>{t()},2e3)},h=(v,C)=>{navigator.clipboard.writeText(v),$.success(`${C} copiado para a área de transferência`)},d=()=>{$.success("Boleto gerado com sucesso!",{description:"O download será iniciado automaticamente"}),setTimeout(()=>{j(!0),n("processing"),setTimeout(()=>{n("success"),setTimeout(()=>{t()},2e3)},2e3)},1e3)};return r==="processing"?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-6",children:e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-8 text-center max-w-md w-full",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})}),e.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Processando pagamento..."}),e.jsx("p",{className:"text-gray-400 mb-4",children:"Aguarde enquanto confirmamos seu pagamento"}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[e.jsx("p",{children:"• Validando dados de pagamento"}),e.jsx("p",{children:"• Processando transação"}),e.jsx("p",{children:"• Atualizando saldo do empréstimo"})]})]})}):r==="success"?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-6",children:e.jsxs(R,{className:"backdrop-blur-md bg-gradient-to-r from-green-500/20 to-green-600/20 border-green-500/30 p-8 text-center max-w-md w-full",children:[e.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(je,{className:"w-8 h-8 text-green-400"})}),e.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Pagamento realizado!"}),e.jsx("p",{className:"text-gray-300 mb-6",children:"Sua parcela foi paga com sucesso"}),e.jsx("div",{className:"bg-green-500/10 border border-green-500/20 rounded-xl p-4 mb-6",children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Valor pago:"}),e.jsxs("span",{className:"text-green-400 font-semibold",children:["R$ ",s.nextPayment.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Empréstimo:"}),e.jsx("span",{className:"text-white",children:s.source})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Data:"}),e.jsx("span",{className:"text-white",children:new Date().toLocaleDateString("pt-BR")})]})]})}),e.jsx("p",{className:"text-xs text-gray-400",children:"Redirecionando para o dashboard..."})]})}):r==="pix-payment"?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pb-20",children:[e.jsx("div",{className:"p-6 border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{onClick:()=>n("method-selection"),variant:"outline",size:"sm",className:"border-gray-600",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-white",children:"Pagamento via PIX"}),e.jsxs("p",{className:"text-sm text-gray-400",children:["R$ ",s.nextPayment.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs(R,{className:"backdrop-blur-md bg-blue-500/10 border-blue-500/30 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(xe,{className:"w-6 h-6 text-blue-400"}),e.jsx("h2",{className:"text-lg font-bold text-white",children:"Dados para pagamento"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white rounded-xl p-4 flex items-center justify-center",children:e.jsx("div",{className:"w-48 h-48 bg-gray-900 rounded-lg flex items-center justify-center",children:e.jsx(xe,{className:"w-24 h-24 text-gray-600"})})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-gray-300 mb-2 block",children:"Chave PIX (Email)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{value:f,readOnly:!0,className:"bg-gray-800/50 border-gray-600 text-white"}),e.jsx(g,{size:"sm",variant:"outline",onClick:()=>h(f,"Chave PIX"),className:"border-gray-600",children:e.jsx(Y,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-gray-300 mb-2 block",children:"Código PIX Copia e Cola"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{value:`${m.slice(0,50)}...`,readOnly:!0,className:"bg-gray-800/50 border-gray-600 text-white text-xs"}),e.jsx(g,{size:"sm",variant:"outline",onClick:()=>h(m,"Código PIX"),className:"border-gray-600",children:e.jsx(Y,{className:"w-4 h-4"})})]})]})]})]})]}),e.jsx(R,{className:"backdrop-blur-md bg-yellow-500/10 border-yellow-500/30 p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(_e,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-yellow-400 mb-2",children:"Como pagar:"}),e.jsxs("ul",{className:"space-y-1 text-sm text-gray-300",children:[e.jsx("li",{children:"1. Abra o app do seu banco"}),e.jsx("li",{children:"2. Escolha PIX → Ler QR Code ou Copia e Cola"}),e.jsx("li",{children:"3. Escaneie o código ou cole a chave PIX"}),e.jsxs("li",{children:["4. Confirme o pagamento de R$ ",s.nextPayment.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]})}),e.jsx(g,{onClick:T,disabled:c,className:"w-full bg-green-600 hover:bg-green-700 font-semibold",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin mr-2"}),"Confirmando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(je,{className:"w-4 h-4 mr-2"}),"Confirmar pagamento"]})}),e.jsx("p",{className:"text-xs text-gray-400 text-center",children:"O pagamento será confirmado automaticamente em até 2 minutos"})]})]}):r==="boleto-payment"?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pb-20",children:[e.jsx("div",{className:"p-6 border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{onClick:()=>n("method-selection"),variant:"outline",size:"sm",className:"border-gray-600",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-white",children:"Pagamento via Boleto"}),e.jsxs("p",{className:"text-sm text-gray-400",children:["R$ ",s.nextPayment.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs(R,{className:"backdrop-blur-md bg-orange-500/10 border-orange-500/30 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(be,{className:"w-6 h-6 text-orange-400"}),e.jsx("h2",{className:"text-lg font-bold text-white",children:"Dados do Boleto"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Valor:"}),e.jsxs("p",{className:"text-white font-semibold",children:["R$ ",s.nextPayment.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Vencimento:"}),e.jsx("p",{className:"text-white font-semibold",children:new Date(Date.now()+s.daysUntilPayment*24*60*60*1e3).toLocaleDateString("pt-BR")})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Beneficiário:"}),e.jsx("p",{className:"text-white font-semibold",children:"Swapin Pagamentos"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Nosso Número:"}),e.jsxs("p",{className:"text-white font-semibold",children:["000",s.id.padStart(7,"0")]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-gray-300 mb-2 block",children:"Código de Barras"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{value:"34191.79001 01043.510047 91020.150008 4 96610000045050",readOnly:!0,className:"bg-gray-800/50 border-gray-600 text-white font-mono text-sm"}),e.jsx(g,{size:"sm",variant:"outline",onClick:()=>h("34191790010104351004791020150008496610000045050","Código de barras"),className:"border-gray-600",children:e.jsx(Y,{className:"w-4 h-4"})})]})]})]})]}),e.jsx(R,{className:"backdrop-blur-md bg-blue-500/10 border-blue-500/20 p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(_e,{className:"w-5 h-5 text-blue-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-400 mb-2",children:"Como pagar:"}),e.jsxs("ul",{className:"space-y-1 text-sm text-gray-300",children:[e.jsx("li",{children:"• Faça o download do boleto"}),e.jsx("li",{children:"• Imprima ou salve no celular"}),e.jsx("li",{children:"• Pague em qualquer banco, lotérica ou app bancário"}),e.jsx("li",{children:"• Use o código de barras para pagamento digital"})]})]})]})}),e.jsxs(g,{onClick:d,className:"w-full bg-orange-600 hover:bg-orange-700 font-semibold",children:[e.jsx(ts,{className:"w-4 h-4 mr-2"}),"Gerar e baixar boleto"]}),e.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(he,{className:"w-5 h-5 text-red-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-red-400 mb-2",children:"Atenção:"}),e.jsx("p",{className:"text-sm text-gray-300",children:"O boleto vence hoje às 23:59h. Após o vencimento, podem ser aplicados juros e multa."})]})]})})]})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pb-20",children:[e.jsx("div",{className:"p-6 border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{onClick:l,variant:"outline",size:"sm",className:"border-gray-600",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-white",children:"Pagar Parcela"}),e.jsx("p",{className:"text-sm text-gray-400",children:s.source})]})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs(R,{className:"backdrop-blur-md bg-gradient-to-r from-blue-500/20 to-purple-500/20 border-blue-500/30 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(re,{className:"w-6 h-6 text-blue-400"}),e.jsx("h2",{className:"text-lg font-bold text-white",children:"Resumo do Pagamento"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400 text-sm",children:"Valor da parcela"}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:["R$ ",s.nextPayment.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400 text-sm",children:"Vencimento"}),e.jsx("p",{className:"text-lg font-semibold text-yellow-400",children:s.daysUntilPayment===0?"Hoje":`${s.daysUntilPayment} dias`})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/30 rounded-xl",children:[e.jsx("span",{className:"text-gray-300",children:"Empréstimo total:"}),e.jsxs("span",{className:"text-white font-semibold",children:["R$ ",s.amount.toLocaleString("pt-BR")]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:"Escolha a forma de pagamento"}),e.jsx(k.div,{whileHover:{scale:1.02},transition:{duration:.2},children:e.jsxs(R,{className:`p-4 border cursor-pointer transition-all ${b?"bg-green-500/10 border-green-500/30 hover:border-green-400/50":"bg-gray-800/30 border-gray-700 opacity-60 cursor-not-allowed"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${b?"bg-green-500/20":"bg-gray-700/50"}`,children:e.jsx(Je,{className:`w-5 h-5 ${b?"text-green-400":"text-gray-500"}`})}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-semibold ${b?"text-white":"text-gray-500"}`,children:"Débito do saldo"}),e.jsxs("p",{className:`text-sm ${b?"text-gray-300":"text-gray-600"}`,children:["Saldo atual: R$ ",i.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),e.jsx("div",{className:"text-right",children:b?e.jsx(Z,{className:"bg-green-500/20 text-green-400 border-green-500/30",children:"Instantâneo"}):e.jsx(Z,{variant:"outline",className:"border-gray-600 text-gray-500",children:"Saldo insuficiente"})})]}),b&&e.jsxs(g,{onClick:N,className:"w-full mt-4 bg-green-600 hover:bg-green-700",children:[e.jsx(ee,{className:"w-4 h-4 mr-2"}),"Pagar automaticamente"]})]})}),e.jsx(k.div,{whileHover:{scale:1.02},transition:{duration:.2},children:e.jsx(R,{className:"p-4 bg-blue-500/10 border-blue-500/30 hover:border-blue-400/50 cursor-pointer transition-all",onClick:u,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500/20 rounded-full flex items-center justify-center",children:e.jsx(xe,{className:"w-5 h-5 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white",children:"PIX"}),e.jsx("p",{className:"text-sm text-gray-300",children:"QR Code ou Copia e Cola"})]})]}),e.jsx(Z,{className:"bg-blue-500/20 text-blue-400 border-blue-500/30",children:"Até 2 min"})]})})}),e.jsx(k.div,{whileHover:{scale:1.02},transition:{duration:.2},children:e.jsx(R,{className:"p-4 bg-orange-500/10 border-orange-500/30 hover:border-orange-400/50 cursor-pointer transition-all",onClick:w,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-500/20 rounded-full flex items-center justify-center",children:e.jsx(be,{className:"w-5 h-5 text-orange-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white",children:"Boleto Bancário"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Pague em qualquer banco"})]})]}),e.jsx(Z,{className:"bg-orange-500/20 text-orange-400 border-orange-500/30",children:"Até 1 dia útil"})]})})})]}),e.jsx(R,{className:"backdrop-blur-md bg-gray-500/10 border-gray-500/20 p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ee,{className:"w-5 h-5 text-gray-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-300 mb-2",children:"Pagamento Seguro"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Seu pagamento é protegido por criptografia de ponta a ponta. O valor será automaticamente distribuído entre os investidores da pool."})]})]})}),s.daysUntilPayment<=3&&e.jsx(R,{className:"backdrop-blur-md bg-red-500/10 border-red-500/30 p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(he,{className:"w-5 h-5 text-red-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-red-400 mb-2",children:s.daysUntilPayment===0?"Vence hoje!":"Vencimento próximo!"}),e.jsx("p",{className:"text-sm text-gray-300",children:s.daysUntilPayment===0?"Esta parcela vence hoje. Pague o quanto antes para evitar juros.":`Esta parcela vence em ${s.daysUntilPayment} dia${s.daysUntilPayment>1?"s":""}. Não se esqueça!`})]})]})})]})]})},tr=()=>{const{user:s,logout:i}=de(),{balance:l}=Ms(),{getCreditLimit:t,getAvailableCredit:a}=Us(),[o,r]=x.useState("main"),[n,c]=x.useState(null),[j,b]=x.useState(""),m=[{id:"1",amount:5e3,nextPayment:450.5,daysUntilPayment:12,source:"Pool Diversificação Brasil",type:"pool"},{id:"2",amount:2e3,nextPayment:180,daysUntilPayment:8,source:"João Santos",type:"direct"}],f=[{id:"1",type:"loan_received",amount:5e3,date:"2024-10-01",description:"Empréstimo aprovado - Pool Diversificação"},{id:"2",type:"deposit",amount:1e3,date:"2024-10-01",description:"Depósito via PIX"},{id:"3",type:"loan_payment",amount:-450.5,date:"2024-09-30",description:"Pagamento parcela 1/12"}];t();const N=a(),u=(s?.score||0)/1e3*100;return o==="deposit"?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pb-20",children:[e.jsx(Wt,{onBack:()=>r("main"),onComplete:()=>{r("main"),$.success("Depósito processado com sucesso!")}}),e.jsx(X,{userType:"borrower",activeTab:o,onTabChange:r})]}):o==="withdraw"?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pb-20",children:[e.jsx(qt,{balance:l.brl,onBack:()=>r("main"),onComplete:()=>{r("main"),$.success("Envio processado com sucesso!")}}),e.jsx(X,{userType:"borrower",activeTab:o,onTabChange:r})]}):o==="request-credit"?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pb-20",children:[e.jsx(Vt,{onBack:()=>r("main"),onComplete:()=>{r("main"),$.success("Solicitação de crédito concluída com sucesso!")}}),e.jsx(X,{userType:"borrower",activeTab:o,onTabChange:r})]}):o==="score-info"?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pb-20",children:[e.jsx(sr,{onBack:()=>r("main")}),e.jsx(X,{userType:"borrower",activeTab:o,onTabChange:r})]}):o==="payment"&&n?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pb-20",children:[e.jsx(ar,{loan:n,userBalance:l.brl,onBack:()=>{r("main"),c(null)},onSuccess:()=>{r("main"),c(null),$.success("Pagamento processado com sucesso!")}}),e.jsx(X,{userType:"borrower",activeTab:o,onTabChange:r})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pb-20",children:[e.jsx("div",{className:"p-6 border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-white",children:["Olá, ",s?.name?.split(" ")[0],"! 👋"]}),e.jsx("p",{className:"text-gray-400",children:"Bem-vindo de volta ao Swapin"})]}),e.jsxs(ft,{children:[e.jsx(Nt,{asChild:!0,children:e.jsx("button",{className:"w-12 h-12 bg-transparent border-2 border-red-500 hover:bg-red-500/10 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-105 hover:shadow-lg hover:shadow-red-500/20",title:"Sair da conta",children:e.jsx(Ie,{className:"w-5 h-5 text-red-500"})})}),e.jsxs(wt,{className:"backdrop-blur-md bg-gray-900/95 border-gray-700",children:[e.jsxs(Ct,{children:[e.jsxs(kt,{className:"text-white flex items-center gap-2",children:[e.jsx(Ie,{className:"w-5 h-5 text-red-500"}),"Confirmar Logout"]}),e.jsx(Pt,{className:"text-gray-300",children:"Tem certeza que deseja sair da sua conta? Você precisará fazer login novamente para acessar o Swapin."})]}),e.jsxs(St,{children:[e.jsx(Tt,{className:"bg-gray-700 hover:bg-gray-600 text-white border-gray-600",children:"Cancelar"}),e.jsx(Rt,{onClick:()=>{i(),$.success("Logout realizado com sucesso!")},className:"bg-red-600 hover:bg-red-700 text-white",children:"Sair"})]})]})]})]})}),e.jsxs("div",{className:"p-6 space-y-6 bg-gradient-to-br from-slate-900 via-slate-800/95 to-slate-900 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-[0.02]",children:[e.jsx("div",{className:"absolute top-0 left-1/4 w-72 h-72 bg-green-500 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-1/3 right-1/4 w-56 h-56 bg-blue-500 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-purple-500 rounded-full blur-3xl"})]}),e.jsx("div",{className:"absolute inset-0 opacity-[0.015] bg-[radial-gradient(circle_at_50%_50%,rgba(255,255,255,0.1)_0%,transparent_50%)] bg-[length:4px_4px]"}),e.jsx(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"relative z-10",children:e.jsxs(R,{className:"backdrop-blur-md bg-gradient-to-r from-green-500/20 to-blue-500/20 border-green-500/30 p-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Je,{className:"w-5 h-5 text-green-400"}),e.jsx("h3",{className:"text-sm font-semibold text-gray-300",children:"Saldo Disponível"})]}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:["R$ ",l.brl.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 justify-end",children:[e.jsx(re,{className:"w-5 h-5 text-blue-400"}),e.jsx("h3",{className:"text-sm font-semibold text-gray-300 text-right",children:"Crédito Aprovado"})]}),e.jsxs("p",{className:"text-2xl font-bold text-white text-right",children:["R$ ",N.toLocaleString("pt-BR")]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(g,{size:"sm",className:"bg-green-600 hover:bg-green-700 flex-1 min-w-[90px]",onClick:()=>r("deposit"),children:[e.jsx(ze,{className:"w-4 h-4 mr-1"}),"Receber"]}),e.jsxs(g,{size:"sm",variant:"outline",className:"border-gray-600 text-[rgba(0,0,0,1)] hover:bg-gray-700 hover:text-white flex-1 min-w-[90px]",onClick:()=>r("withdraw"),children:[e.jsx(Fe,{className:"w-4 h-4 mr-1"}),"Enviar"]}),e.jsxs(g,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 flex-1 min-w-[100px]",onClick:()=>r("request-credit"),children:[e.jsx(re,{className:"w-4 h-4 mr-1"}),"Pedir Crédito"]})]})]})}),e.jsx(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"relative z-10",children:e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-[-2px] mt-[0px] mr-[0px] ml-[0px]",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ve,{className:"w-6 h-6 text-yellow-400"}),e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Score Swapin"})]}),e.jsx("span",{className:"text-yellow-400 font-semibold",children:s?.scoreLevel})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-white font-bold text-2xl",children:s?.score}),e.jsx("span",{className:"text-gray-400 text-sm",children:"de 1000"})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-green-500 h-2 rounded-full transition-all duration-500",style:{width:`${u}%`}})})]}),e.jsx("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-3",children:e.jsx("p",{className:"text-blue-400 text-sm",children:"💡 Score >700 = 85% das pools compatíveis"})}),e.jsxs(g,{size:"sm",className:"w-full bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 text-white font-bold shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all duration-300 backdrop-blur-sm border-0",onClick:()=>r("score-info"),children:[e.jsx(oe,{className:"w-4 h-4 mr-2"}),"Aumentar score"]})]})]})}),e.jsx(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"relative z-10",children:e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(re,{className:"w-6 h-6 text-blue-400"}),e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Empréstimos Ativos"})]}),e.jsx("div",{className:"space-y-3",children:m.map(w=>e.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-white font-semibold",children:["R$ ",w.amount.toLocaleString("pt-BR")]}),e.jsx("p",{className:"text-gray-400 text-sm",children:w.source}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${w.type==="pool"?"bg-green-500/20 text-green-400":"bg-blue-500/20 text-blue-400"}`,children:w.type==="pool"?"Pool":"Direto"})]}),e.jsx(g,{size:"sm",className:"bg-green-600 hover:bg-green-700 font-medium hover:scale-[1.02] transition-all duration-300",onClick:()=>{r("payment"),c(w)},children:"Pagar"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Próxima parcela:"}),e.jsxs("span",{className:"text-white",children:["R$ ",w.nextPayment.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Vencimento:"}),e.jsxs("span",{className:"text-yellow-400",children:[w.daysUntilPayment," dias"]})]})]},w.id))})]})}),e.jsx(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"relative z-10",children:e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(oe,{className:"w-6 h-6 text-purple-400"}),e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Histórico Recente"})]})}),e.jsx("div",{className:"space-y-3",children:f.map(w=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/30 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${w.amount>0?"bg-green-500/20":"bg-red-500/20"}`,children:w.amount>0?e.jsx(ts,{className:"w-4 h-4 text-green-400"}):e.jsx(Fe,{className:"w-4 h-4 text-red-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white text-sm",children:w.description}),e.jsx("p",{className:"text-gray-400 text-xs",children:w.date})]})]}),e.jsxs("span",{className:`font-semibold ${w.amount>0?"text-green-400":"text-red-400"}`,children:[w.amount>0?"+":"","R$ ",Math.abs(w.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]},w.id))})]})})]}),e.jsx(X,{userType:"borrower",activeTab:o,onTabChange:r})]})},rr=s=>{const[i,l]=x.useState(null),[t,a]=x.useState(!0),[o,r]=x.useState(null),n=x.useCallback(async()=>{a(!0),r(null);try{const b=await fetch(`http://localhost:8000/api/v1/portfolio/overview?investor_id=${s}`);if(!b.ok)throw new Error(`HTTP error! status: ${b.status}`);const m=await b.json();return l(m),m}catch(b){const m=b instanceof Error?b.message:"Erro ao buscar portfólio";return r(m),console.error("Erro ao buscar portfólio:",b),null}finally{a(!1)}},[s]),c=x.useCallback(async()=>{try{const b=await fetch(`http://localhost:8000/api/v1/portfolio/performance?investor_id=${s}`);if(!b.ok)throw new Error(`HTTP error! status: ${b.status}`);return await b.json()}catch(b){return console.error("Erro ao buscar performance:",b),null}},[s]),j=x.useCallback(()=>n(),[n]);return x.useEffect(()=>{n()},[s,n]),{portfolioData:i,isLoading:t,error:o,refresh:j,fetchPerformance:c,balance:i?.balance||{total:0,available:0,invested:0,blocked:0},pools:i?.pools||[],directInvestments:i?.direct_investments||[],opportunities:i?.opportunities||[],performance:i?.performance||{total_invested:0,total_received:0,active_loans:0,average_rate:0}}},lr=({value:s,onChange:i,locale:l,currency:t,...a})=>{const o=r=>{const c=r.target.value.replace(/\D/g,"");if(c===""){i("");return}const j=parseInt(c,10)/100,b=new Intl.NumberFormat(l,{style:"currency",currency:t}).format(j);i(b)};return e.jsx(V,{type:"text",inputMode:"decimal",value:s,onChange:o,...a})},ir=({onBack:s,onComplete:i})=>{const[l,t]=x.useState("method-selection"),[a,o]=x.useState(null),[r,n]=x.useState(""),[c,j]=x.useState(!1),[b,m]=x.useState({number:"",expiry:"",cvv:"",name:""}),[f,N]=x.useState(null);x.useEffect(()=>{try{const d=localStorage.getItem("swapin_user");if(d){const v=JSON.parse(d);N(v.id)}}catch(d){console.error("Erro ao ler dados do usuário do localStorage:",d)}},[]);const u=[{id:"pix",title:"PIX (BRL)",subtitle:"Conversão automática para USDC",icon:Re,time:"Instantâneo",fee:"Sem taxa",color:"from-green-500 to-emerald-500",popular:!0},{id:"crypto",title:"Stablecoins",subtitle:"USDC, USDT, DAI direto",icon:ce,time:"5-10 minutos",fee:"Taxa da rede",color:"from-blue-500 to-cyan-500",popular:!1},{id:"wire",title:"Transferência Internacional",subtitle:"USD, EUR via SWIFT",icon:qe,time:"1-3 dias úteis",fee:"Taxa bancária",color:"from-purple-500 to-violet-500",popular:!1},{id:"card",title:"Cartão Internacional",subtitle:"Compra direta de stablecoins",icon:re,time:"5-15 minutos",fee:"2.9% + spread",color:"from-orange-500 to-red-500",popular:!1}],w=d=>{o(d),t(d)},T=async()=>{const d=r.replace(/[^\d.,]/g,"").replace(",",".");if(!r||parseFloat(d)<=0){$.error("Digite um valor válido");return}j(!0),t("processing"),setTimeout(()=>{j(!1),t("success"),$.success("Depósito confirmado! Saldo atualizado")},a==="pix"?2e3:a==="crypto"?8e3:a==="wire"?3e3:4e3)},h=(d,v)=>{navigator.clipboard.writeText(d),$.success(`${v} copiado!`)};if(l==="method-selection")return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pb-20",children:[e.jsx("div",{className:"p-6 border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{onClick:s,variant:"outline",size:"sm",className:"border-gray-600 bg-transparent text-white",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Escolha como receber"})]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[u.map(d=>e.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:u.indexOf(d)*.1},children:e.jsx(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6 cursor-pointer hover:bg-white/15 transition-all duration-300",onClick:()=>w(d.id),children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${d.color} rounded-xl flex items-center justify-center`,children:e.jsx(d.icon,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"text-white font-semibold",children:d.title}),d.popular&&e.jsx(Z,{className:"bg-green-500/20 text-green-400 text-xs",children:"Mais usado"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-2",children:d.subtitle}),e.jsxs("div",{className:"flex gap-4 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(le,{className:"w-3 h-3 text-gray-500"}),e.jsx("span",{className:"text-gray-400",children:d.time})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ce,{className:"w-3 h-3 text-gray-500"}),e.jsx("span",{className:"text-gray-400",children:d.fee})]})]})]}),e.jsx(L,{className:"w-5 h-5 text-gray-400 rotate-180"})]})})},d.id)),e.jsx(R,{className:"backdrop-blur-md bg-blue-500/10 border-blue-500/20 p-4 mt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ee,{className:"w-5 h-5 text-blue-400"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-blue-400 font-semibold text-sm",children:"100% Seguro"}),e.jsx("p",{className:"text-gray-300 text-xs",children:"Todos os depósitos são protegidos por criptografia de ponta e auditoria blockchain"})]})]})})]}),e.jsx(X,{userType:"lender",activeTab:"deposit",onTabChange:()=>{}})]});if(l==="pix")return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pb-20",children:[e.jsx("div",{className:"p-6 border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{onClick:()=>t("method-selection"),variant:"outline",size:"sm",className:"border-gray-600 bg-transparent text-white",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Depósito via PIX"})]})}),e.jsx("div",{className:"p-6 space-y-6",children:e.jsx(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold mb-2 block",children:"Valor em Reais (BRL)"}),e.jsx(lr,{locale:"pt-BR",currency:"BRL",placeholder:"R$ 0,00",value:r,onChange:n,className:"bg-gray-800/50 border-gray-600 text-white text-lg"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Será convertido automaticamente para USDC (1 USD ≈ R$ 5,015)"})]}),e.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Re,{className:"w-5 h-5 text-green-400"}),e.jsx("span",{className:"text-green-400 font-semibold",children:"Chave PIX"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-300 text-sm mb-1",children:"CPF/CNPJ:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"text-white bg-gray-800 px-3 py-2 rounded text-sm flex-1",children:"12.345.678/0001-90"}),e.jsx(g,{size:"sm",variant:"outline",onClick:()=>h("12.345.678/0001-90","Chave PIX"),className:"border-gray-600 bg-transparent text-white",children:e.jsx(Y,{className:"w-3 h-3"})})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-300 text-sm mb-1",children:"Favorecido:"}),e.jsx("p",{className:"text-white bg-gray-800 px-3 py-2 rounded text-sm",children:"Swapin Tecnologia Ltda"})]})]})]}),e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(xe,{className:"w-5 h-5 text-blue-400"}),e.jsx("span",{className:"text-blue-400 font-semibold",children:"QR Code PIX"})]}),e.jsx("div",{className:"bg-white rounded-lg p-4 mb-3",children:e.jsx("div",{className:"w-32 h-32 mx-auto",children:f?e.jsx($s,{value:f,size:256,style:{height:"auto",maxWidth:"100%",width:"100%"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 rounded-md",children:e.jsx("p",{className:"text-sm text-gray-500",children:"Carregando..."})})})}),e.jsxs(g,{variant:"outline",className:"w-full border-blue-500 text-blue-400 hover:bg-blue-500/10",onClick:()=>h("PIX_CODE_123456","Código PIX"),children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Copiar código do QR"]})]}),e.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(we,{className:"w-5 h-5 text-yellow-400"}),e.jsx("span",{className:"text-yellow-400 font-semibold",children:"Processamento Instantâneo"})]}),e.jsx("p",{className:"text-gray-300 text-sm",children:"O valor será convertido e creditado na sua conta em USDC automaticamente após confirmação do PIX"})]}),e.jsx(g,{onClick:T,className:"w-full bg-green-600 hover:bg-green-700 py-3",disabled:!r,children:"Confirmar que enviei o PIX"})]})})}),e.jsx(X,{userType:"lender",activeTab:"deposit",onTabChange:()=>{}})]});if(l==="crypto")return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pb-20",children:[e.jsx("div",{className:"p-6 border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{onClick:()=>t("method-selection"),variant:"outline",size:"sm",className:"border-gray-600 bg-transparent text-white",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Depósito Crypto"})]})}),e.jsx("div",{className:"p-6 space-y-6",children:e.jsx(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold mb-2 block",children:"Valor (USDC)"}),e.jsx(Q,{mask:"usd",placeholder:"$ 0.00",value:r,onChange:n,className:"bg-gray-800/50 border-gray-600 text-white text-lg"})]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:["USDC","USDT","DAI"].map(d=>e.jsx(g,{variant:"outline",className:"border-gray-600 bg-transparent text-white hover:bg-blue-500/20 hover:border-blue-500",children:d},d))}),e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Bs,{className:"w-5 h-5 text-blue-400"}),e.jsx("span",{className:"text-blue-400 font-semibold",children:"Rede Polygon (MATIC)"})]}),e.jsx("p",{className:"text-gray-300 text-sm mb-3",children:"Endereço da carteira:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"text-white bg-gray-800 px-3 py-2 rounded text-sm break-all flex-1",children:"0x742d35Cc6638C0532c34abA8f9d6eAD1F2C2a5ef"}),e.jsx(g,{size:"sm",variant:"outline",onClick:()=>h("0x742d35Cc6638C0532c34abA8f9d6eAD1F2C2a5ef","Endereço"),className:"border-gray-600 bg-transparent text-white",children:e.jsx(Y,{className:"w-3 h-3"})})]})]}),e.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(le,{className:"w-5 h-5 text-yellow-400"}),e.jsx("span",{className:"text-yellow-400 font-semibold",children:"Confirmações Blockchain"})]}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Aguarde 12 confirmações na rede (5-10 minutos) para crédito automático"})]}),e.jsx(g,{onClick:T,className:"w-full bg-blue-600 hover:bg-blue-700 py-3",disabled:!r,children:"Confirmar que enviei crypto"})]})})}),e.jsx(X,{userType:"lender",activeTab:"deposit",onTabChange:()=>{}})]});if(l==="wire")return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pb-20",children:[e.jsx("div",{className:"p-6 border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{onClick:()=>t("method-selection"),variant:"outline",size:"sm",className:"border-gray-600 bg-transparent text-white",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Wire Transfer"})]})}),e.jsx("div",{className:"p-6 space-y-6",children:e.jsx(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold mb-2 block",children:"Valor (USD)"}),e.jsx(Q,{mask:"usd",placeholder:"$ 0.00",value:r,onChange:n,className:"bg-gray-800/50 border-gray-600 text-white text-lg"})]}),e.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/20 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(qe,{className:"w-5 h-5 text-purple-400"}),e.jsx("span",{className:"text-purple-400 font-semibold",children:"Dados Bancários"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Banco:"}),e.jsx("span",{className:"text-white ml-2",children:"J.P. Morgan Chase Bank"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"SWIFT:"}),e.jsx("span",{className:"text-white ml-2",children:"CHASUS33"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Conta:"}),e.jsx("span",{className:"text-white ml-2",children:"123456789"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Beneficiário:"}),e.jsx("span",{className:"text-white ml-2",children:"Swapin Inc."})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Endereço:"}),e.jsx("span",{className:"text-white ml-2",children:"270 Park Ave, New York, NY 10017"})]})]})]}),e.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(le,{className:"w-5 h-5 text-yellow-400"}),e.jsx("span",{className:"text-yellow-400 font-semibold",children:"Processamento Bancário"})]}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Transferências internacionais levam 1-3 dias úteis + taxa do banco intermediário"})]}),e.jsx(g,{onClick:T,className:"w-full bg-purple-600 hover:bg-purple-700 py-3",disabled:!r,children:"Confirmar que enviei wire"})]})})}),e.jsx(X,{userType:"lender",activeTab:"deposit",onTabChange:()=>{}})]});if(l==="card")return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pb-20",children:[e.jsx("div",{className:"p-6 border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{onClick:()=>t("method-selection"),variant:"outline",size:"sm",className:"border-gray-600 bg-transparent text-white",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Cartão Internacional"})]})}),e.jsx("div",{className:"p-6 space-y-6",children:e.jsx(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold mb-2 block",children:"Valor (USD)"}),e.jsx(Q,{mask:"usd",placeholder:"$ 0.00",value:r,onChange:n,className:"bg-gray-800/50 border-gray-600 text-white text-lg"})]}),e.jsxs("div",{className:"bg-orange-500/10 border border-orange-500/20 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(re,{className:"w-5 h-5 text-orange-400"}),e.jsx("span",{className:"text-orange-400 font-semibold",children:"Taxa de Processamento"})]}),e.jsx("p",{className:"text-gray-300 text-sm",children:"2.9% + spread cambial + possível IOF (brasileiro)"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Q,{mask:"creditCard",placeholder:"0000 0000 0000 0000",value:b.number,onChange:d=>m(v=>({...v,number:d})),className:"bg-gray-800/50 border-gray-600 text-white"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(Q,{mask:"expiryDate",placeholder:"MM/YY",value:b.expiry,onChange:d=>m(v=>({...v,expiry:d})),className:"bg-gray-800/50 border-gray-600 text-white"}),e.jsx(Q,{mask:"cvv",placeholder:"000",value:b.cvv,onChange:d=>m(v=>({...v,cvv:d})),className:"bg-gray-800/50 border-gray-600 text-white"})]}),e.jsx(V,{placeholder:"Nome no cartão",value:b.name,onChange:d=>m(v=>({...v,name:d.target.value})),className:"bg-gray-800/50 border-gray-600 text-white"})]}),e.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(le,{className:"w-5 h-5 text-yellow-400"}),e.jsx("span",{className:"text-yellow-400 font-semibold",children:"Processamento Rápido"})]}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Compra e crédito em 5-15 minutos após aprovação"})]}),e.jsx(g,{onClick:T,className:"w-full bg-orange-600 hover:bg-orange-700 py-3",disabled:!r,children:"Processar compra de USDC"})]})})}),e.jsx(X,{userType:"lender",activeTab:"deposit",onTabChange:()=>{}})]});if(l==="processing"){const d=u.find(v=>v.id===a);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center",children:e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-8 text-center max-w-md mx-6",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-2 border-white border-t-transparent rounded-full animate-spin"})}),e.jsx("h3",{className:"text-white font-semibold mb-2",children:"Processando depósito..."}),e.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:["Aguarde a confirmação do seu depósito via ",d?.title]}),e.jsx("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-3",children:e.jsxs("p",{className:"text-blue-400 text-sm",children:["⏱️ Tempo estimado: ",d?.time]})})]})})}return l==="success"?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center",children:e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-8 text-center max-w-md mx-6",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center",children:e.jsx(G,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-white font-semibold mb-2",children:"Depósito confirmado!"}),e.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Seu saldo foi atualizado com sucesso"}),e.jsx(g,{onClick:i,className:"w-full bg-green-600 hover:bg-green-700",children:"Voltar ao dashboard"})]})}):null},nr=({onBack:s,onComplete:i,availableBalance:l})=>{const[t,a]=x.useState("method-selection"),[o,r]=x.useState(null),[n,c]=x.useState(""),[j,b]=x.useState("USDC"),[m,f]=x.useState(!1),[N,u]=x.useState(!1),[w,T]=x.useState(!1),[h,d]=x.useState(!1),[v,C]=x.useState(!1),[y,D]=x.useState(""),E=x.useRef(null),p=x.useRef(null),P=x.useRef(null),B=x.useRef(null);x.useEffect(()=>{const S=document.createElement("script");return S.src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.js",S.async=!0,S.onload=()=>{console.log("jsQR library loaded successfully"),d(!0)},S.onerror=()=>{console.error("Failed to load jsQR library"),D("Erro ao carregar biblioteca de leitura de QR Code")},document.body.appendChild(S),()=>{document.body.removeChild(S)}},[]),x.useEffect(()=>()=>{z()},[]);const z=()=>{B.current&&(clearInterval(B.current),B.current=null),P.current&&(P.current.getTracks().forEach(S=>S.stop()),P.current=null),E.current&&(E.current.srcObject=null),C(!1)},q=async()=>{if(!h){D("Aguarde o carregamento da biblioteca...");return}D("");try{const S={video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}},M=await navigator.mediaDevices.getUserMedia(S);P.current=M,E.current&&(E.current.srcObject=M,E.current.onloadedmetadata=async()=>{try{await E.current?.play(),C(!0),setTimeout(()=>{B.current=window.setInterval(()=>{ie()},300)},1e3)}catch(_){console.error("Erro ao reproduzir vídeo:",_),D("Erro ao iniciar visualização da câmera")}})}catch(S){console.error("Erro ao acessar câmera:",S);let M="Não foi possível acessar a câmera.";S.name==="NotAllowedError"?M="Permissão de câmera negada. Permita o acesso nas configurações.":S.name==="NotFoundError"&&(M="Nenhuma câmera encontrada no dispositivo."),D(M),C(!1)}},ie=()=>{if(!E.current||!p.current||!window.jsQR)return;const S=E.current,M=p.current,_=M.getContext("2d",{willReadFrequently:!0});if(!_||S.readyState!==S.HAVE_ENOUGH_DATA)return;M.width=S.videoWidth,M.height=S.videoHeight,_.drawImage(S,0,0,M.width,M.height);const ue=_.getImageData(0,0,M.width,M.height),H=window.jsQR(ue.data,ue.width,ue.height,{inversionAttempts:"dontInvert"});H&&H.data&&(console.log("QR Code detected:",H.data),fe(H.data))},fe=S=>{z(),T(!1),Ne({key:S,keyType:"random"}),$.success("QR Code escaneado com sucesso!")},[J,Ne]=x.useState({key:"",keyType:"cpf"}),[O,I]=x.useState({bank:"",agency:"",account:"",accountType:"checking",cpf:"",name:""}),[te,A]=x.useState({address:"",network:"polygon"}),[F,W]=x.useState({beneficiaryName:"",bankName:"",bankAddress:"",swiftCode:"",accountNumber:"",routingNumber:""}),ne=[{id:"pix",title:"PIX (BRL)",subtitle:"Conversão automática USDC → BRL",icon:Re,time:"Instantâneo",fee:"Sem taxa",color:"from-green-500 to-emerald-500",popular:!0,minAmount:{brl:50,usdc:10}},{id:"bank-transfer",title:"Transferência Bancária",subtitle:"Receber em conta bancária brasileira",icon:qe,time:"1-2 dias úteis",fee:"R$ 5,00",color:"from-blue-500 to-cyan-500",popular:!1,minAmount:{brl:50,usdc:10}},{id:"stablecoin",title:"Enviar Stablecoin",subtitle:"Para carteira externa (MetaMask, Ledger)",icon:Je,time:"5-15 minutos",fee:"≈ $2-5 (gas)",color:"from-purple-500 to-violet-500",popular:!1,minAmount:{brl:0,usdc:10}},{id:"wire-transfer",title:"Wire Transfer",subtitle:"Transferência internacional",icon:Bs,time:"3-5 dias úteis",fee:"$25",color:"from-orange-500 to-red-500",popular:!1,minAmount:{brl:0,usdc:100}}],se=5.015,$e=(S,M)=>{if(!S)return 0;let _=S.replace(/[R$\s]/g,"");return M==="BRL"?_=_.replace(/\./g,"").replace(",","."):_=_.replace(/,/g,""),parseFloat(_)||0},We=(S,M)=>{const _=$e(S,M);return M==="BRL"?(_/se).toFixed(2):(_*se).toFixed(2)},Ae=()=>{const S=$e(n,j);return j==="BRL"?S>5e3:S>1e3},ls=()=>{const S=$e(n,j),M=ne.find(_=>_.id===o);return!M||S<=0?!1:j==="BRL"?S<M.minAmount.brl?!1:S/se<=l.usdc:S<M.minAmount.usdc?!1:S<=l.usdc},_s=S=>{r(S),a("amount")},qs=()=>{if(!ls()){$.error("Valor inválido ou insuficiente");return}a("details")},Me=()=>{Ae()?a("biometric"):is()},Xs=()=>{is()},is=async()=>{a("processing"),f(!0);try{const S=localStorage.getItem("swapin_user");if(!S)throw new Error("Usuário não encontrado. Faça login novamente.");const M=JSON.parse(S),_=M.id,ue=M.profileType;if(!_)throw new Error("ID do usuário não encontrado.");let H={userId:_,profileType:ue,amount:$e(n,j),currency:j,method:o};o==="pix"?H={...H,pixKey:J.key,pixKeyType:J.keyType}:o==="bank-transfer"?H={...H,bankData:O}:o==="stablecoin"?H={...H,walletAddress:te.address,network:te.network}:o==="wire-transfer"&&(H={...H,wireData:F});const ve=await fetch("/pix/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)});if(!ve.ok){const Js=await ve.json().catch(()=>({}));throw new Error(Js.message||"Erro ao processar o resgate")}const Hs=await ve.json();console.log("Resgate processado:",Hs),f(!1),a("success")}catch(S){console.error("Erro ao processar resgate:",S),f(!1),$.error(S.message||"Ocorreu um erro ao processar o resgate. Tente novamente."),a("details")}},Qs=()=>{i(),$.success("Resgate processado com sucesso!")},Gs=()=>{T(!0),setTimeout(()=>{q()},100)};if(t==="method-selection")return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pb-20",children:[e.jsx("div",{className:"p-6 border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{onClick:s,variant:"outline",size:"sm",className:"border-gray-600",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Resgatar Fundos"})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Saldo disponível para resgate"}),e.jsxs("p",{className:"text-3xl font-bold text-white mb-1",children:[l.usdc.toLocaleString("pt-BR",{minimumFractionDigits:2})," ","USDC"]}),e.jsxs("p",{className:"text-gray-400 text-sm",children:["≈ R$"," ",(l.usdc*se).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})}),e.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(he,{className:"w-5 h-5 text-yellow-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-yellow-400 font-semibold text-sm mb-1",children:"Importante"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Você só pode resgatar o saldo disponível. Fundos investidos em pools não podem ser resgatados até o vencimento dos empréstimos."})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Escolha o método de resgate"}),ne.map(S=>e.jsx(k.div,{whileTap:{scale:.98},className:"relative",children:e.jsx(R,{className:"backdrop-blur-md bg-white/5 border-white/10 p-4 cursor-pointer transition-all duration-200 hover:bg-white/10 hover:border-white/20",onClick:()=>_s(S.id),children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-r ${S.color} flex items-center justify-center`,children:e.jsx(S.icon,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-semibold text-white",children:S.title}),S.popular&&e.jsx(Z,{className:"bg-green-500/20 text-green-400 border-green-500/30",children:"Popular"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-2",children:S.subtitle}),e.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(le,{className:"w-3 h-3"}),e.jsx("span",{className:"text-gray-400",children:S.time})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ce,{className:"w-3 h-3"}),e.jsx("span",{className:"text-gray-400",children:S.fee})]})]})]}),e.jsx("div",{className:"text-gray-400",children:e.jsx(L,{className:"w-5 h-5 rotate-180"})})]})})},S.id))]})]})]});if(t==="amount"){const S=ne.find(M=>M.id===o);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pb-20",children:[e.jsx("div",{className:"p-6 border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{onClick:()=>a("method-selection"),variant:"outline",size:"sm",className:"border-gray-600",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Valor do Resgate"})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg bg-gradient-to-r ${S?.color} flex items-center justify-center`,children:S?.icon&&e.jsx(S.icon,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:S?.title}),e.jsx("p",{className:"text-gray-400 text-sm",children:S?.subtitle})]})]})}),e.jsx(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold block mb-2",children:"Valor do resgate"}),e.jsxs("div",{className:"flex bg-gray-800 rounded-lg p-1 mb-4",children:[e.jsx("button",{onClick:()=>b("USDC"),className:`flex-1 py-2 px-4 rounded-md transition-all ${j==="USDC"?"bg-blue-600 text-white":"text-gray-400 hover:text-white"}`,children:"USDC"}),e.jsx("button",{onClick:()=>b("BRL"),className:`flex-1 py-2 px-4 rounded-md transition-all ${j==="BRL"?"bg-green-600 text-white":"text-gray-400 hover:text-white"}`,children:"BRL"})]}),e.jsx(V,{type:"text",value:n,onChange:M=>{const ue=M.target.value.replace(/\D/g,"");if(ue===""){c("");return}const H=parseInt(ue)/100;if(j==="BRL"){const ve=H.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2});c(`R$ ${ve}`)}else{const ve=H.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});c(`$ ${ve}`)}},placeholder:j==="BRL"?"R$ 0,00":"$ 0.00",className:"bg-gray-800/50 border border-gray-600 rounded-lg text-white text-xl h-14 px-4"}),n&&e.jsxs("p",{className:"text-gray-400 text-sm mt-2",children:["≈ ",j==="BRL"?"$":"R$"," ",We(n,j)," ",j==="BRL"?"USDC":""]})]}),e.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-400",children:"Saldo disponível:"}),e.jsxs("span",{className:"text-white font-semibold",children:[l.usdc.toLocaleString("pt-BR",{minimumFractionDigits:2})," ","USDC"]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-1",children:[e.jsx("span",{className:"text-gray-400",children:"Em reais:"}),e.jsxs("span",{className:"text-gray-300",children:["R$"," ",(l.usdc*se).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),S&&e.jsx("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-3",children:e.jsxs("p",{className:"text-blue-400 text-sm",children:["Valor mínimo:"," ",S.minAmount.brl>0?`R$ ${S.minAmount.brl}`:"",S.minAmount.brl>0&&S.minAmount.usdc>0?" ou ":"",S.minAmount.usdc>0?`$${S.minAmount.usdc} USDC`:""]})}),e.jsx(g,{onClick:qs,disabled:!n||!ls(),className:"w-full bg-green-600 hover:bg-green-700 py-3",children:"Continuar"})]})})]})]})}if(t==="details")return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pb-20",children:[e.jsx("div",{className:"p-6 border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{onClick:()=>a("amount"),variant:"outline",size:"sm",className:"border-gray-600",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Dados para Resgate"})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[o==="pix"&&e.jsx(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Dados do PIX"}),e.jsx("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(xe,{className:"w-6 h-6 text-blue-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-400 font-medium",children:"Escanear QR Code"}),e.jsx("p",{className:"text-blue-300/70 text-sm",children:"Forma mais rápida de preencher os dados"})]})]}),e.jsx(g,{onClick:Gs,disabled:w,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2",children:w?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Escaneando..."})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"w-4 h-4"}),e.jsx("span",{children:"Escanear"})]})})]})}),w&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-gray-900 rounded-2xl p-6 w-full max-w-sm mx-4 relative",children:[e.jsx("button",{onClick:()=>{z(),T(!1)},className:"absolute top-4 right-4 text-gray-400 hover:text-white z-10",children:e.jsx(me,{className:"w-6 h-6"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Escaneie o QR Code PIX"}),e.jsx("div",{className:"relative w-full max-w-md mx-auto mb-4",children:e.jsxs("div",{className:"relative bg-black rounded-2xl overflow-hidden",style:{paddingBottom:"100%"},children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("video",{ref:E,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover",style:{display:v?"block":"none",transform:"scaleX(-1)"}}),e.jsx("canvas",{ref:p,style:{display:"none"}})]}),v&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:e.jsxs("div",{className:"w-48 h-48 border-2 border-blue-500 rounded-xl relative",children:[e.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 border-t-4 border-l-4 border-blue-500 rounded-tl-lg"}),e.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 border-t-4 border-r-4 border-blue-500 rounded-tr-lg"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-8 h-8 border-b-4 border-l-4 border-blue-500 rounded-bl-lg"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 border-b-4 border-r-4 border-blue-500 rounded-br-lg"})]})}),!v&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ge,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Iniciando câmera..."})]})})]})}),y&&e.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3 mb-4",children:e.jsx("p",{className:"text-red-400 text-sm",children:y})}),e.jsx("p",{className:"text-sm text-gray-400",children:v?"Posicione o QR Code na área marcada":"Aguarde..."})]})]})}),e.jsx("style",{children:`
                @keyframes scan {
                  0%, 100% { transform: translateY(0); }
                  50% { transform: translateY(192px); }
                }
              `}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"flex-1 h-px bg-gray-600"}),e.jsx("span",{className:"px-3 text-gray-400 text-sm",children:"ou digite manualmente"}),e.jsx("div",{className:"flex-1 h-px bg-gray-600"})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold block mb-2",children:"Tipo de chave PIX"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{value:"cpf",label:"CPF"},{value:"email",label:"E-mail"},{value:"phone",label:"Celular"},{value:"random",label:"Aleatória"}].map(S=>e.jsx("button",{onClick:()=>Ne({...J,keyType:S.value}),className:`p-3 rounded-lg border transition-all ${J.keyType===S.value?"border-green-500 bg-green-500/10 text-green-400":"border-gray-600 bg-gray-800/30 text-gray-300 hover:border-gray-500"}`,children:S.label},S.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold block mb-2",children:"Chave PIX"}),e.jsx(Q,{mask:J.keyType==="cpf"?"cpf":J.keyType==="phone"?"phone":"none",value:J.key,onChange:S=>Ne({...J,key:S}),placeholder:J.keyType==="cpf"?"000.000.000-00":J.keyType==="email"?"seu@email.com":J.keyType==="phone"?"(11) 99999-9999":"Cole sua chave aleatória",className:"bg-gray-800/50 border-gray-600 text-white"})]}),e.jsx(g,{onClick:Me,disabled:!J.key,className:"w-full bg-green-600 hover:bg-green-700 py-3",children:Ae()?"Continuar para Biometria":"Confirmar Resgate"})]})}),o==="bank-transfer"&&e.jsx(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Dados Bancários"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold block mb-2",children:"Nome do titular"}),e.jsx(V,{value:O.name,onChange:S=>I({...O,name:S.target.value}),placeholder:"Nome completo",className:"bg-gray-800/50 border-gray-600 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold block mb-2",children:"CPF"}),e.jsx(Q,{mask:"cpf",value:O.cpf,onChange:S=>I({...O,cpf:S}),placeholder:"000.000.000-00",className:"bg-gray-800/50 border-gray-600 text-white"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold block mb-2",children:"Banco"}),e.jsx(V,{value:O.bank,onChange:S=>I({...O,bank:S.target.value}),placeholder:"Ex: 341 - Itaú",className:"bg-gray-800/50 border-gray-600 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold block mb-2",children:"Agência"}),e.jsx(V,{value:O.agency,onChange:S=>I({...O,agency:S.target.value}),placeholder:"0000",className:"bg-gray-800/50 border-gray-600 text-white"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold block mb-2",children:"Conta"}),e.jsx(V,{value:O.account,onChange:S=>I({...O,account:S.target.value}),placeholder:"00000-0",className:"bg-gray-800/50 border-gray-600 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold block mb-2",children:"Tipo"}),e.jsxs("select",{value:O.accountType,onChange:S=>I({...O,accountType:S.target.value}),className:"w-full p-3 rounded-lg bg-gray-800/50 border border-gray-600 text-white",children:[e.jsx("option",{value:"checking",children:"Corrente"}),e.jsx("option",{value:"savings",children:"Poupança"})]})]})]}),e.jsx(g,{onClick:Me,disabled:!O.name||!O.cpf||!O.bank||!O.agency||!O.account,className:"w-full bg-green-600 hover:bg-green-700 py-3",children:Ae()?"Continuar para Biometria":"Confirmar Resgate"})]})}),o==="stablecoin"&&e.jsx(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Carteira de Destino"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold block mb-2",children:"Rede blockchain"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"polygon",label:"Polygon",fee:"~$0.01"},{value:"ethereum",label:"Ethereum",fee:"~$5-15"},{value:"arbitrum",label:"Arbitrum",fee:"~$0.50"}].map(S=>e.jsxs("button",{onClick:()=>A({...te,network:S.value}),className:`p-3 rounded-lg border transition-all text-center ${te.network===S.value?"border-purple-500 bg-purple-500/10 text-purple-400":"border-gray-600 bg-gray-800/30 text-gray-300 hover:border-gray-500"}`,children:[e.jsx("div",{className:"font-semibold",children:S.label}),e.jsx("div",{className:"text-xs opacity-70",children:S.fee})]},S.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold block mb-2",children:"Endereço da carteira"}),e.jsx(V,{value:te.address,onChange:S=>A({...te,address:S.target.value}),placeholder:"0x...",className:"bg-gray-800/50 border-gray-600 text-white font-mono text-sm"}),e.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Certifique-se de que o endereço está correto. Transferências não podem ser revertidas."})]}),e.jsx("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(he,{className:"w-5 h-5 text-amber-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-amber-400 font-semibold text-sm mb-1",children:"Atenção"}),e.jsxs("p",{className:"text-gray-300 text-sm",children:["Verifique se sua carteira suporta USDC na rede"," ",te.network==="polygon"?"Polygon":te.network==="ethereum"?"Ethereum":"Arbitrum","."]})]})]})}),e.jsx(g,{onClick:Me,disabled:!te.address,className:"w-full bg-purple-600 hover:bg-purple-700 py-3",children:Ae()?"Continuar para Biometria":"Confirmar Resgate"})]})}),o==="wire-transfer"&&e.jsx(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Dados Bancários Internacionais"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold block mb-2",children:"Nome do beneficiário"}),e.jsx(V,{value:F.beneficiaryName,onChange:S=>W({...F,beneficiaryName:S.target.value}),placeholder:"Nome completo",className:"bg-gray-800/50 border-gray-600 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold block mb-2",children:"Nome do banco"}),e.jsx(V,{value:F.bankName,onChange:S=>W({...F,bankName:S.target.value}),placeholder:"Ex: Chase Bank",className:"bg-gray-800/50 border-gray-600 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold block mb-2",children:"Endereço do banco"}),e.jsx(V,{value:F.bankAddress,onChange:S=>W({...F,bankAddress:S.target.value}),placeholder:"Endereço completo",className:"bg-gray-800/50 border-gray-600 text-white"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold block mb-2",children:"Código SWIFT"}),e.jsx(V,{value:F.swiftCode,onChange:S=>W({...F,swiftCode:S.target.value}),placeholder:"CHASUS33",className:"bg-gray-800/50 border-gray-600 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold block mb-2",children:"Número da conta"}),e.jsx(V,{value:F.accountNumber,onChange:S=>W({...F,accountNumber:S.target.value}),placeholder:"123456789",className:"bg-gray-800/50 border-gray-600 text-white"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-white font-semibold block mb-2",children:"Routing Number (se aplicável)"}),e.jsx(V,{value:F.routingNumber,onChange:S=>W({...F,routingNumber:S.target.value}),placeholder:"021000021",className:"bg-gray-800/50 border-gray-600 text-white"})]}),e.jsx(g,{onClick:Me,disabled:!F.beneficiaryName||!F.bankName||!F.swiftCode||!F.accountNumber,className:"w-full bg-orange-600 hover:bg-orange-700 py-3",children:Ae()?"Continuar para Biometria":"Confirmar Resgate"})]})})]})]});if(t==="biometric")return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center px-6",children:e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-8 text-center max-w-md mx-auto",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:e.jsx(Xe,{className:"w-10 h-10 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Verificação Biométrica"}),e.jsxs("p",{className:"text-gray-400 mb-6",children:["Para resgates acima de"," ",j==="BRL"?"R$ 5.000":"1.000 USDC",", precisamos confirmar sua identidade"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4",children:e.jsxs("p",{className:"text-blue-400 text-sm",children:["Valor do resgate:"," ",e.jsxs("span",{className:"font-semibold",children:[j==="BRL"?"R$":"$"," ",n," ",j==="USDC"?"USDC":""]})]})}),e.jsxs(g,{onClick:Xs,className:"w-full bg-blue-600 hover:bg-blue-700 py-3",children:[e.jsx(Xe,{className:"w-5 h-5 mr-2"}),"Verificar Biometria"]}),e.jsx(g,{onClick:()=>a("details"),variant:"outline",className:"w-full border-gray-600",children:"Voltar"})]})]})});if(t==="processing")return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center px-6",children:e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-8 text-center max-w-md mx-auto",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-2 border-white border-t-transparent rounded-full animate-spin"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Processando Resgate"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Aguarde enquanto processamos sua solicitação de resgate..."}),e.jsxs("div",{className:"space-y-3 text-left",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(G,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{className:"text-sm text-gray-300",children:"Dados validados"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(G,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{className:"text-sm text-gray-300",children:"Biometria confirmada"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm text-gray-300",children:"Processando transferência..."})]})]})]})});if(t==="success"){const S=ne.find(M=>M.id===o);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center px-6",children:e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-8 text-center max-w-md mx-auto",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center",children:e.jsx(G,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Resgate Solicitado!"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Sua solicitação foi processada com sucesso"}),e.jsxs("div",{className:"space-y-4 mb-8",children:[e.jsx("div",{className:"bg-gray-800/50 rounded-lg p-4 text-left",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Método:"}),e.jsx("span",{className:"text-white",children:S?.title})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Valor:"}),e.jsxs("span",{className:"text-white font-semibold",children:[j==="BRL"?"R$":"$"," ",n," ",j==="USDC"?"USDC":""]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Tempo esperado:"}),e.jsx("span",{className:"text-white",children:S?.time})]})]})}),e.jsx("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4",children:e.jsx("p",{className:"text-blue-400 text-sm",children:"Você receberá uma notificação quando o resgate for concluído"})})]}),e.jsx(g,{onClick:Qs,className:"w-full bg-green-600 hover:bg-green-700 py-3",children:"Concluir"})]})})}return null};function or({className:s,...i}){return e.jsx(Fa,{"data-slot":"tabs",className:U("flex flex-col gap-2",s),...i})}function cr({className:s,...i}){return e.jsx(za,{"data-slot":"tabs-list",className:U("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",s),...i})}function Ue({className:s,...i}){return e.jsx(Va,{"data-slot":"tabs-trigger",className:U("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...i})}function Oe({className:s,...i}){return e.jsx(Ma,{"data-slot":"tabs-content",className:U("flex-1 outline-none",s),...i})}const dr=({opportunity:s,onBack:i,onInvest:l,availableBalance:t})=>{const[a,o]=x.useState(""),[r,n]=x.useState(!1),[c,j]=x.useState(!1),b=h=>{if(!h)return 0;const d=h.replace(/[^\d.]/g,"");return parseFloat(d)||0},m={profession:"Empresário",income:12e3,experienceYears:8,creditHistory:"Excelente",previousLoans:3,paymentHistory:"100% em dia"},f=[{name:"CPF",verified:!0},{name:"RG",verified:!0},{name:"Comprovante de Renda",verified:!0},{name:"Extrato Bancário",verified:!0},{name:"Declaração IR",verified:!1},{name:"Comprovante de Residência",verified:!0}],N=s.riskLevel==="low"?{type:"Imóvel Comercial",value:18e4,location:"Centro, São Paulo - SP",evaluation:"Avaliação independente realizada"}:null,u=async()=>{const h=b(a);if(!h||h<=0){$.error("Digite um valor válido para investimento");return}if(h>t){$.error("Saldo insuficiente");return}j(!0),h>1e3&&($.info("Verificação facial necessária para valores acima de $1.000"),await new Promise(d=>setTimeout(d,2e3))),await new Promise(d=>setTimeout(d,1500)),l(h),$.success(`Investimento de $${h.toLocaleString("en-US",{minimumFractionDigits:2})} USDC realizado com sucesso!`),j(!1)},w=h=>{switch(h){case"low":return"bg-green-500/20 text-green-400";case"medium":return"bg-yellow-500/20 text-yellow-400";case"high":return"bg-red-500/20 text-red-400";default:return"bg-gray-500/20 text-gray-400"}},T=h=>{switch(h){case"low":return"Baixo Risco";case"medium":return"Médio Risco";case"high":return"Alto Risco";default:return"Não informado"}};return r?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pb-20",children:[e.jsx("div",{className:"p-6 border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{onClick:()=>n(!1),variant:"outline",size:"sm",className:"border-gray-600",disabled:c,children:e.jsx(L,{className:"w-4 h-4"})}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Confirmar Investimento"})]})}),e.jsx("div",{className:"p-6",children:e.jsx(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6 max-w-md mx-auto",children:e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center mx-auto",children:e.jsx("span",{className:"text-white text-xl font-bold",children:s.borrower.charAt(0)})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:s.borrower}),e.jsx("p",{className:"text-gray-400",children:s.purpose})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Valor do investimento:"}),e.jsxs("span",{className:"text-white font-semibold",children:["$",b(a).toLocaleString("en-US",{minimumFractionDigits:2})," USDC"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Taxa de retorno:"}),e.jsxs("span",{className:"text-green-400 font-semibold",children:[s.rate,"% a.a."]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Prazo:"}),e.jsxs("span",{className:"text-white font-semibold",children:[s.term," meses"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Retorno estimado:"}),e.jsxs("span",{className:"text-green-400 font-semibold",children:["$",(b(a)*(1+s.rate/100)).toLocaleString("en-US",{minimumFractionDigits:2})," USDC"]})]})]}),b(a)>1e3&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-500/20 rounded-lg",children:[e.jsx(ge,{className:"w-5 h-5 text-blue-400"}),e.jsx("span",{className:"text-blue-400 text-sm",children:"Verificação facial será solicitada"})]}),e.jsx(g,{onClick:u,disabled:c,className:"w-full bg-green-600 hover:bg-green-700",children:c?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processando..."]}):"Confirmar Investimento"})]})})})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pb-20",children:[e.jsx("div",{className:"p-6 border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{onClick:i,variant:"outline",size:"sm",className:"border-gray-600",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Análise de Oportunidade"})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:s.borrower.charAt(0)})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:s.borrower}),e.jsx("p",{className:"text-gray-400",children:s.purpose})]})]}),e.jsx(Z,{className:w(s.riskLevel),children:T(s.riskLevel)})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Valor"}),e.jsxs("p",{className:"text-white font-bold text-lg",children:["R$ ",s.amount.toLocaleString("pt-BR")]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Taxa"}),e.jsxs("p",{className:"text-green-400 font-bold text-lg",children:[s.rate,"% a.a."]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Prazo"}),e.jsxs("p",{className:"text-white font-bold text-lg",children:[s.term," meses"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Score"}),e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx(Ve,{className:"w-4 h-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-blue-400 font-bold text-lg",children:s.score})]})]})]})]}),e.jsxs(or,{defaultValue:"summary",className:"w-full",children:[e.jsxs(cr,{className:"grid w-full grid-cols-4 bg-gray-800/50 h-14 p-2",children:[e.jsx(Ue,{value:"summary",className:"text-sm font-medium text-white data-[state=active]:text-gray-900 data-[state=active]:bg-white py-3 px-4 h-full",children:"Resumo"}),e.jsx(Ue,{value:"profile",className:"text-sm font-medium text-white data-[state=active]:text-gray-900 data-[state=active]:bg-white py-3 px-4 h-full",children:"Perfil"}),e.jsx(Ue,{value:"documents",className:"text-sm font-medium text-white data-[state=active]:text-gray-900 data-[state=active]:bg-white py-3 px-4 h-full",children:"Docs"}),e.jsx(Ue,{value:"collateral",className:"text-sm font-medium text-white data-[state=active]:text-gray-900 data-[state=active]:bg-white py-3 px-4 h-full",children:"Garantia"})]}),e.jsx(Oe,{value:"summary",className:"space-y-4",children:e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Condições do Empréstimo"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Finalidade:"}),e.jsx("span",{className:"text-white",children:s.purpose})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Forma de pagamento:"}),e.jsx("span",{className:"text-white",children:"12 parcelas mensais"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Primeira parcela:"}),e.jsx("span",{className:"text-white",children:"30 dias após liberação"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Valor da parcela:"}),e.jsxs("span",{className:"text-white",children:["R$ ",(s.amount*(1+s.rate/100)/s.term).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Total a receber:"}),e.jsxs("span",{className:"text-green-400 font-semibold",children:["R$ ",(s.amount*(1+s.rate/100)).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]})}),e.jsx(Oe,{value:"profile",className:"space-y-4",children:e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Dados Profissionais"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Profissão:"}),e.jsx("span",{className:"text-white",children:m.profession})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Renda mensal:"}),e.jsxs("span",{className:"text-white",children:["R$ ",m.income.toLocaleString("pt-BR")]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Experiência:"}),e.jsxs("span",{className:"text-white",children:[m.experienceYears," anos"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Histórico de crédito:"}),e.jsx("span",{className:"text-green-400",children:m.creditHistory})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Empréstimos anteriores:"}),e.jsx("span",{className:"text-white",children:m.previousLoans})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Histórico de pagamento:"}),e.jsx("span",{className:"text-green-400",children:m.paymentHistory})]})]})]})}),e.jsx(Oe,{value:"documents",className:"space-y-4",children:e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Documentação Verificada"}),e.jsx("div",{className:"space-y-3",children:f.map((h,d)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(be,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"text-white",children:h.name})]}),h.verified?e.jsx(G,{className:"w-5 h-5 text-green-400"}):e.jsx(le,{className:"w-5 h-5 text-yellow-400"})]},d))}),e.jsx("div",{className:"mt-6 p-3 bg-green-500/20 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"w-5 h-5 text-green-400"}),e.jsx("span",{className:"text-green-400 font-semibold",children:"83% dos documentos verificados"})]})})]})}),e.jsx(Oe,{value:"collateral",className:"space-y-4",children:e.jsx(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6",children:N?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Garantia Oferecida"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Tipo de garantia:"}),e.jsx("span",{className:"text-white",children:N.type})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Valor avaliado:"}),e.jsxs("span",{className:"text-green-400 font-semibold",children:["R$ ",N.value.toLocaleString("pt-BR")]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Localização:"}),e.jsx("span",{className:"text-white",children:N.location})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Avaliação:"}),e.jsx("span",{className:"text-white",children:N.evaluation})]})]}),e.jsx("div",{className:"mt-6 p-3 bg-green-500/20 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"w-5 h-5 text-green-400"}),e.jsxs("span",{className:"text-green-400 font-semibold",children:["Garantia de ",(N.value/s.amount*100).toFixed(0),"% do valor solicitado"]})]})})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ee,{className:"w-12 h-12 text-yellow-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Sem Garantia"}),e.jsx("p",{className:"text-gray-400",children:"Este empréstimo não possui garantia adicional além do score de crédito."})]})})})]}),e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-[-11px] mt-[0px] mr-[0px] ml-[0px]",children:"Realizar Investimento"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Valor a investir (USDC)"}),e.jsx(Q,{mask:"usd",placeholder:"$ 0.00",value:a,onChange:o,className:"bg-gray-800/50 border-gray-600 text-white"}),e.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:["Saldo disponível: $",t.toLocaleString("en-US",{minimumFractionDigits:2})," USDC"]})]}),a&&b(a)>0&&e.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Retorno estimado:"}),e.jsxs("span",{className:"text-green-400",children:["$",(b(a)*(1+s.rate/100)).toLocaleString("en-US",{minimumFractionDigits:2})," USDC"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Lucro líquido:"}),e.jsxs("span",{className:"text-green-400",children:["$",(b(a)*(s.rate/100)).toLocaleString("en-US",{minimumFractionDigits:2})," USDC"]})]})]}),e.jsx(g,{onClick:()=>n(!0),disabled:!a||b(a)<=0||b(a)>t,className:"w-full bg-green-600 hover:bg-green-700",children:"Continuar Investimento"})]})]})]})]})};function Be({className:s,defaultValue:i,value:l,min:t=0,max:a=100,...o}){const r=x.useMemo(()=>Array.isArray(l)?l:Array.isArray(i)?i:[t,a],[l,i,t,a]);return e.jsxs(Ua,{"data-slot":"slider",defaultValue:i,value:l,min:t,max:a,className:U("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",s),...o,children:[e.jsx(Oa,{"data-slot":"slider-track",className:U("bg-gray-600 relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-2 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-2"),children:e.jsx(_a,{"data-slot":"slider-range",className:U("bg-gradient-to-r from-blue-500 to-purple-500 absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:r.length},(n,c)=>e.jsx(qa,{"data-slot":"slider-thumb",className:"border-2 border-white bg-gradient-to-r from-blue-500 to-purple-500 ring-blue-500/30 block size-5 shrink-0 rounded-full shadow-lg transition-all duration-200 hover:scale-110 hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},c))]})}function mr({className:s,...i}){return e.jsx(Xa,{"data-slot":"switch",className:U("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...i,children:e.jsx(Qa,{"data-slot":"switch-thumb",className:U("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function ke({className:s,orientation:i="horizontal",decorative:l=!0,...t}){return e.jsx(Ga,{"data-slot":"separator-root",decorative:l,orientation:i,className:U("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",s),...t})}const xr=s=>{if(!s)return 0;const i=s.replace(/[R$\s\.]/g,"").replace(",",".");return parseFloat(i)||0},Se=s=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s),hr=({onBack:s,onComplete:i,availableBalance:l})=>{const[t,a]=x.useState(1),[o,r]=x.useState(!1),[n,c]=x.useState({name:"",totalAmount:"",loanCount:10,minScore:700,requireCollateral:!0,acceptedCollaterals:["vehicle","property"],minReturn:18,maxTerm:12}),j=[{id:"vehicle",label:"Veículo",icon:"🚗"},{id:"property",label:"Imóvel",icon:"🏠"},{id:"equipment",label:"Equipamentos",icon:"🔧"},{id:"investment",label:"Investimentos",icon:"📈"}],b=xr(n.totalAmount),m=b>l,f=b>0&&n.loanCount>0?b/n.loanCount:0,N=b*(n.minReturn/100),u=Math.floor(450*(1e3-n.minScore)/600),w=()=>{if(t===1){if(!n.name.trim()){$.error("Digite um nome para a pool");return}if(!n.totalAmount||b<5e3){$.error("Valor mínimo de R$ 5.000,00");return}if(m){$.error("Saldo insuficiente para este valor");return}}if(t===2&&n.requireCollateral&&n.acceptedCollaterals.length===0){$.error("Selecione pelo menos um tipo de garantia");return}t<4&&a(p=>p+1)},T=()=>{t>1?a(p=>p-1):s()},h=()=>{if(b>1e4){r(!0);return}$.success(`Pool "${n.name}" ativada com sucesso!`),i()},d=()=>{r(!1),$.success(`Pool "${n.name}" ativada com sucesso!`),i()},v=()=>e.jsxs(k.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-white mb-2",children:"Configurações Básicas"}),e.jsx("p",{className:"text-gray-400",children:"Defina o nome, valor e distribuição da sua pool"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(K,{className:"text-white",children:"Nome da Pool"}),e.jsx(V,{placeholder:"Ex: Diversificação Brasil, Score Alto 2025",value:n.name,onChange:p=>c(P=>({...P,name:p.target.value})),className:"bg-gray-800 border-gray-600 text-white mt-2"})]}),e.jsxs("div",{children:[e.jsx(K,{className:"text-white",children:"Valor Total a Investir"}),e.jsx(Q,{mask:"currency",placeholder:"R$ 0,00",value:n.totalAmount,onChange:p=>c(P=>({...P,totalAmount:p})),className:"bg-gray-800 border-gray-600 text-white mt-2"}),b>0&&e.jsxs("div",{className:"mt-2 px-3 py-2 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[e.jsxs("span",{className:"text-sm text-blue-300",children:["≈ ",(b/5.2).toLocaleString("pt-BR",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).replace("US$","USDC")]}),e.jsx("span",{className:"text-xs text-gray-400 ml-2",children:"(Taxa: R$ 5,20/USDC)"})]}),e.jsxs("div",{className:"flex justify-between mt-1",children:[e.jsx("span",{className:`text-sm ${b>0&&b<5e3?"text-red-400":"text-gray-400"}`,children:"Mínimo: R$ 5.000,00"}),e.jsxs("span",{className:"text-sm text-gray-400",children:["Disponível: ",Se(l)]})]}),b>0&&b<5e3&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:"⚠️ Valor mínimo de R$ 5.000,00 necessário para criar uma pool"}),m&&e.jsxs("p",{className:"text-red-400 text-sm mt-1",children:["Saldo insuficiente. ",e.jsx("button",{className:"underline",onClick:()=>$.info("Redirecionando para recebimento..."),children:"Receber mais"})]})]}),e.jsxs("div",{children:[e.jsx(K,{className:"text-white",children:"Dividir em quantos empréstimos?"}),e.jsxs("div",{className:"mt-4",children:[e.jsx(Be,{value:[n.loanCount],onValueChange:p=>c(P=>({...P,loanCount:p[0]})),min:5,max:100,step:1,className:"w-full"}),e.jsxs("div",{className:"flex justify-between mt-2",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"5"}),e.jsxs("span",{className:"text-white font-medium",children:[n.loanCount," empréstimos"]}),e.jsx("span",{className:"text-sm text-gray-400",children:"100"})]})]}),f>0&&e.jsx(R,{className:"bg-blue-500/10 border-blue-500/30 p-4 mt-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"w-5 h-5 text-blue-400"}),e.jsxs("span",{className:"text-blue-400 font-medium",children:["Valor máximo por empréstimo: ",Se(f)]})]})})]})]})]},"step1"),C=()=>e.jsxs(k.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-white mb-2",children:"Critérios de Risco"}),e.jsx("p",{className:"text-gray-400",children:"Defina o perfil de risco que você aceita"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(K,{className:"text-white",children:"Score Mínimo Aceito"}),e.jsxs("div",{className:"mt-4",children:[e.jsx(Be,{value:[n.minScore],onValueChange:p=>c(P=>({...P,minScore:p[0]})),min:400,max:1e3,step:50,className:"w-full"}),e.jsxs("div",{className:"flex justify-between mt-2",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"400"}),e.jsx("span",{className:"text-white font-medium",children:n.minScore}),e.jsx("span",{className:"text-sm text-gray-400",children:"1000"})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${n.minScore>=800?"bg-green-500":n.minScore>=600?"bg-yellow-500":n.minScore>=400?"bg-orange-500":"bg-red-500"}`}),e.jsx("span",{className:"text-sm text-gray-300",children:n.minScore>=800?"Risco Baixo":n.minScore>=600?"Risco Médio":n.minScore>=400?"Risco Alto":"Risco Muito Alto"})]})]})]}),e.jsx(ke,{className:"bg-gray-600"}),e.jsx("div",{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(K,{className:"text-white",children:"Aceitar empréstimos sem garantia?"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Empréstimos sem garantia têm maior risco, mas podem oferecer maior retorno"})]}),e.jsx(mr,{checked:!n.requireCollateral,onCheckedChange:p=>c(P=>({...P,requireCollateral:!p})),className:"data-[state=checked]:bg-green-600 data-[state=unchecked]:bg-slate-600 h-7 w-12 data-[state=checked]:border-green-500 data-[state=unchecked]:border-slate-500 border-2"})]})}),n.requireCollateral&&e.jsxs(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-4",children:[e.jsx(K,{className:"text-white",children:"Tipos de garantia aceitos"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:j.map(p=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Es,{id:p.id,checked:n.acceptedCollaterals.includes(p.id),onCheckedChange:P=>{c(P?B=>({...B,acceptedCollaterals:[...B.acceptedCollaterals,p.id]}):B=>({...B,acceptedCollaterals:B.acceptedCollaterals.filter(z=>z!==p.id)}))}}),e.jsxs(K,{htmlFor:p.id,className:"text-white cursor-pointer flex items-center gap-2",children:[e.jsx("span",{children:p.icon}),p.label]})]},p.id))})]}),e.jsx(R,{className:"bg-green-500/10 border-green-500/30 p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pe,{className:"w-5 h-5 text-green-400"}),e.jsxs("span",{className:"text-green-400 font-medium",children:["Com esses critérios, ",u," tomadores se qualificam"]})]})})]})]},"step2"),y=()=>e.jsxs(k.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-white mb-2",children:"Condições Financeiras"}),e.jsx("p",{className:"text-gray-400",children:"Defina a rentabilidade e prazo desejados"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(K,{className:"text-white",children:"Taxa Mínima de Retorno (% a.a.)"}),e.jsxs("div",{className:"mt-4",children:[e.jsx(Be,{value:[n.minReturn],onValueChange:p=>c(P=>({...P,minReturn:p[0]})),min:12,max:40,step:.5,className:"w-full"}),e.jsxs("div",{className:"flex justify-between mt-2",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"12%"}),e.jsxs("span",{className:"text-white font-medium",children:[n.minReturn,"% a.a."]}),e.jsx("span",{className:"text-sm text-gray-400",children:"40%"})]})]})]}),e.jsxs("div",{children:[e.jsx(K,{className:"text-white",children:"Prazo Máximo Aceito"}),e.jsx("div",{className:"flex flex-wrap gap-3 mt-4",children:[6,12,18,24].map(p=>e.jsx(g,{variant:n.maxTerm===p?"default":"outline",onClick:()=>c(P=>({...P,maxTerm:p})),className:`flex-1 min-w-[80px] h-fit inline-flex items-center justify-center whitespace-normal text-center ${n.maxTerm===p?"bg-blue-600 hover:bg-blue-700 text-white border-blue-600":"border-gray-600 text-gray-900 bg-white hover:bg-gray-100 hover:text-gray-900"}`,children:e.jsxs("span",{className:"break-words text-center leading-tight",children:[p," meses"]})},p))})]}),e.jsx(ke,{className:"bg-gray-600"}),e.jsx(R,{className:"bg-gradient-to-r from-blue-500/10 to-purple-500/10 border-blue-500/30 p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"w-5 h-5 text-blue-400"}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Projeção de Retorno"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Retorno estimado em 12 meses"}),e.jsx("p",{className:"text-xl font-bold text-green-400",children:Se(N)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Rentabilidade efetiva"}),e.jsxs("p",{className:"text-xl font-bold text-blue-400",children:[n.minReturn,"% a.a."]})]})]})]})})]})]},"step3"),D=()=>e.jsxs(k.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-white mb-2",children:"Revisão e Ativação"}),e.jsx("p",{className:"text-gray-400",children:"Confirme as configurações da sua pool"})]}),e.jsx(R,{className:"bg-gradient-to-br from-slate-800 to-slate-900 border-gray-600 p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:n.name}),e.jsx("div",{className:"text-3xl font-bold text-green-400 mb-1",children:Se(b)}),e.jsxs("p",{className:"text-gray-400",children:["Dividido em ",n.loanCount," empréstimos de até ",Se(f)]})]}),e.jsx(ke,{className:"bg-gray-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Critérios"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"w-4 h-4 text-blue-400"}),e.jsxs("span",{className:"text-gray-300",children:["Score mínimo: ",n.minScore]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"w-4 h-4 text-yellow-400"}),e.jsx("span",{className:"text-gray-300",children:n.requireCollateral?"Com garantia obrigatória":"Aceita sem garantia"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"w-4 h-4 text-green-400"}),e.jsxs("span",{className:"text-gray-300",children:["Taxa mínima: ",n.minReturn,"% a.a."]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(le,{className:"w-4 h-4 text-purple-400"}),e.jsxs("span",{className:"text-gray-300",children:["Prazo máximo: ",n.maxTerm," meses"]})]})]})]}),e.jsx(ke,{className:"bg-gray-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Projeção"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Retorno estimado"}),e.jsxs("p",{className:"text-xl font-bold text-green-400",children:[Se(N)," (",n.minReturn,"% a.a.)"]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Tomadores elegíveis"}),e.jsxs("p",{className:"text-lg font-semibold text-white",children:["~",u," atualmente"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Tempo estimado"}),e.jsx("p",{className:"text-lg font-semibold text-white",children:"5-7 dias"})]})]})]})]}),b>1e4&&e.jsx(R,{className:"bg-yellow-500/10 border-yellow-500/30 p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"w-5 h-5 text-yellow-400"}),e.jsx("span",{className:"text-yellow-400 text-sm",children:"Valor acima de R$ 10.000 - Verificação biométrica necessária"})]})})]})})]},"step4"),E=()=>e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsx(k.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-gray-800 rounded-2xl p-6 max-w-sm w-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-blue-500/20 rounded-full flex items-center justify-center",children:e.jsx(Xe,{className:"w-8 h-8 text-blue-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Verificação Biométrica"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Para valores acima de R$ 10.000, é necessária verificação biométrica para segurança."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(g,{onClick:d,className:"w-full bg-blue-600 hover:bg-blue-700",children:[e.jsx(Xe,{className:"w-4 h-4 mr-2"}),"Verificar Biometria"]}),e.jsx(g,{variant:"outline",onClick:()=>r(!1),className:"w-full border-gray-600 text-gray-300",children:"Cancelar"})]})]})})});return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pb-32",children:[e.jsxs("div",{className:"p-6 border-b border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(g,{onClick:T,variant:"outline",size:"sm",className:"border-gray-600",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Criar Pool de Investimento"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-400",children:["Etapa ",t," de 4"]}),e.jsxs("span",{className:"text-gray-400",children:[Math.round(t/4*100),"%"]})]}),e.jsx(De,{value:t/4*100,className:"h-3 bg-gray-700/50 [&>div]:bg-gradient-to-r [&>div]:from-green-400 [&>div]:to-emerald-400"})]})]}),e.jsx("div",{className:"p-6 mt-[0px] mr-[0px] mb-[25px] ml-[0px]",children:e.jsxs(R,{className:"bg-slate-800/50 backdrop-blur-md border-gray-600 px-[14px] py-[15px]",children:[t===1&&v(),t===2&&C(),t===3&&y(),t===4&&D()]})}),e.jsx("div",{className:"fixed bottom-16 left-0 right-0 bg-slate-900/95 backdrop-blur-sm border-t border-gray-700 mt-[-3px] mr-[0px] mb-[31px] ml-[0px] px-[29px] py-[11px]",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(g,{variant:"outline",onClick:T,className:"flex-1 border-gray-600",children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"Voltar"]}),t<4?e.jsxs(g,{onClick:w,className:"flex-1 bg-purple-600 hover:bg-purple-700",disabled:t===1&&(m||!n.name.trim()||b<5e3)||t===2&&n.requireCollateral&&n.acceptedCollaterals.length===0,children:["Próximo",e.jsx(es,{className:"w-4 h-4 ml-2"})]}):e.jsxs(g,{onClick:h,className:"flex-1 bg-green-600 hover:bg-green-700",children:[e.jsx(G,{className:"w-4 h-4 mr-2"}),"Ativar Pool"]})]})})]}),o&&E()]})},ye=s=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s),ur=[{id:"pool-1",name:"Diversificação Brasil",status:"active",totalAmount:5e4,allocatedAmount:35e3,availableAmount:15e3,totalLoans:10,filledLoans:7,performance:{accumulatedReturn:2450,averageRate:19.2,onTimePayments:100},criteria:{minScore:700,requireCollateral:!0,minReturn:18,maxTerm:12}},{id:"pool-2",name:"Score Alto 2025",status:"active",totalAmount:1e5,allocatedAmount:8e4,availableAmount:2e4,totalLoans:20,filledLoans:16,performance:{accumulatedReturn:5800,averageRate:17.5,onTimePayments:95},criteria:{minScore:800,requireCollateral:!1,minReturn:16,maxTerm:18}}],pr=[{id:"loan-0042",poolId:"pool-1",borrowerType:"CLT",borrowerProfession:"Engenheiro",score:820,amount:5e3,term:12,rate:20,collateral:{type:"vehicle",description:"Honda Civic 2020"},status:"active",paidInstallments:3,totalInstallments:12,nextPaymentDate:"2025-11-05"},{id:"loan-0043",poolId:"pool-1",borrowerType:"MEI",borrowerProfession:"Designer",score:750,amount:5e3,term:12,rate:18.5,collateral:{type:"equipment",description:"MacBook Pro 2022"},status:"active",paidInstallments:5,totalInstallments:12,nextPaymentDate:"2025-11-10"},{id:"loan-0044",poolId:"pool-1",borrowerType:"CLT",borrowerProfession:"Desenvolvedor",score:780,amount:5e3,term:12,rate:19,collateral:{type:"property",description:"Apartamento - Centro"},status:"active",paidInstallments:2,totalInstallments:12,nextPaymentDate:"2025-11-15"}],gr=({onBack:s})=>{const[i,l]=x.useState("list"),[t,a]=x.useState(null),[o,r]=x.useState(ur),[n,c]=x.useState(null),j=d=>{switch(d){case"active":return"text-green-400";case"paused":return"text-yellow-400";case"completed":return"text-gray-400";default:return"text-gray-400"}},b=d=>{switch(d){case"active":return"🟢";case"paused":return"🟡";case"completed":return"🔴";default:return"⚪"}},m=d=>{switch(d){case"vehicle":return e.jsx(He,{className:"w-4 h-4"});case"property":return e.jsx(Le,{className:"w-4 h-4"});case"equipment":return e.jsx(Ka,{className:"w-4 h-4"});default:return e.jsx(ee,{className:"w-4 h-4"})}},f=(d,v)=>{r(C=>C.map(y=>{if(y.id===v)switch(d){case"pause":return $.success(`Pool "${y.name}" pausada com sucesso!`),{...y,status:"paused"};case"resume":return $.success(`Pool "${y.name}" reativada com sucesso!`),{...y,status:"active"};case"delete":return $.success(`Pool "${y.name}" encerrada com sucesso!`),{...y,status:"completed"}}return y}))},N=d=>{c({...d}),l("edit")},u=()=>{n&&(r(d=>d.map(v=>v.id===n.id?n:v)),$.success(`Pool "${n.name}" atualizada com sucesso!`),l("list"),c(null))},w=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-white mb-2",children:"Suas Pools de Investimento"}),e.jsx("p",{className:"text-gray-400",children:"Gerencie e monitore suas pools ativas"})]}),e.jsx("div",{className:"space-y-4",children:o.map(d=>e.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:e.jsx(R,{className:"bg-slate-800/50 backdrop-blur-md border-gray-600 p-4 sm:p-6 hover:shadow-xl transition-all duration-300",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx(ws,{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-400 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white truncate",children:d.name}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-wrap",children:[e.jsx("span",{className:"text-xs sm:text-sm text-gray-400",children:"Status:"}),e.jsxs("span",{className:`text-xs sm:text-sm font-medium ${j(d.status)} flex items-center gap-1`,children:[b(d.status)," ",d.status==="active"?"Ativa":d.status==="paused"?"Pausada":"Finalizada"]})]})]})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-400",children:ye(d.totalAmount)}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-400",children:"total"})]})]}),e.jsx(ke,{className:"bg-gray-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold text-white mb-3",children:"Alocação"}),e.jsxs("div",{className:"flex flex-wrap justify-end gap-3 sm:gap-4",children:[e.jsxs("div",{className:"text-center min-w-[120px] flex-1",children:[e.jsx("div",{className:"text-base sm:text-lg font-semibold text-blue-400",children:ye(d.allocatedAmount)}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-400",children:["Alocados (",Math.round(d.allocatedAmount/d.totalAmount*100),"%)"]})]}),e.jsxs("div",{className:"text-center min-w-[120px] flex-1",children:[e.jsx("div",{className:"text-base sm:text-lg font-semibold text-yellow-400",children:ye(d.availableAmount)}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-400",children:"Aguardando alocação"})]}),e.jsxs("div",{className:"text-center min-w-[120px] flex-1",children:[e.jsxs("div",{className:"text-base sm:text-lg font-semibold text-purple-400",children:[d.filledLoans,"/",d.totalLoans]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-400",children:"empréstimos preenchidos"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Progresso de alocação"}),e.jsxs("span",{className:"text-sm font-medium text-white",children:[Math.round(d.allocatedAmount/d.totalAmount*100),"%"]})]}),e.jsx(De,{value:d.allocatedAmount/d.totalAmount*100,className:"h-3 bg-gray-700/50 [&>div]:bg-gradient-to-r [&>div]:from-purple-400 [&>div]:to-blue-400"})]}),e.jsx(ke,{className:"bg-gray-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold text-white mb-3",children:"Performance"}),e.jsxs("div",{className:"flex flex-wrap justify-end gap-3 sm:gap-4",children:[e.jsxs("div",{className:"text-center min-w-[120px] flex-1",children:[e.jsx("div",{className:"text-base sm:text-lg font-semibold text-green-400",children:ye(d.performance.accumulatedReturn)}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-400",children:"Retorno acumulado"})]}),e.jsxs("div",{className:"text-center min-w-[120px] flex-1",children:[e.jsxs("div",{className:"text-base sm:text-lg font-semibold text-blue-400",children:[d.performance.averageRate,"% a.a."]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-400",children:"Taxa média efetiva"})]}),e.jsxs("div",{className:"text-center min-w-[120px] flex-1",children:[e.jsxs("div",{className:"text-base sm:text-lg font-semibold text-purple-400",children:[d.performance.onTimePayments,"%"]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-400",children:"pagamentos em dia"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[e.jsxs(g,{size:"sm",variant:"outline",onClick:()=>{a(d),l("details")},className:"w-full sm:flex-1 border-blue-600 text-[rgba(179,221,255,1)] hover:bg-blue-600/10 bg-[rgba(255,255,255,0.08)]",children:[e.jsx(ss,{className:"w-4 h-4 mr-2"}),"Ver Empréstimos"]}),e.jsxs(g,{size:"sm",variant:"outline",onClick:()=>N(d),className:"w-full sm:flex-1 border-yellow-600 text-yellow-400 hover:bg-yellow-600/10 bg-[rgba(255,255,255,0.08)]",children:[e.jsx(Ha,{className:"w-4 h-4 mr-2"}),"Editar Critérios"]}),d.status==="active"?e.jsxs(g,{size:"sm",variant:"outline",onClick:()=>f("pause",d.id),className:"w-full sm:flex-1 border-orange-600 text-orange-400 hover:bg-orange-600/10 bg-[rgba(255,255,255,0.12)]",children:[e.jsx(Ja,{className:"w-4 h-4 mr-2"}),"Pausar Pool"]}):d.status==="paused"?e.jsxs(g,{size:"sm",variant:"outline",onClick:()=>f("resume",d.id),className:"w-full sm:flex-1 border-green-600 text-green-400 hover:bg-green-600/10",children:[e.jsx(Wa,{className:"w-4 h-4 mr-2"}),"Reativar"]}):null]})]})})},d.id))})]}),T=()=>{if(!t)return null;const d=pr.filter(C=>C.poolId===t.id),v=t.totalLoans-t.filledLoans;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{variant:"outline",size:"sm",onClick:()=>l("list"),className:"border-gray-600",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-white",children:t.name}),e.jsx("p",{className:"text-gray-400",children:"Detalhes dos empréstimos"})]})]}),e.jsx(R,{className:"bg-gradient-to-r from-slate-800 to-slate-900 border-gray-600 p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold text-green-400",children:ye(t.totalAmount)}),e.jsx("p",{className:"text-sm text-gray-400",children:"Capital Total"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold text-blue-400",children:ye(t.allocatedAmount)}),e.jsx("p",{className:"text-sm text-gray-400",children:"Alocado"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-xl font-bold text-yellow-400",children:[t.filledLoans,"/",t.totalLoans]}),e.jsx("p",{className:"text-sm text-gray-400",children:"Empréstimos"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-xl font-bold text-purple-400",children:[t.performance.averageRate,"%"]}),e.jsx("p",{className:"text-sm text-gray-400",children:"Taxa Média"})]})]})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-semibold text-white mb-4",children:["Empréstimos Ativos (",d.length,")"]}),e.jsx("div",{className:"space-y-4",children:d.map(C=>e.jsx(R,{className:"bg-slate-800/50 backdrop-blur-md border-gray-600 p-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500/20 rounded-full flex items-center justify-center",children:e.jsx(Qe,{className:"w-5 h-5 text-blue-400"})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-white",children:["Empréstimo #",C.id.slice(-4)]}),e.jsxs("p",{className:"text-sm text-gray-400",children:[C.borrowerType," - ",C.borrowerProfession," (Score: ",C.score,")"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-semibold text-white",children:ye(C.amount)}),e.jsxs("p",{className:"text-sm text-gray-400",children:[C.term,"x | ",C.rate,"% a.a."]})]})]}),C.collateral&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-500/10 border border-green-500/30 rounded-lg",children:[e.jsx(ee,{className:"w-4 h-4 text-green-400"}),e.jsxs("div",{className:"flex items-center gap-2",children:[m(C.collateral.type),e.jsxs("span",{className:"text-sm text-green-400",children:["Garantia: ",C.collateral.description]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-sm font-medium text-white",children:[C.paidInstallments,"/",C.totalInstallments]}),e.jsx("p",{className:"text-xs text-gray-400",children:"parcelas pagas"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm font-medium text-blue-400",children:new Date(C.nextPaymentDate).toLocaleDateString("pt-BR")}),e.jsx("p",{className:"text-xs text-gray-400",children:"próximo pagamento"})]}),e.jsx("div",{className:"text-center",children:e.jsx(Z,{variant:C.status==="active"?"default":"destructive",className:"text-xs",children:C.status==="active"?"Em dia":"Atrasado"})})]}),e.jsxs("div",{className:"space-y-2 bg-[rgba(0,0,0,0)]",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Progresso"}),e.jsxs("span",{className:"text-white",children:[Math.round(C.paidInstallments/C.totalInstallments*100),"%"]})]}),e.jsx(De,{value:C.paidInstallments/C.totalInstallments*100,className:"h-3 bg-gray-700/50 [&>div]:bg-gradient-to-r [&>div]:from-green-400 [&>div]:to-blue-400"})]})]})},C.id))})]}),v>0&&e.jsx(R,{className:"bg-yellow-500/10 border-yellow-500/30 p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ee,{className:"w-8 h-8 text-yellow-400 mx-auto mb-2"}),e.jsxs("h4",{className:"font-semibold text-white mb-1",children:[v," vagas restantes"]}),e.jsx("p",{className:"text-sm text-gray-400",children:"Aguardando solicitações compatíveis com os critérios da pool"})]})})]})},h=()=>n?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{variant:"outline",size:"sm",onClick:()=>l("list"),className:"border-gray-600",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Editar Pool"}),e.jsx("p",{className:"text-gray-400",children:n.name})]})]}),e.jsx(R,{className:"bg-slate-800/50 backdrop-blur-md border-gray-600 p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(K,{className:"text-white",children:"Nome da Pool"}),e.jsx(V,{value:n.name,onChange:d=>c(v=>v?{...v,name:d.target.value}:null),className:"bg-gray-800 border-gray-600 text-white mt-2"})]}),e.jsxs("div",{children:[e.jsx(K,{className:"text-white",children:"Score Mínimo Aceito"}),e.jsxs("div",{className:"mt-4",children:[e.jsx(Be,{value:[n.criteria.minScore],onValueChange:d=>c(v=>v?{...v,criteria:{...v.criteria,minScore:d[0]}}:null),min:400,max:1e3,step:50,className:"w-full"}),e.jsxs("div",{className:"flex justify-between mt-2",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"400"}),e.jsx("span",{className:"text-white font-medium",children:n.criteria.minScore}),e.jsx("span",{className:"text-sm text-gray-400",children:"1000"})]})]})]}),e.jsxs("div",{children:[e.jsx(K,{className:"text-white",children:"Taxa Mínima de Retorno (% a.a.)"}),e.jsxs("div",{className:"mt-4",children:[e.jsx(Be,{value:[n.criteria.minReturn],onValueChange:d=>c(v=>v?{...v,criteria:{...v.criteria,minReturn:d[0]}}:null),min:12,max:40,step:.5,className:"w-full"}),e.jsxs("div",{className:"flex justify-between mt-2",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"12%"}),e.jsxs("span",{className:"text-white font-medium",children:[n.criteria.minReturn,"% a.a."]}),e.jsx("span",{className:"text-sm text-gray-400",children:"40%"})]})]})]}),e.jsxs("div",{children:[e.jsx(K,{className:"text-white",children:"Prazo Máximo Aceito"}),e.jsx("div",{className:"grid grid-cols-4 gap-3 mt-4",children:[6,12,18,24].map(d=>e.jsxs(g,{variant:n.criteria.maxTerm===d?"default":"outline",onClick:()=>c(v=>v?{...v,criteria:{...v.criteria,maxTerm:d}}:null),className:n.criteria.maxTerm===d?"bg-blue-600 hover:bg-blue-700 text-white border-blue-600":"border-gray-600 text-gray-900 bg-white hover:bg-gray-100 hover:text-gray-900",children:[d," meses"]},d))})]}),e.jsx(R,{className:"bg-yellow-500/10 border-yellow-500/30 p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ee,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-yellow-400 mb-1",children:"Importante"}),e.jsx("p",{className:"text-sm text-gray-300",children:"As alterações afetarão apenas novos empréstimos. Empréstimos já ativos manterão suas condições originais."})]})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(g,{variant:"outline",onClick:()=>l("list"),className:"flex-1 border-gray-600",children:"Cancelar"}),e.jsxs(g,{onClick:u,className:"flex-1 bg-green-600 hover:bg-green-700",children:[e.jsx(G,{className:"w-4 h-4 mr-2"}),"Salvar Alterações"]})]})]})})]}):null;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pb-32",children:[e.jsx("div",{className:"p-6 border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{onClick:s,variant:"outline",size:"sm",className:"border-gray-600",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Gerenciamento de Pools"})]})}),e.jsxs("div",{className:"p-6",children:[i==="list"&&w(),i==="details"&&T(),i==="edit"&&h()]})]})},br=()=>{const{user:s,logout:i}=de(),{balance:l,availableBalance:t,investedBalance:a}=Ms(),o="i1000000-0000-0000-0000-000000000001",{isLoading:r,refresh:n,balance:c,pools:j,directInvestments:b,opportunities:m,performance:f}=rr(o),[N,u]=x.useState("main"),[w,T]=x.useState(""),[h,d]=x.useState(""),[v,C]=x.useState(null),[y,D]=x.useState(!1),[E,p]=x.useState(!1),[P,B]=x.useState("");x.useEffect(()=>{N==="main"&&!r&&n()},[N]);const z=async()=>{p(!0),$.info("Atualizando dados do portfólio...");try{await n(),$.success("Portfólio atualizado!")}catch{$.error("Erro ao atualizar portfólio")}finally{p(!1)}},q=c.total>0?c.total:t.usdc+a.usdc,ie=q*5.015,fe=c.available>0?c.available:t.usdc,J=c.invested>0?c.invested:a.usdc,Ne=m.filter(I=>!h||I.riskLevel===h),O=I=>{C(I),u("analyze-opportunity")};return N==="deposit"?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:[e.jsx(ir,{onBack:()=>u("main"),onComplete:()=>u("main")}),e.jsx(X,{userType:"lender",activeTab:N,onTabChange:u})]}):N==="withdraw"?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:[e.jsx(nr,{onBack:()=>u("main"),onComplete:()=>u("main"),availableBalance:t}),e.jsx(X,{userType:"lender",activeTab:N,onTabChange:u})]}):N==="analyze-opportunity"&&v?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:[e.jsx(dr,{opportunity:v,onBack:()=>u("opportunities"),onInvest:I=>{$.success(`Investimento de ${I.toLocaleString("en-US",{minimumFractionDigits:2})} USDC realizado em ${v.borrower}!`),u("main")},availableBalance:t.usdc}),e.jsx(X,{userType:"lender",activeTab:"opportunities",onTabChange:u})]}):N==="create-pool"?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:[e.jsx(hr,{onBack:()=>u("main"),onComplete:()=>u("main"),availableBalance:t.brl}),e.jsx(X,{userType:"lender",activeTab:"main",onTabChange:u})]}):N==="manage-pool"?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:[e.jsx(gr,{onBack:()=>u("main")}),e.jsx(X,{userType:"lender",activeTab:"main",onTabChange:u})]}):N==="opportunities"?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pb-20",children:[e.jsx("div",{className:"p-6 border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{onClick:()=>u("main"),variant:"outline",size:"sm",className:"border-gray-600",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Oportunidades de Investimento"})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-4 w-fit ml-auto bg-[rgba(28,28,28,0.1)]",children:e.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[e.jsx("div",{className:"min-w-[140px]",children:e.jsxs("select",{value:w,onChange:I=>T(I.target.value),className:"w-full h-10 px-3 rounded-md bg-gray-800/50 border border-gray-600 text-white text-sm focus:outline-none focus:ring-2 focus:ring-green-500/50 focus:border-green-500",children:[e.jsx("option",{value:"",children:"Todos os tipos"}),e.jsx("option",{value:"clt",children:"CLT"}),e.jsx("option",{value:"autonomo",children:"Autônomo"}),e.jsx("option",{value:"empresa",children:"Empresa"})]})}),e.jsx("div",{className:"min-w-[140px]",children:e.jsxs("select",{value:h,onChange:I=>d(I.target.value),className:"w-full h-10 px-3 rounded-md bg-gray-800/50 border border-gray-600 text-white text-sm focus:outline-none focus:ring-2 focus:ring-green-500/50 focus:border-green-500",children:[e.jsx("option",{value:"",children:"Todos os riscos"}),e.jsx("option",{value:"low",children:"Baixo risco"}),e.jsx("option",{value:"medium",children:"Médio risco"}),e.jsx("option",{value:"high",children:"Alto risco"})]})})]})}),e.jsx("div",{className:"space-y-4",children:Ne.map(I=>e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("div",{children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold",children:I.borrower.charAt(0)})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold",children:I.borrower}),e.jsx("p",{className:"text-gray-400 text-sm",children:I.purpose})]})]})}),e.jsx(Z,{className:I.riskLevel==="low"?"bg-green-500/20 text-green-400":I.riskLevel==="medium"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400",children:I.riskLevel==="low"?"Baixo Risco":I.riskLevel==="medium"?"Médio Risco":"Alto Risco"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Valor"}),e.jsxs("p",{className:"text-white font-semibold",children:["R$ ",I.amount.toLocaleString("pt-BR")]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Taxa"}),e.jsxs("p",{className:"text-green-400 font-semibold",children:[I.rate,"% a.a."]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Prazo"}),e.jsxs("p",{className:"text-white font-semibold",children:[I.term," meses"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Score"}),e.jsx("p",{className:"text-blue-400 font-semibold",children:I.score})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(g,{onClick:()=>O(I),className:"bg-green-600 hover:bg-green-700",children:"Analisar Oportunidade"})})]},I.id))})]}),e.jsx(X,{userType:"lender",activeTab:N,onTabChange:u})]}):N==="marketplace"?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pb-20",children:[e.jsx("div",{className:"p-6 border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{onClick:()=>u("main"),variant:"outline",size:"sm",className:"border-gray-600",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Marketplace de Pools"})]})}),e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-blue-500/20 rounded-full flex items-center justify-center",children:e.jsx(pe,{className:"w-8 h-8 text-blue-400"})}),e.jsx("h3",{className:"text-white font-semibold mb-2",children:"Explore Pools de Investimento"}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Encontre pools compatíveis com seu perfil de investimento"}),e.jsx(g,{className:"bg-blue-600 hover:bg-blue-700",onClick:()=>$.info("Funcionalidade em desenvolvimento"),children:"Em breve"})]})}),e.jsx(X,{userType:"lender",activeTab:N,onTabChange:u})]}):e.jsxs(e.Fragment,{children:[y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsx(k.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-gray-800 rounded-2xl p-6 max-w-sm w-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-500/20 rounded-full flex items-center justify-center",children:e.jsx(Ie,{className:"w-8 h-8 text-red-500"})}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Fazer logout?"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Você será redirecionado para a tela de login."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(g,{variant:"outline",onClick:()=>D(!1),className:"flex-1 border-gray-600 text-gray-300 hover:bg-gray-700 bg-[rgba(61,61,61,1)]",children:"Cancelar"}),e.jsxs(g,{onClick:()=>{localStorage.removeItem("portfolio_data"),localStorage.removeItem("auth_token"),localStorage.removeItem("user_data"),i(),D(!1),$.success("Logout realizado com sucesso!"),window.location.href="/"},className:"flex-1 bg-red-600 hover:bg-red-700 text-white border-red-600",children:[e.jsx(Ie,{className:"w-4 h-4 mr-2"}),"Sair"]})]})]})})}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pb-20",children:[e.jsx("div",{className:"p-6 border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-3 mb-1",children:e.jsxs("h1",{className:"text-2xl font-bold text-white",children:["Olá, ",s?.name?.split(" ")[0],"! 👋"]})}),e.jsx("p",{className:"text-gray-400",children:"Dashboard de investimentos"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(g,{variant:"ghost",size:"sm",onClick:z,disabled:E,className:"w-10 h-10 rounded-full bg-gray-800/50 border border-gray-600 hover:border-blue-500 transition-colors",children:e.jsx(Ya,{className:`w-4 h-4 text-blue-400 ${E?"animate-spin":""}`})}),e.jsx(g,{variant:"ghost",size:"sm",onClick:()=>D(!0),className:"w-10 h-10 rounded-full bg-gray-800/50 border border-gray-600 hover:border-red-500 transition-colors",children:e.jsx(Ie,{className:"w-4 h-4 text-red-500"})})]})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},children:e.jsxs(R,{className:"backdrop-blur-md bg-gradient-to-r from-blue-500/20 to-purple-500/20 border-blue-500/30 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Je,{className:"w-6 h-6 text-blue-400"}),e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Patrimônio Total"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-3xl font-bold text-white",children:[q.toLocaleString("pt-BR",{minimumFractionDigits:2})," USDC"]}),e.jsxs("p",{className:"text-gray-300 text-lg",children:["≈ R$ ",ie.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Disponível"}),e.jsxs("p",{className:"text-green-400 font-semibold",children:[r?"...":fe.toLocaleString("pt-BR",{minimumFractionDigits:2})," USDC"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Investido"}),e.jsxs("p",{className:"text-blue-400 font-semibold",children:[r?"...":J.toLocaleString("pt-BR",{minimumFractionDigits:2})," USDC"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[e.jsxs(g,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-xs md:text-sm",onClick:()=>u("deposit"),children:[e.jsx(ze,{className:"w-4 h-4 mr-1"}),"Receber"]}),e.jsxs(g,{size:"sm",variant:"outline",className:"border-gray-600 bg-transparent text-white hover:bg-gray-700 hover:text-white text-xs md:text-sm",onClick:()=>u("withdraw"),children:[e.jsx(Fe,{className:"w-4 h-4 mr-1"}),"Enviar"]}),e.jsxs(g,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-xs md:text-sm",onClick:()=>u("opportunities"),children:[e.jsx(Te,{className:"w-4 h-4 mr-1"}),"Investir"]}),e.jsxs(g,{size:"sm",className:"bg-purple-600 hover:bg-purple-700 text-xs md:text-sm",onClick:()=>u("create-pool"),children:[e.jsx(pe,{className:"w-4 h-4 mr-1"}),"Criar Pool"]})]})]})]})}),e.jsx(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Za,{className:"w-6 h-6 text-green-400"}),e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Performance"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-400",children:r?"...":`+${(f.total_received/f.total_invested*100||0).toFixed(1)}%`}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Rendimento (12m)"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-400",children:r?"...":f.active_loans}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Ativos Ativos"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-400",children:r?"...":`${f.average_rate.toFixed(1)}%`}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Taxa Média"})]})]})]})}),e.jsx(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(pe,{className:"w-6 h-6 text-purple-400"}),e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Minhas Pools"})]}),e.jsxs(g,{size:"sm",className:"bg-purple-600 hover:bg-purple-700",onClick:()=>u("create-pool"),children:[e.jsx(ze,{className:"w-4 h-4 mr-1"}),"Nova Pool"]})]}),e.jsx("div",{className:"space-y-3",children:r?e.jsx("div",{className:"text-center py-4 text-gray-400",children:"Carregando pools..."}):j.length===0?e.jsx("div",{className:"text-center py-4 text-gray-400",children:"Você ainda não possui pools"}):j.map(I=>e.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold",children:I.name}),e.jsxs("p",{className:"text-gray-400 text-sm",children:[I.totalCapital.toLocaleString("pt-BR",{minimumFractionDigits:2})," USDC de capital"]})]}),e.jsx(Z,{className:I.status==="active"?"bg-green-500/20 text-green-400":I.status==="funding"?"bg-blue-500/20 text-blue-400":"bg-gray-500/20 text-gray-400",children:I.status==="active"?"Ativa":I.status==="funding"?"Captando":"Encerrada"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Alocado"}),e.jsxs("p",{className:"text-white",children:[I.allocated.toLocaleString("pt-BR",{minimumFractionDigits:2})," USDC (",Math.round(I.allocated/I.totalCapital*100),"%)"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400",children:"Empréstimos"}),e.jsxs("p",{className:"text-white",children:[I.loans,"/",I.maxLoans]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-green-400 font-semibold",children:["+",I.averageReturn.toFixed(1),"% a.a."]}),e.jsx(g,{size:"sm",variant:"outline",className:"border-blue-600 text-white bg-transparent hover:bg-blue-600/10",onClick:()=>u("manage-pool"),children:"Gerenciar"})]})]},I.id))})]})}),e.jsx(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},children:e.jsxs(R,{className:"backdrop-blur-md bg-white/10 border-white/20 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ve,{className:"w-6 h-6 text-yellow-400"}),e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Investimentos Diretos"})]})}),e.jsx("div",{className:"space-y-3",children:r?e.jsx("div",{className:"text-center py-4 text-gray-400",children:"Carregando investimentos..."}):b.length===0?e.jsx("div",{className:"text-center py-4 text-gray-400",children:"Você ainda não possui investimentos diretos"}):b.map(I=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/30 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-semibold",children:I.borrower.charAt(0)})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white text-sm font-semibold",children:I.borrower}),e.jsxs("p",{className:"text-gray-400 text-xs",children:[I.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})," USDC • ",I.return.toFixed(1),"% a.a."]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(Z,{className:"bg-green-500/20 text-green-400 mb-1",children:I.status==="active"?"Ativo":I.status}),I.nextPayment&&e.jsxs("p",{className:"text-gray-400 text-xs",children:["Próximo: ",new Date(I.nextPayment).toLocaleDateString("pt-BR")]})]})]},I.id))})]})}),e.jsx(k.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5}})]}),e.jsx(X,{userType:"lender",activeTab:N,onTabChange:u})]})]})},jr=({...s})=>{const{theme:i="system"}=et();return e.jsx(st,{theme:i,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...s})},fr=()=>{const[s,i]=x.useState("splash"),{user:l,isLoading:t}=de();if(x.useEffect(()=>{t||l&&i("dashboard")},[l,t,s]),t)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-green-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-white",children:"Carregando..."})]})});switch(s){case"splash":return e.jsx(tt,{onComplete:()=>i("welcome")});case"welcome":return e.jsx(rt,{onGetStarted:()=>i("onboarding"),onLogin:()=>i("login")});case"login":return e.jsx(dt,{onBack:()=>i("welcome"),onSuccess:()=>i("dashboard"),onForgotPassword:()=>{console.log("Forgot password flow")}});case"onboarding":return e.jsx(jt,{onBack:()=>i("welcome"),onComplete:()=>i("dashboard")});case"dashboard":return l?e.jsx(Dt,{children:l.profileType==="borrower"?e.jsx(tr,{}):e.jsx(br,{})}):(i("welcome"),null);default:return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Estado inválido"}),e.jsx("button",{onClick:()=>i("welcome"),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-xl transition-colors",children:"Voltar ao início"})]})})}},Nr=()=>e.jsx(it,{children:e.jsx(lt,{children:e.jsxs("div",{className:"font-sans antialiased",children:[e.jsx(fr,{}),e.jsx(jr,{position:"top-center",expand:!0,richColors:!0,closeButton:!0})]})})});at.createRoot(document.getElementById("root")).render(e.jsx(Nr,{}));
